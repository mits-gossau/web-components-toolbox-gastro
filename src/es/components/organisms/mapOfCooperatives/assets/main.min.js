var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _this=this;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step("next",value);},function(err){step("throw",err);});}}return step("next");});};}/*!
 * Bootstrap v3.4.1 (https://getbootstrap.com/)
 * Copyright 2011-2019 Twitter, Inc.
 * Licensed under the MIT license
 */if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||3<t[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4");}(),function(n){"use strict";n.fn.emulateTransitionEnd=function(t){var e=!1,i=this;return n(this).one("bsTransitionEnd",function(){e=!0;}),setTimeout(function(){e||n(i).trigger(n.support.transition.end);},t),this;},n(function(){n.support.transition=function(){var t,e=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in i){if(void 0!==e.style[t])return{end:i[t]};}return!1;}(),n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function handle(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments);}});});}(jQuery),function(o){"use strict";function X(t){o(t).on("click",e,this.close);}var e='[data-dismiss="alert"]',t=(X.VERSION="3.4.1",X.TRANSITION_DURATION=150,X.prototype.close=function(t){var e=o(this),i=e.attr("data-target"),s=(i="#"===(i=i||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""))?[]:i,o(document).find(i));function n(){s.detach().trigger("closed.bs.alert").remove();}t&&t.preventDefault(),(s=s.length?s:e.closest(".alert")).trigger(t=o.Event("close.bs.alert")),t.isDefaultPrevented()||(s.removeClass("in"),o.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(X.TRANSITION_DURATION):n());},o.fn.alert);o.fn.alert=function(i){return this.each(function(){var t=o(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new X(this)),"string"==typeof i&&e[i].call(t);});},o.fn.alert.Constructor=X,o.fn.alert.noConflict=function(){return o.fn.alert=t,this;},o(document).on("click.bs.alert.data-api",e,X.prototype.close);}(jQuery),function(o){"use strict";function ja(t,e){this.$element=o(t),this.options=o.extend({},ja.DEFAULTS,e),this.isLoading=!1;}function i(i){return this.each(function(){var t=o(this),e=t.data("bs.button");e||t.data("bs.button",e=new ja(this,"object"==(typeof i==="undefined"?"undefined":_typeof(i))&&i)),"toggle"==i?e.toggle():i&&e.setState(i);});}ja.VERSION="3.4.1",ja.DEFAULTS={loadingText:"loading..."},ja.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.is("input")?"val":"html",s=i.data();t+="Text",null==s.resetText&&i.data("resetText",i[n]()),setTimeout(o.proxy(function(){i[n]((null==s[t]?this.options:s)[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(e).removeAttr(e).prop(e,!1));},this),0);},ja.prototype.toggle=function(){var t,e=!0,i=this.$element.closest('[data-toggle="buttons"]');i.length?("radio"==(t=this.$element.find("input")).prop("type")?(t.prop("checked")&&(e=!1),i.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==t.prop("type")&&(t.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),t.prop("checked",this.$element.hasClass("active")),e&&t.trigger("change")):(this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active"));};var t=o.fn.button;o.fn.button=i,o.fn.button.Constructor=ja,o.fn.button.noConflict=function(){return o.fn.button=t,this;},o(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=o(t.target).closest(".btn");i.call(e,"toggle"),o(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),(e.is("input,button")?e:e.find("input:visible,button:visible").first()).trigger("focus"));}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){o(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type));});}(jQuery),function(h){"use strict";function Da(t,e){this.$element=h(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",h.proxy(this.keydown,this)),"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",h.proxy(this.pause,this)).on("mouseleave.bs.carousel",h.proxy(this.cycle,this));}function r(s){return this.each(function(){var t=h(this),e=t.data("bs.carousel"),i=h.extend({},Da.DEFAULTS,t.data(),"object"==(typeof s==="undefined"?"undefined":_typeof(s))&&s),n="string"==typeof s?s:i.slide;e||t.data("bs.carousel",e=new Da(this,i)),"number"==typeof s?e.to(s):n?e[n]():i.interval&&e.pause().cycle();});}Da.VERSION="3.4.1",Da.TRANSITION_DURATION=600,Da.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},Da.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return;}t.preventDefault();}},Da.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(h.proxy(this.next,this),this.options.interval)),this;},Da.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active);},Da.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;e=(i+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(e);},Da.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t);}):i==t?this.pause().cycle():this.slide(i<t?"next":"prev",this.$items.eq(t));},Da.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&h.support.transition&&(this.$element.trigger(h.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this;},Da.prototype.next=function(){if(!this.sliding)return this.slide("next");},Da.prototype.prev=function(){if(!this.sliding)return this.slide("prev");},Da.prototype.slide=function(t,e){var i=this.$element.find(".item.active"),n=e||this.getItemForDirection(t,i),e=this.interval,s="next"==t?"left":"right",o=this;if(n.hasClass("active"))return this.sliding=!1;var a,r=n[0],l=h.Event("slide.bs.carousel",{relatedTarget:r,direction:s});return this.$element.trigger(l),l.isDefaultPrevented()?void 0:(this.sliding=!0,e&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),(l=h(this.$indicators.children()[this.getItemIndex(n)]))&&l.addClass("active")),a=h.Event("slid.bs.carousel",{relatedTarget:r,direction:s}),h.support.transition&&this.$element.hasClass("slide")?(n.addClass(t),"object"==(typeof n==="undefined"?"undefined":_typeof(n))&&n.length&&n[0].offsetWidth,i.addClass(s),n.addClass(s),i.one("bsTransitionEnd",function(){n.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),o.sliding=!1,setTimeout(function(){o.$element.trigger(a);},0);}).emulateTransitionEnd(Da.TRANSITION_DURATION)):(i.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger(a)),e&&this.cycle(),this);};function Fa(t){var e,i=h(this),n=(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),n=i.attr("data-target")||n;(n=h(document).find(n)).hasClass("carousel")&&(e=h.extend({},n.data(),i.data()),(i=i.attr("data-slide-to"))&&(e.interval=!1),r.call(n,e),i&&n.data("bs.carousel").to(i),t.preventDefault());}var t=h.fn.carousel;h.fn.carousel=r,h.fn.carousel.Constructor=Da,h.fn.carousel.noConflict=function(){return h.fn.carousel=t,this;};h(document).on("click.bs.carousel.data-api","[data-slide]",Fa).on("click.bs.carousel.data-api","[data-slide-to]",Fa),h(window).on("load",function(){h('[data-ride="carousel"]').each(function(){var t=h(this);r.call(t,t.data());});});}(jQuery),function(s){"use strict";function q0(t,e){this.$element=s(t),this.options=s.extend({},q0.DEFAULTS,e),this.$trigger=s('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle();}function n(t){t=t.attr("data-target")||(t=t.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,"");return s(document).find(t);}function l(n){return this.each(function(){var t=s(this),e=t.data("bs.collapse"),i=s.extend({},q0.DEFAULTS,t.data(),"object"==(typeof n==="undefined"?"undefined":_typeof(n))&&n);!e&&i.toggle&&/show|hide/.test(n)&&(i.toggle=!1),e||t.data("bs.collapse",e=new q0(this,i)),"string"==typeof n&&e[n]();});}q0.VERSION="3.4.1",q0.TRANSITION_DURATION=350,q0.DEFAULTS={toggle:!0},q0.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height";},q0.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(t&&t.length&&(n=t.data("bs.collapse"))&&n.transitioning)){var e=s.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){t&&t.length&&(l.call(t,"hide"),n||t.data("bs.collapse",null));var i=this.dimension(),e=(this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse");});if(!s.support.transition)return e.call(this);var n=s.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",s.proxy(e,this)).emulateTransitionEnd(q0.TRANSITION_DURATION)[i](this.$element[0][n]);}}}},q0.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=s.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var t=this.dimension(),e=(this.$element[t](this.$element[t]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse");});if(!s.support.transition)return e.call(this);this.$element[t](0).one("bsTransitionEnd",s.proxy(e,this)).emulateTransitionEnd(q0.TRANSITION_DURATION);}}},q0.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]();},q0.prototype.getParent=function(){return s(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(s.proxy(function(t,e){e=s(e);this.addAriaAndCollapsedClass(n(e),e);},this)).end();},q0.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i);};var t=s.fn.collapse;s.fn.collapse=l,s.fn.collapse.Constructor=q0,s.fn.collapse.noConflict=function(){return s.fn.collapse=t,this;},s(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=s(this),t=(e.attr("data-target")||t.preventDefault(),n(e)),e=t.data("bs.collapse")?"toggle":e.data();l.call(t,e);});}(jQuery),function(o){"use strict";function W0(t){o(t).on("click.bs.dropdown",this.toggle);}var a='[data-toggle="dropdown"]';function l(t){var e=t.attr("data-target"),e="#"!==(e=e||(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""))?o(document).find(e):null;return e&&e.length?e:t.parent();}function s(n){n&&3===n.which||(o(".dropdown-backdrop").remove(),o(a).each(function(){var t=o(this),e=l(t),i={relatedTarget:this};!e.hasClass("open")||n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&o.contains(e[0],n.target)||(e.trigger(n=o.Event("hide.bs.dropdown",i)),n.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(o.Event("hidden.bs.dropdown",i))));}));}W0.VERSION="3.4.1",W0.prototype.toggle=function(t){var e=o(this);if(!e.is(".disabled, :disabled")){var i=l(e),n=i.hasClass("open");if(s(),!n){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&o(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(o(this)).on("click",s);n={relatedTarget:this};if(i.trigger(t=o.Event("show.bs.dropdown",n)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger(o.Event("shown.bs.dropdown",n));}return!1;}},W0.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=o(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var i=l(e),n=i.hasClass("open");if(!n&&27!=t.which||n&&27==t.which)return 27==t.which&&i.find(a).trigger("focus"),e.trigger("click");n=i.find(".dropdown-menu li:not(.disabled):visible a");n.length&&(e=n.index(t.target),38==t.which&&0<e&&e--,40==t.which&&e<n.length-1&&e++,n.eq(e=~e?e:0).trigger("focus"));}}};var t=o.fn.dropdown;o.fn.dropdown=function(i){return this.each(function(){var t=o(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new W0(this)),"string"==typeof i&&e[i].call(t);});},o.fn.dropdown.Constructor=W0,o.fn.dropdown.noConflict=function(){return o.fn.dropdown=t,this;},o(document).on("click.bs.dropdown.data-api",s).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation();}).on("click.bs.dropdown.data-api",a,W0.prototype.toggle).on("keydown.bs.dropdown.data-api",a,W0.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",W0.prototype.keydown);}(jQuery),function(o){"use strict";function ub(t,e){this.options=e,this.$body=o(document.body),this.$element=o(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,o.proxy(function(){this.$element.trigger("loaded.bs.modal");},this));}function r(n,s){return this.each(function(){var t=o(this),e=t.data("bs.modal"),i=o.extend({},ub.DEFAULTS,t.data(),"object"==(typeof n==="undefined"?"undefined":_typeof(n))&&n);e||t.data("bs.modal",e=new ub(this,i)),"string"==typeof n?e[n](s):i.show&&e.show(s);});}ub.VERSION="3.4.1",ub.TRANSITION_DURATION=300,ub.BACKDROP_TRANSITION_DURATION=150,ub.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},ub.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t);},ub.prototype.show=function(i){var n=this,t=o.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',o.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){o(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0);});}),this.backdrop(function(){var t=o.support.transition&&n.$element.hasClass("fade"),e=(n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),t&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus(),o.Event("shown.bs.modal",{relatedTarget:i}));t?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(e);}).emulateTransitionEnd(ub.TRANSITION_DURATION):n.$element.trigger("focus").trigger(e);}));},ub.prototype.hide=function(t){t&&t.preventDefault(),t=o.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),o(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),o.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",o.proxy(this.hideModal,this)).emulateTransitionEnd(ub.TRANSITION_DURATION):this.hideModal());},ub.prototype.enforceFocus=function(){o(document).off("focusin.bs.modal").on("focusin.bs.modal",o.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus");},this));},ub.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",o.proxy(function(t){27==t.which&&this.hide();},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal");},ub.prototype.resize=function(){this.isShown?o(window).on("resize.bs.modal",o.proxy(this.handleUpdate,this)):o(window).off("resize.bs.modal");},ub.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal");});},ub.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null;},ub.prototype.backdrop=function(t){var e,i=this,n=this.$element.hasClass("fade")?"fade":"";this.isShown&&this.options.backdrop?(e=o.support.transition&&n,this.$backdrop=o(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",o.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide());},this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),t&&(e?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(ub.BACKDROP_TRANSITION_DURATION):t())):!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),n=function n(){i.removeBackdrop(),t&&t();},o.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(ub.BACKDROP_TRANSITION_DURATION):n()):t&&t();},ub.prototype.handleUpdate=function(){this.adjustDialog();},ub.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""});},ub.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""});},ub.prototype.checkScrollbar=function(){var t,e=window.innerWidth;e||(e=(t=document.documentElement.getBoundingClientRect()).right-Math.abs(t.left)),this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar();},ub.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10),s=(this.originalBodyPad=document.body.style.paddingRight||"",this.scrollbarWidth);this.bodyIsOverflowing&&(this.$body.css("padding-right",t+s),o(this.fixedContent).each(function(t,e){var i=e.style.paddingRight,n=o(e).css("padding-right");o(e).data("padding-right",i).css("padding-right",parseFloat(n)+s+"px");}));},ub.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),o(this.fixedContent).each(function(t,e){var i=o(e).data("padding-right");o(e).removeData("padding-right"),e.style.paddingRight=i||"";});},ub.prototype.measureScrollbar=function(){var t=document.createElement("div"),e=(t.className="modal-scrollbar-measure",this.$body.append(t),t.offsetWidth-t.clientWidth);return this.$body[0].removeChild(t),e;};var t=o.fn.modal;o.fn.modal=r,o.fn.modal.Constructor=ub,o.fn.modal.noConflict=function(){return o.fn.modal=t,this;},o(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=o(this),i=e.attr("href"),n=e.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,""),s=o(document).find(n),n=s.data("bs.modal")?"toggle":o.extend({remote:!/#/.test(i)&&i},s.data(),e.data());e.is("a")&&t.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus");});}),r.call(s,n,this);});}(jQuery),function(p){"use strict";var s=["sanitize","whiteList","sanitizeFn"],f=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],m=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,g=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function n(t,e,i){if(0===t.length)return t;if(i&&"function"==typeof i)return i(t);if(!document.implementation||!document.implementation.createHTMLDocument)return t;i=document.implementation.createHTMLDocument("sanitization");i.body.innerHTML=t;for(var n=p.map(e,function(t,e){return e;}),s=p(i.body).find("*"),o=0,a=s.length;o<a;o++){var r=s[o],l=r.nodeName.toLowerCase();if(-1!==p.inArray(l,n))for(var h=p.map(r.attributes,function(t){return t;}),c=[].concat(e["*"]||[],e[l]||[]),u=0,d=h.length;u<d;u++){!function(t,e){var i=t.nodeName.toLowerCase();if(-1!==p.inArray(i,e))return-1===p.inArray(i,f)||Boolean(t.nodeValue.match(m)||t.nodeValue.match(g));for(var n=p(e).filter(function(t,e){return e instanceof RegExp;}),s=0,o=n.length;s<o;s++){if(i.match(n[s]))return 1;}}(h[u],c)&&r.removeAttribute(h[u].nodeName);}else r.parentNode.removeChild(r);}return i.body.innerHTML;}function t1(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e);}t1.VERSION="3.4.1",t1.TRANSITION_DURATION=150,t1.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},t1.prototype.init=function(t,e,i){if(this.enabled=!0,this.type=t,this.$element=p(e),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&p(document).find(p.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),s=n.length;s--;){var o,a=n[s];"click"==a?this.$element.on("click."+this.type,this.options.selector,p.proxy(this.toggle,this)):"manual"!=a&&(o="hover"==a?"mouseleave":"focusout",this.$element.on(("hover"==a?"mouseenter":"focusin")+"."+this.type,this.options.selector,p.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,p.proxy(this.leave,this)));}this.options.selector?this._options=p.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle();},t1.prototype.getDefaults=function(){return t1.DEFAULTS;},t1.prototype.getOptions=function(t){var e,i=this.$element.data();for(e in i){i.hasOwnProperty(e)&&-1!==p.inArray(e,s)&&delete i[e];}return(t=p.extend({},this.getDefaults(),i,t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t.sanitize&&(t.template=n(t.template,t.whiteList,t.sanitizeFn)),t;},t1.prototype.getDelegateOptions=function(){var i={},n=this.getDefaults();return this._options&&p.each(this._options,function(t,e){n[t]!=e&&(i[t]=e);}),i;},t1.prototype.enter=function(t){var e=t instanceof this.constructor?t:p(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),p(t.currentTarget).data("bs."+this.type,e)),t instanceof p.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState)e.hoverState="in";else{if(clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show();},e.options.delay.show);}},t1.prototype.isInStateTrue=function(){for(var t in this.inState){if(this.inState[t])return!0;}return!1;},t1.prototype.leave=function(t){var e=t instanceof this.constructor?t:p(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),p(t.currentTarget).data("bs."+this.type,e)),t instanceof p.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue()){if(clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide();},e.options.delay.hide);}},t1.prototype.show=function(){var e,t,i,n,s,o,a,r=p.Event("show.bs."+this.type);this.hasContent()&&this.enabled&&(this.$element.trigger(r),s=p.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),!r.isDefaultPrevented()&&s&&(r=(e=this).tip(),s=this.getUID(this.type),this.setContent(),r.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&r.addClass("fade"),s="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,(a=(t=/\s?auto?\s?/i).test(s))&&(s=s.replace(t,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?r.appendTo(p(document).find(this.options.container)):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type),t=this.getPosition(),i=r[0].offsetWidth,n=r[0].offsetHeight,a&&(a=s,o=this.getPosition(this.$viewport),s="bottom"==s&&t.bottom+n>o.bottom?"top":"top"==s&&t.top-n<o.top?"bottom":"right"==s&&t.right+i>o.width?"left":"left"==s&&t.left-i<o.left?"right":s,r.removeClass(a).addClass(s)),o=this.getCalculatedOffset(s,t,i,n),this.applyPlacement(o,s),a=function a(){var t=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==t&&e.leave(e);},p.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",a).emulateTransitionEnd(t1.TRANSITION_DURATION):a()));},t1.prototype.applyPlacement=function(t,e){var i=this.tip(),n=i[0].offsetWidth,s=i[0].offsetHeight,o=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10),o=(isNaN(o)&&(o=0),isNaN(a)&&(a=0),t.top+=o,t.left+=a,p.offset.setOffset(i[0],p.extend({using:function using(t){i.css({top:Math.round(t.top),left:Math.round(t.left)});}},t),0),i.addClass("in"),i[0].offsetWidth),a=i[0].offsetHeight,r=("top"==e&&a!=s&&(t.top=t.top+s-a),this.getViewportAdjustedDelta(e,t,o,a)),e=(r.left?t.left+=r.left:t.top+=r.top,/top|bottom/.test(e)),n=e?2*r.left-n+o:2*r.top-s+a,o=e?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(n,i[0][o],e);},t1.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","");},t1.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();this.options.html?(this.options.sanitize&&(e=n(e,this.options.whiteList,this.options.sanitizeFn)),t.find(".tooltip-inner").html(e)):t.find(".tooltip-inner").text(e),t.removeClass("fade in top bottom left right");},t1.prototype.hide=function(t){var e=this,i=p(this.$tip),s=p.Event("hide.bs."+this.type);function n(){"in"!=e.hoverState&&i.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),t&&t();}if(this.$element.trigger(s),!s.isDefaultPrevented())return i.removeClass("in"),p.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",n).emulateTransitionEnd(t1.TRANSITION_DURATION):n(),this.hoverState=null,this;},t1.prototype.fixTitle=function(){var t=this.$element;!t.attr("title")&&"string"==typeof t.attr("data-original-title")||t.attr("data-original-title",t.attr("title")||"").attr("title","");},t1.prototype.hasContent=function(){return this.getTitle();},t1.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],i="BODY"==e.tagName,n=e.getBoundingClientRect(),e=(null==n.width&&(n=p.extend({},n,{width:n.right-n.left,height:n.bottom-n.top})),window.SVGElement&&e instanceof window.SVGElement),e=i?{top:0,left:0}:e?null:t.offset(),t={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},i=i?{width:p(window).width(),height:p(window).height()}:null;return p.extend({},n,t,i,e);},t1.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width};},t1.prototype.getViewportAdjustedDelta=function(t,e,i,n){var s={top:0,left:0};if(!this.$viewport)return s;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);return /right|left/.test(t)?(t=e.top-o-a.scroll,n=e.top+o-a.scroll+n,t<a.top?s.top=a.top-t:n>a.top+a.height&&(s.top=a.top+a.height-n)):(t=e.left-o,n=e.left+o+i,t<a.left?s.left=a.left-t:n>a.right&&(s.left=a.left+a.width-n)),s;},t1.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title);},t1.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t);){}return t;},t1.prototype.tip=function(){if(this.$tip||(this.$tip=p(this.options.template),1==this.$tip.length))return this.$tip;throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");},t1.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow");},t1.prototype.enable=function(){this.enabled=!0;},t1.prototype.disable=function(){this.enabled=!1;},t1.prototype.toggleEnabled=function(){this.enabled=!this.enabled;},t1.prototype.toggle=function(t){var e=this;t&&!(e=p(t.currentTarget).data("bs."+this.type))&&(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),p(t.currentTarget).data("bs."+this.type,e)),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e);},t1.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null;});},t1.prototype.sanitizeHtml=function(t){return n(t,this.options.whiteList,this.options.sanitizeFn);};var t=p.fn.tooltip;p.fn.tooltip=function(n){return this.each(function(){var t=p(this),e=t.data("bs.tooltip"),i="object"==(typeof n==="undefined"?"undefined":_typeof(n))&&n;!e&&/destroy|hide/.test(n)||(e||t.data("bs.tooltip",e=new t1(this,i)),"string"==typeof n&&e[n]());});},p.fn.tooltip.Constructor=t1,p.fn.tooltip.noConflict=function(){return p.fn.tooltip=t,this;};}(jQuery),function(s){"use strict";function J2(t,e){this.init("popover",t,e);}if(!s.fn.tooltip)throw new Error("Popover requires tooltip.js");J2.VERSION="3.4.1",J2.DEFAULTS=s.extend({},s.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((J2.prototype=s.extend({},s.fn.tooltip.Constructor.prototype)).constructor=J2).prototype.getDefaults=function(){return J2.DEFAULTS;},J2.prototype.setContent=function(){var t,e=this.tip(),i=this.getTitle(),n=this.getContent();this.options.html?(t=typeof n==="undefined"?"undefined":_typeof(n),this.options.sanitize&&(i=this.sanitizeHtml(i),"string"==t&&(n=this.sanitizeHtml(n))),e.find(".popover-title").html(i),e.find(".popover-content").children().detach().end()["string"==t?"html":"append"](n)):(e.find(".popover-title").text(i),e.find(".popover-content").children().detach().end().text(n)),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide();},J2.prototype.hasContent=function(){return this.getTitle()||this.getContent();},J2.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content);},J2.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow");};var t=s.fn.popover;s.fn.popover=function(n){return this.each(function(){var t=s(this),e=t.data("bs.popover"),i="object"==(typeof n==="undefined"?"undefined":_typeof(n))&&n;!e&&/destroy|hide/.test(n)||(e||t.data("bs.popover",e=new J2(this,i)),"string"==typeof n&&e[n]());});},s.fn.popover.Constructor=J2,s.fn.popover.noConflict=function(){return s.fn.popover=t,this;};}(jQuery),function(s){"use strict";function n(t,e){this.$body=s(document.body),this.$scrollElement=s(t).is(document.body)?s(window):s(t),this.options=s.extend({},n.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",s.proxy(this.process,this)),this.refresh(),this.process();}function e(i){return this.each(function(){var t=s(this),e=t.data("bs.scrollspy");e||t.data("bs.scrollspy",e=new n(this,"object"==(typeof i==="undefined"?"undefined":_typeof(i))&&i)),"string"==typeof i&&e[i]();});}n.VERSION="3.4.1",n.DEFAULTS={offset:10},n.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight);},n.prototype.refresh=function(){var t=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),s.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=s(this),t=t.data("target")||t.attr("href"),e=/^#./.test(t)&&s(t);return e&&e.length&&e.is(":visible")?[[e[i]().top+n,t]]:null;}).sort(function(t,e){return t[0]-e[0];}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1]);});},n.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),s=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),n<=e)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<s[0])return this.activeTarget=null,this.clear();for(t=s.length;t--;){a!=o[t]&&e>=s[t]&&(void 0===s[t+1]||e<s[t+1])&&this.activate(o[t]);}},n.prototype.activate=function(t){this.activeTarget=t,this.clear();t=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',t=s(t).parents("li").addClass("active");(t=t.parent(".dropdown-menu").length?t.closest("li.dropdown").addClass("active"):t).trigger("activate.bs.scrollspy");},n.prototype.clear=function(){s(this.selector).parentsUntil(this.options.target,".active").removeClass("active");};var t=s.fn.scrollspy;s.fn.scrollspy=e,s.fn.scrollspy.Constructor=n,s.fn.scrollspy.noConflict=function(){return s.fn.scrollspy=t,this;},s(window).on("load.bs.scrollspy.data-api",function(){s('[data-spy="scroll"]').each(function(){var t=s(this);e.call(t,t.data());});});}(jQuery),function(a){"use strict";function xd(t){this.element=a(t);}function e(i){return this.each(function(){var t=a(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new xd(this)),"string"==typeof i&&e[i]();});}xd.VERSION="3.4.1",xd.TRANSITION_DURATION=150,xd.prototype.show=function(){var t,e,i,n=this.element,s=n.closest("ul:not(.dropdown-menu)"),o=(o=n.data("target"))||(o=n.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,"");n.parent("li").hasClass("active")||(t=s.find(".active:last a"),e=a.Event("hide.bs.tab",{relatedTarget:n[0]}),i=a.Event("show.bs.tab",{relatedTarget:t[0]}),t.trigger(e),n.trigger(i),i.isDefaultPrevented()||e.isDefaultPrevented()||(i=a(document).find(o),this.activate(n.closest("li"),s),this.activate(i,i.parent(),function(){t.trigger({type:"hidden.bs.tab",relatedTarget:n[0]}),n.trigger({type:"shown.bs.tab",relatedTarget:t[0]});})));},xd.prototype.activate=function(t,e,i){var n=e.find("> .active"),o=i&&a.support.transition&&(n.length&&n.hasClass("fade")||!!e.find("> .fade").length);function s(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i();}n.length&&o?n.one("bsTransitionEnd",s).emulateTransitionEnd(xd.TRANSITION_DURATION):s(),n.removeClass("in");};function zd(t){t.preventDefault(),e.call(a(this),"show");}var t=a.fn.tab;a.fn.tab=e,a.fn.tab.Constructor=xd,a.fn.tab.noConflict=function(){return a.fn.tab=t,this;};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',zd).on("click.bs.tab.data-api",'[data-toggle="pill"]',zd);}(jQuery),function(a){"use strict";function Sd(t,e){this.options=a.extend({},Sd.DEFAULTS,e),e=this.options.target===Sd.DEFAULTS.target?a(this.options.target):a(document).find(this.options.target),this.$target=e.on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition();}function i(i){return this.each(function(){var t=a(this),e=t.data("bs.affix");e||t.data("bs.affix",e=new Sd(this,"object"==(typeof i==="undefined"?"undefined":_typeof(i))&&i)),"string"==typeof i&&e[i]();});}Sd.VERSION="3.4.1",Sd.RESET="affix affix-top affix-bottom",Sd.DEFAULTS={offset:0,target:window},Sd.prototype.getState=function(t,e,i,n){var s=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return s<i&&"top";if("bottom"==this.affixed)return null!=i?!(s+this.unpin<=o.top)&&"bottom":!(s+a<=t-n)&&"bottom";var r=null==this.affixed,o=r?s:o.top;return null!=i&&s<=i?"top":null!=n&&t-n<=o+(r?a:e)&&"bottom";},Sd.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(Sd.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t;},Sd.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1);},Sd.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,i=e.top,n=e.bottom,s=Math.max(a(document).height(),a(document.body).height()),e=("object"!=(typeof e==="undefined"?"undefined":_typeof(e))&&(n=i=e),"function"==typeof i&&(i=e.top(this.$element)),"function"==typeof n&&(n=e.bottom(this.$element)),this.getState(s,t,i,n));if(this.affixed!=e){null!=this.unpin&&this.$element.css("top","");var i="affix"+(e?"-"+e:""),o=a.Event(i+".bs.affix");if(this.$element.trigger(o),o.isDefaultPrevented())return;this.affixed=e,this.unpin="bottom"==e?this.getPinnedOffset():null,this.$element.removeClass(Sd.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix");}"bottom"==e&&this.$element.offset({top:s-t-n});}};var t=a.fn.affix;a.fn.affix=i,a.fn.affix.Constructor=Sd,a.fn.affix.noConflict=function(){return a.fn.affix=t,this;},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var t=a(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),i.call(t,e);});});}(jQuery);/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var runtime=function(a){"use strict";var l,t=Object.prototype,r=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",i=e.asyncIterator||"@@asyncIterator",s=e.toStringTag||"@@toStringTag";function define(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e];}try{define({},"");}catch(t){define=function define(t,e,i){return t[e]=i;};}function wrap(t,e,i,n){var s,o,a,r,e=e&&e.prototype instanceof Generator?e:Generator,e=Object.create(e.prototype),n=new Context(n||[]);return e._invoke=(s=t,o=i,a=n,r=h,function(t,e){if(r===u)throw new Error("Generator is already running");if(r===d){if("throw"===t)throw e;return doneResult();}for(a.method=t,a.arg=e;;){var i=a.delegate;if(i){i=function maybeInvokeDelegate(t,e){var i=t.iterator[e.method];if(i===l){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=l,maybeInvokeDelegate(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method");}return p;}i=tryCatch(i,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;i=i.arg;if(!i)return e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p;{if(!i.done)return i;e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=l);}e.delegate=null;return p;}(i,a);if(i){if(i===p)continue;return i;}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(r===h)throw r=d,a.arg;a.dispatchException(a.arg);}else"return"===a.method&&a.abrupt("return",a.arg);r=u;i=tryCatch(s,o,a);if("normal"===i.type){if(r=a.done?d:c,i.arg!==p)return{value:i.arg,done:a.done};}else"throw"===i.type&&(r=d,a.method="throw",a.arg=i.arg);}}),e;}function tryCatch(t,e,i){try{return{type:"normal",arg:t.call(e,i)};}catch(t){return{type:"throw",arg:t};}}a.wrap=wrap;var h="suspendedStart",c="suspendedYield",u="executing",d="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var e={},o=(define(e,n,function(){return this;}),Object.getPrototypeOf),o=o&&o(o(values([]))),f=(o&&o!==t&&r.call(o,n)&&(e=o),GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(e));function defineIteratorMethods(t){["next","throw","return"].forEach(function(e){define(t,e,function(t){return this._invoke(e,t);});});}function AsyncIterator(o,a){var t;this._invoke=function(i,n){function callInvokeWithMethodAndArg(){return new a(function(t,e){!function invoke(t,e,i,n){var s,t=tryCatch(o[t],o,e);if("throw"!==t.type)return(e=(s=t.arg).value)&&"object"==(typeof e==="undefined"?"undefined":_typeof(e))&&r.call(e,"__await")?a.resolve(e.__await).then(function(t){invoke("next",t,i,n);},function(t){invoke("throw",t,i,n);}):a.resolve(e).then(function(t){s.value=t,i(s);},function(t){return invoke("throw",t,i,n);});n(t.arg);}(i,n,t,e);});}return t=t?t.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg();};}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e);}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e;}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0);}function values(t){if(t){var e,i=t[n];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(i=function next(){for(;++e<t.length;){if(r.call(t,e))return next.value=t[e],next.done=!1,next;}return next.value=l,next.done=!0,next;}).next=i;}return{next:doneResult};}function doneResult(){return{value:l,done:!0};}return define(f,"constructor",GeneratorFunction.prototype=GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,s,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name));},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,s,"GeneratorFunction")),t.prototype=Object.create(f),t;},a.awrap=function(t){return{__await:t};},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,function(){return this;}),a.AsyncIterator=AsyncIterator,a.async=function(t,e,i,n,s){void 0===s&&(s=Promise);var o=new AsyncIterator(wrap(t,e,i,n),s);return a.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next();});},defineIteratorMethods(f),define(f,s,"Generator"),define(f,n,function(){return this;}),define(f,"toString",function(){return"[object Generator]";}),a.keys=function(e){var t,i=[];for(t in e){i.push(t);}return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in e)return next.value=t,next.done=!1,next;}return next.done=!0,next;};},a.values=values,Context.prototype={constructor:Context,reset:function reset(t){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(resetTryEntry),!t)for(var e in this){"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=l);}},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval;},dispatchException:function dispatchException(i){if(this.done)throw i;var n=this;function handle(t,e){return s.type="throw",s.arg=i,n.next=t,e&&(n.method="next",n.arg=l),!!e;}for(var t=this.tryEntries.length-1;0<=t;--t){var e=this.tryEntries[t],s=e.completion;if("root"===e.tryLoc)return handle("end");if(e.tryLoc<=this.prev){var o=r.call(e,"catchLoc"),a=r.call(e,"finallyLoc");if(o&&a){if(this.prev<e.catchLoc)return handle(e.catchLoc,!0);if(this.prev<e.finallyLoc)return handle(e.finallyLoc);}else if(o){if(this.prev<e.catchLoc)return handle(e.catchLoc,!0);}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<e.finallyLoc)return handle(e.finallyLoc);}}}},abrupt:function abrupt(t,e){for(var i=this.tryEntries.length-1;0<=i;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break;}}var o=(s=s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc?null:s)?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,p):this.complete(o);},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p;},finish:function finish(t){for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),p;}},catch:function _catch(t){for(var e=this.tryEntries.length-1;0<=e;--e){var i,n,s=this.tryEntries[e];if(s.tryLoc===t)return"throw"===(i=s.completion).type&&(n=i.arg,resetTryEntry(s)),n;}throw new Error("illegal catch attempt");},delegateYield:function delegateYield(t,e,i){return this.delegate={iterator:values(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=l),p;}},a;}("object"==(typeof module==="undefined"?"undefined":_typeof(module))?module.exports:{});try{regeneratorRuntime=runtime;}catch(accidentalStrictMode){"object"==(typeof globalThis==="undefined"?"undefined":_typeof(globalThis))?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime);}/*!
 * Exoskeleton.js 0.7.0
 * (c) 2013 Paul Miller <http://paulmillr.com>
 * Based on Backbone.js
 * (c) 2010-2013 Jeremy Ashkenas, DocumentCloud
 * Exoskeleton may be freely distributed under the MIT license.
 * For all details and documentation: <http://exosjs.com>
 */!function(n,s){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(t,e,i){n.Backbone=n.Exoskeleton=s(n,i,t,e);});else if("undefined"!=typeof exports){var t,e;try{t=require("underscore");}catch(t){}try{e=require("jquery");}catch(t){}s(n,exports,t,e);}else n.Backbone=n.Exoskeleton=s(n,{},n._,n.jQuery||n.Zepto||n.ender||n.$);}(this,function(t,Backbone,w,e){"use strict";function If(){throw new Error('A "url" property or function must be specified');}function Jf(e,i){var n=i.error;i.error=function(t){n&&n(e,t,i),e.trigger("error",e,t,i);};}function Kf(t){return"function"==typeof w[t];}function Nf(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;var s=u.call(t);if(s!=u.call(e))return!1;switch(s){case"[object String]":return t==String(e);case"[object Number]":return t!==+t?e!==+e:0===t?1/t==1/e:t===+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase;}if("object"!=(typeof t==="undefined"?"undefined":_typeof(t))||"object"!=(typeof e==="undefined"?"undefined":_typeof(e)))return!1;for(var o=i.length;o--;){if(i[o]==t)return n[o]==e;}var a=t.constructor,r=e.constructor;if(a!==r&&!("function"==typeof a&&a instanceof a&&"function"==typeof r&&r instanceof r))return!1;i.push(t),n.push(e);var l=0,h=!0;if("[object Array]"===s){if(h=(l=t.length)===e.length)for(;l--&&(h=Nf(t[l],e[l],i,n));){}}else{for(var c in t){if(w.has(t,c)&&(l++,!(h=w.has(e,c)&&Nf(t[c],e[c],i,n))))break;}if(h){for(c in e){if(w.has(e,c)&&!l--)break;}h=!l;}}return i.pop(),n.pop(),h;}var i=t.Backbone,n=t.Exoskeleton,s=Backbone.utils=w=w||{},e=(Backbone.$=e,[]),o=e.slice,u={}.toString,a=(Backbone.noConflict=function(){return t.Backbone=i,t.Exoskeleton=n,this;},Backbone.extend=function(t,e){function r5(){this.constructor=n;}var i=this,n=t&&w.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments);};w.extend(n,i,e);return r5.prototype=i.prototype,n.prototype=new r5(),t&&w.extend(n.prototype,t),n.__super__=i.prototype,n;},s.result=function(t,e){var i=t?t[e]:void 0;return"function"==typeof i?t[e]():i;},s.defaults=function(i){return o.call(arguments,1).forEach(function(t){for(var e in t){void 0===i[e]&&(i[e]=t[e]);}}),i;},s.extend=function(i){return o.call(arguments,1).forEach(function(t){for(var e in t){i[e]=t[e];}}),i;},{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),r=(s.escape=function(t){return null==t?"":String(t).replace(/[&<>"']/g,function(t){return a[t];});},s.sortBy=function(t,e,n){var s="function"==typeof e?e:function(t){return t[e];};return t.map(function(t,e,i){return{value:t,index:e,criteria:s.call(n,t,e,i)};}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(n<i||void 0===i)return 1;if(i<n||void 0===n)return-1;}return t.index-e.index;}).map(function(t){return t.value;});},0),l=(s.uniqueId=function(t){var e=++r+"";return t?t+e:e;},s.has=function(t,e){return Object.hasOwnProperty.call(t,e);},s.isEqual=function(t,e){return Nf(t,e,[],[]);},Backbone.Events={on:function on(t,e,i){return d(this,"on",t,[e,i])&&e&&(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:i,ctx:i||this})),this;},once:function once(t,e,i){if(!d(this,"once",t,[e,i])||!e)return this;var n,s=this,o=function o(){n||(n=!0,s.off(t,o),e.apply(this,arguments));};return o._callback=e,this.on(t,o,i);},off:function off(t,e,i){var n,s,o,a,r,l,h,c;if(!this._events||!d(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this._events=void 0,this;for(r=0,l=(a=t?[t]:Object.keys(this._events)).length;r<l;r++){if(t=a[r],o=this._events[t]){if(this._events[t]=n=[],e||i)for(h=0,c=o.length;h<c;h++){s=o[h],(e&&e!==s.callback&&e!==s.callback._callback||i&&i!==s.context)&&n.push(s);}n.length||delete this._events[t];}}return this;},trigger:function trigger(t){if(!this._events)return this;var e=o.call(arguments,1);if(!d(this,"trigger",t,e))return this;var t=this._events[t],i=this._events.all;return t&&c(t,e),i&&c(i,arguments),this;},stopListening:function stopListening(t,e,i){var n=this._listeningTo;if(!n)return this;var s,o=!e&&!i;for(s in i||"object"!=(typeof e==="undefined"?"undefined":_typeof(e))||(i=this),t&&((n={})[t._listenId]=t),n){(t=n[s]).off(e,i,this),!o&&Object.keys(t._events).length||delete this._listeningTo[s];}return this;}}),h=/\s+/,d=function d(t,e,i,n){if(!i)return!0;if("object"==(typeof i==="undefined"?"undefined":_typeof(i))){for(var s in i){t[e].apply(t,[s,i[s]].concat(n));}return!1;}if(h.test(i)){for(var o=i.split(h),a=0,r=o.length;a<r;a++){t[e].apply(t,[o[a]].concat(n));}return!1;}return!0;},c=function c(t,e){var i,n=-1,s=t.length,o=e[0],a=e[1],r=e[2];switch(e.length){case 0:for(;++n<s;){(i=t[n]).callback.call(i.ctx);}return;case 1:for(;++n<s;){(i=t[n]).callback.call(i.ctx,o);}return;case 2:for(;++n<s;){(i=t[n]).callback.call(i.ctx,o,a);}return;case 3:for(;++n<s;){(i=t[n]).callback.call(i.ctx,o,a,r);}return;default:for(;++n<s;){(i=t[n]).callback.apply(i.ctx,e);}return;}},p={listenTo:"on",listenToOnce:"once"},x=(Object.keys(p).forEach(function(t){var n=p[t];l[t]=function(t,e,i){return((this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=w.uniqueId("l"))]=t)[n](e,i=i||"object"!=(typeof e==="undefined"?"undefined":_typeof(e))?i:this,this),this;};}),l.bind=l.on,l.unbind=l.off,w.extend(Backbone,l),Backbone.Model=function(t,e){t=t||{};e=e||{},this.cid=w.uniqueId("c"),this.attributes=Object.create(null),e.collection&&(this.collection=e.collection),e.parse&&(t=this.parse(t,e)||{}),t=w.defaults({},t,w.result(this,"defaults")),this.set(t,e),this.changed=Object.create(null),this.initialize.apply(this,arguments);}),f=(w.extend(x.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function initialize(){},toJSON:function toJSON(t){return w.extend({},this.attributes);},sync:function sync(){return Backbone.sync.apply(this,arguments);},get:function get(t){return this.attributes[t];},escape:function escape(t){return w.escape(this.get(t));},has:function has(t){return null!=this.get(t);},set:function set(t,e,i){var n,s,o,a,r,l,h;if(null==t)return this;if("object"==(typeof t==="undefined"?"undefined":_typeof(t))?(s=t,i=e):(s={})[t]=e,!this._validate(s,i=i||{}))return!1;for(n in o=i.unset,t=i.silent,a=[],r=this._changing,this._changing=!0,r||(this._previousAttributes=w.extend(Object.create(null),this.attributes),this.changed={}),h=this.attributes,l=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]),s){e=s[n],w.isEqual(h[n],e)||a.push(n),w.isEqual(l[n],e)?delete this.changed[n]:this.changed[n]=e,o?delete h[n]:h[n]=e;}if(!t){a.length&&(this._pending=i);for(var c=0,u=a.length;c<u;c++){this.trigger("change:"+a[c],this,h[a[c]],i);}}if(r)return this;if(!t)for(;this._pending;){i=this._pending,this._pending=!1,this.trigger("change",this,i);}return this._pending=!1,this._changing=!1,this;},unset:function unset(t,e){return this.set(t,void 0,w.extend({},e,{unset:!0}));},clear:function clear(t){var e,i={};for(e in this.attributes){i[e]=void 0;}return this.set(i,w.extend({},t,{unset:!0}));},hasChanged:function hasChanged(t){return null==t?!!Object.keys(this.changed).length:w.has(this.changed,t);},changedAttributes:function changedAttributes(t){if(!t)return!!this.hasChanged()&&w.extend(Object.create(null),this.changed);var e,i,n=!1,s=this._changing?this._previousAttributes:this.attributes;for(i in t){w.isEqual(s[i],e=t[i])||((n=n||{})[i]=e);}return n;},previous:function previous(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null;},previousAttributes:function previousAttributes(){return w.extend(Object.create(null),this._previousAttributes);},fetch:function fetch(e){void 0===(e=e?w.extend({},e):{}).parse&&(e.parse=!0);var i=this,n=e.success;return e.success=function(t){if(!i.set(i.parse(t,e),e))return!1;n&&n(i,t,e),i.trigger("sync",i,t,e);},Jf(this,e),this.sync("read",this,e);},save:function save(t,e,i){var n,s=this.attributes;if(null==t||"object"==(typeof t==="undefined"?"undefined":_typeof(t))?(n=t,i=e):(n={})[t]=e,i=w.extend({validate:!0},i),n&&!i.wait){if(!this.set(n,i))return!1;}else if(!this._validate(n,i))return!1;n&&i.wait&&(this.attributes=w.extend(Object.create(null),s,n)),void 0===i.parse&&(i.parse=!0);var o=this,a=i.success;return i.success=function(t){o.attributes=s;var e=o.parse(t,i);if((e=i.wait?w.extend(n||{},e):e)&&"object"==(typeof e==="undefined"?"undefined":_typeof(e))&&!o.set(e,i))return!1;a&&a(o,t,i),o.trigger("sync",o,t,i);},Jf(this,i),"patch"==(t=this.isNew()?"create":i.patch?"patch":"update")&&(i.attrs=n),e=this.sync(t,this,i),n&&i.wait&&(this.attributes=s),e;},destroy:function destroy(e){e=e?w.extend({},e):{};function gh(){i.trigger("destroy",i,i.collection,e);}var i=this,n=e.success;if(e.success=function(t){(e.wait||i.isNew())&&gh(),n&&n(i,t,e),i.isNew()||i.trigger("sync",i,t,e);},this.isNew())return e.success(),!1;Jf(this,e);var t=this.sync("delete",this,e);return e.wait||gh(),t;},url:function url(){var t=w.result(this,"urlRoot")||w.result(this.collection,"url")||If();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id);},parse:function parse(t,e){return t;},clone:function clone(){return new this.constructor(this.attributes);},isNew:function isNew(){return!this.has(this.idAttribute);},isValid:function isValid(t){return this._validate({},w.extend(t||{},{validate:!0}));},_validate:function _validate(t,e){if(!e.validate||!this.validate)return!0;t=w.extend(Object.create(null),this.attributes,t);t=this.validationError=this.validate(t,e)||null;return!t||(this.trigger("invalid",this,t,w.extend(e,{validationError:t})),!1);}}),w.keys&&["keys","values","pairs","invert","pick","omit"].filter(Kf).forEach(function(e){x.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.attributes),w[e].apply(w,t);};}),Backbone.Collection=function(t,e){(e=e||{}).model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,w.extend({silent:!0},e));}),_={add:!0,remove:!0,merge:!0},m={add:!0,remove:!1},e=(w.extend(f.prototype,l,{model:void 0===x?null:x,initialize:function initialize(){},toJSON:function toJSON(e){return this.map(function(t){return t.toJSON(e);});},sync:function sync(){return Backbone.sync.apply(this,arguments);},add:function add(t,e){return this.set(t,w.extend({merge:!1},e,m));},remove:function remove(t,e){var i,n,s,o,a=!Array.isArray(t);for(e=e||{},i=0,n=(t=a?[t]:t.slice()).length;i<n;i++){(o=t[i]=this.get(t[i]))&&(delete this._byId[o.id],delete this._byId[o.cid],s=this.indexOf(o),this.models.splice(s,1),this.length--,e.silent||(e.index=s,o.trigger("remove",o,this,e)),this._removeReference(o,e));}return a?t[0]:t;},set:function set(t,e){(e=w.defaults({},e,_)).parse&&(t=this.parse(t,e));var i,n,s,o,a=!Array.isArray(t),r=(t=a?t?[t]:[]:t.slice(),e.at),l=this.model,h=this.comparator&&null==r&&!1!==e.sort,c="string"==typeof this.comparator?this.comparator:null,u=[],d=[],p={},f=e.add,m=e.merge,g=e.remove,v=!(h||!f||!g)&&[];for(y=0,C=t.length;y<C;y++){if(s=(n=t[y]||{})instanceof x?i=n:n[l.prototype.idAttribute||"id"],s=this.get(s))g&&(p[s.cid]=!0),m&&(n=n===i?i.attributes:n,e.parse&&(n=s.parse(n,e)),s.set(n,e),h&&!o&&s.hasChanged(c)&&(o=!0)),t[y]=s;else if(f){if(!(i=t[y]=this._prepareModel(n,e)))continue;u.push(i),this._addReference(i,e);}i=s||i,!v||!i.isNew()&&p[i.id]||v.push(i),p[i.id]=!0;}if(g){for(y=0,C=this.length;y<C;++y){p[(i=this.models[y]).cid]||d.push(i);}d.length&&this.remove(d,e);}if(u.length||v&&v.length)if(h&&(o=!0),this.length+=u.length,null!=r)for(y=0,C=u.length;y<C;y++){this.models.splice(r+y,0,u[y]);}else{v&&(this.models.length=0);for(var b=v||u,y=0,C=b.length;y<C;y++){this.models.push(b[y]);}}if(o&&this.sort({silent:!0}),!e.silent){for(y=0,C=u.length;y<C;y++){(i=u[y]).trigger("add",i,this,e);}(o||v&&v.length)&&this.trigger("sort",this,e);}return a?t[0]:t;},reset:function reset(t,e){e=e||{};for(var i=0,n=this.models.length;i<n;i++){this._removeReference(this.models[i],e);}return e.previousModels=this.models,this._reset(),t=this.add(t,w.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t;},push:function push(t,e){return this.add(t,w.extend({at:this.length},e));},pop:function pop(t){var e=this.at(this.length-1);return this.remove(e,t),e;},unshift:function unshift(t,e){return this.add(t,w.extend({at:0},e));},shift:function shift(t){var e=this.at(0);return this.remove(e,t),e;},slice:function slice(){return o.apply(this.models,arguments);},get:function get(t){if(null!=t)return this._byId[t]||this._byId[t.id]||this._byId[t.cid];},at:function at(t){return this.models[t];},where:function where(i,t){return i&&Object.keys(i).length?this[t?"find":"filter"](function(t){for(var e in i){if(i[e]!==t.get(e))return!1;}return!0;}):t?void 0:[];},findWhere:function findWhere(t){return this.where(t,!0);},sort:function sort(t){if(this.comparator)return t=t||{},"string"==typeof this.comparator||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(this.comparator.bind(this)),t.silent||this.trigger("sort",this,t),this;throw new Error("Cannot sort a set without a comparator");},pluck:function pluck(e){return this.models.map(function(t){return t.get(e);});},fetch:function fetch(i){void 0===(i=i?w.extend({},i):{}).parse&&(i.parse=!0);var n=i.success,s=this;return i.success=function(t){var e=i.reset?"reset":"set";s[e](t,i),n&&n(s,t,i),s.trigger("sync",s,t,i);},Jf(this,i),this.sync("read",this,i);},create:function create(t,i){if(i=i?w.extend({},i):{},!(t=this._prepareModel(t,i)))return!1;i.wait||this.add(t,i);var n=this,s=i.success;return i.success=function(t,e){i.wait&&n.add(t,i),s&&s(t,e,i);},t.save(null,i),t;},parse:function parse(t,e){return t;},clone:function clone(){return new this.constructor(this.models);},_reset:function _reset(){this.length=0,this.models=[],this._byId=Object.create(null);},_prepareModel:function _prepareModel(t,e){if(t instanceof x)return t;t=new((e=w.extend({},e)).collection=this).model(t,e);return t.validationError?(this.trigger("invalid",this,t.validationError,e),!1):t;},_addReference:function _addReference(t,e){null!=(this._byId[t.cid]=t).id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this);},_removeReference:function _removeReference(t,e){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this);},_onModelEvent:function _onModelEvent(t,e,i,n){("add"!==t&&"remove"!==t||i===this)&&("destroy"===t&&this.remove(e,n),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments));}}),Kf("each")?(["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"].filter(Kf).forEach(function(e){f.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.models),w[e].apply(w,t);};}),["groupBy","countBy","sortBy"].filter(Kf).forEach(function(i){f.prototype[i]=function(e,t){return w[i](this.models,"function"==typeof e?e:function(t){return t.get(e);},t);};})):(["forEach","map","filter","some","every","reduce","reduceRight","indexOf","lastIndexOf"].forEach(function(i){f.prototype[i]=function(t,e){return this.models[i](t,e);};}),f.prototype.find=function(n,s){var o;return this.some(function(t,e,i){if(n.call(s,t,e,i))return o=t,!0;}),o;},["sortBy"].forEach(function(i){f.prototype[i]=function(e,t){return w[i](this.models,"function"==typeof e?e:function(t){return t.get(e);},t);};})),Backbone.View=function(e){this.cid=w.uniqueId("view"),e&&Object.keys(e).forEach(function(t){-1!==v.indexOf(t)&&(this[t]=e[t]);},this),this._ensureElement(),this.initialize.apply(this,arguments);}),g=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"],b=(w.extend(e.prototype,l,{tagName:"div",$:function $(t){return this.$el.find(t);},initialize:function initialize(){},render:function render(){return this;},remove:function remove(){return this._removeElement(),this.stopListening(),this;},_removeElement:function _removeElement(){this.$el.remove();},setElement:function setElement(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this;},_setElement:function _setElement(t){this.$el=t instanceof Backbone.$?t:Backbone.$(t),this.el=this.$el[0];},delegateEvents:function delegateEvents(t){if(!(t=t||w.result(this,"events")))return this;for(var e in this.undelegateEvents(),t){var i=t[e],e=("function"!=typeof i&&(i=this[t[e]]),e.match(g));this.delegate(e[1],e[2],i.bind(this));}return this;},delegate:function delegate(t,e,i){this.$el.on(t+".delegateEvents"+this.cid,e,i);},undelegateEvents:function undelegateEvents(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this;},undelegate:function undelegate(t,e,i){this.$el.off(t+".delegateEvents"+this.cid,e,i);},_createElement:function _createElement(t){return document.createElement(t);},_ensureElement:function _ensureElement(){var t;this.el?this.setElement(w.result(this,"el")):(t=w.extend({},w.result(this,"attributes")),this.id&&(t.id=w.result(this,"id")),this.className&&(t.class=w.result(this,"className")),this.setElement(this._createElement(w.result(this,"tagName"))),this._setAttributes(t));},_setAttributes:function _setAttributes(t){this.$el.attr(t);}}),Backbone.sync=function(t,e,i){var n={type:b[t],dataType:"json"},t=((i=i||{}).url||(n.url=w.result(e,"url")||If()),null!=i.data||!e||"create"!==t&&"update"!==t&&"patch"!==t||(n.contentType="application/json",n.data=JSON.stringify(i.attrs||e.toJSON(i))),"GET"!==n.type&&(n.processData=!1),i.xhr=Backbone.ajax(w.extend(n,i)));return e.trigger("request",e,t,i),t;},{create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"}),s=(Backbone.ajax=function(){return Backbone.$.ajax.apply(Backbone.$,arguments);},Backbone.Router=function(t){(t=t||{}).routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments);}),y=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,$=/\*\w+/g,S=/[\-{}\[\]+?.,\\\^$|#\s]/g,k=(w.extend(s.prototype,l,{initialize:function initialize(){},route:function route(e,i,n){(t=e)&&"object"==(typeof t==="undefined"?"undefined":_typeof(t))&&"[object RegExp]"===u.call(t)||(e=this._routeToRegExp(e)),"function"==typeof i&&(n=i,i=""),n=n||this[i];var t,s=this;return Backbone.history.route(e,function(t){t=s._extractParameters(e,t);s.execute(n,t),s.trigger.apply(s,["route:"+i].concat(t)),s.trigger("route",i,t),Backbone.history.trigger("route",s,i,t);}),this;},execute:function execute(t,e){t&&t.apply(this,e);},navigate:function navigate(t,e){return Backbone.history.navigate(t,e),this;},_bindRoutes:function _bindRoutes(){if(this.routes){this.routes=w.result(this,"routes");for(var t,e=Object.keys(this.routes);null!=(t=e.pop());){this.route(t,this.routes[t]);}}},_routeToRegExp:function _routeToRegExp(t){return t=t.replace(S,"\\$&").replace(y,"(?:$1)?").replace(C,function(t,e){return e?t:"([^/?]+)";}).replace($,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$");},_extractParameters:function _extractParameters(t,e){var i=t.exec(e).slice(1);return i.map(function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null;});}}),Backbone.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history);}),T=/^[#\/]|\s+$/g,E=/^\/+|\/+$/g,I=/\/$/,A=/[#].*$/;return k.started=!1,w.extend(k.prototype,l,{atRoot:function atRoot(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root;},getHash:function getHash(t){t=(t||this).location.href.match(/#(.*)$/);return t?t[1]:"";},getFragment:function getFragment(t,e){var i;return null==t&&(this._wantsPushState||!this._wantsHashChange?(t=decodeURI(this.location.pathname+this.location.search),i=this.root.replace(I,""),t.indexOf(i)||(t=t.slice(i.length))):t=this.getHash()),t.replace(T,"");},start:function start(t){if(k.started)throw new Error("Backbone.history has already been started");k.started=!0,this.options=w.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState;t=this.getFragment(),this.root=("/"+this.root+"/").replace(E,"/"),this._wantsPushState?window.addEventListener("popstate",this.checkUrl,!1):this._wantsHashChange&&window.addEventListener("hashchange",this.checkUrl,!1),this.fragment=t,t=this.location;if(this._wantsHashChange&&this._wantsPushState&&this.atRoot()&&t.hash&&(this.fragment=this.getHash().replace(T,""),this.history.replaceState({},document.title,this.root+this.fragment)),!this.options.silent)return this.loadUrl();},stop:function stop(){window.removeEventListener("popstate",this.checkUrl),window.removeEventListener("hashchange",this.checkUrl),k.started=!1;},route:function route(t,e){this.handlers.unshift({route:t,callback:e});},checkUrl:function checkUrl(){if(this.getFragment()===this.fragment)return!1;this.loadUrl();},loadUrl:function loadUrl(e){return e=this.fragment=this.getFragment(e),this.handlers.some(function(t){if(t.route.test(e))return t.callback(e),!0;});},navigate:function navigate(t,e){if(!k.started)return!1;e&&!0!==e||(e={trigger:!!e});var i=this.root+(t=this.getFragment(t||""));if(t=t.replace(A,""),this.fragment!==t){if(""===(this.fragment=t)&&"/"!==i&&(i=i.slice(0,-1)),this._wantsPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace);}return e.trigger?this.loadUrl(t):void 0;}},_updateHash:function _updateHash(t,e,i){i?(i=t.href.replace(/(javascript:|#).*$/,""),t.replace(i+"#"+e)):t.hash="#"+e;}}),["Model","Collection","Router","View","History"].forEach(function(t){t=Backbone[t];t&&(t.extend=Backbone.extend);}),w.extend(Backbone,l),Backbone.history=new k(),Backbone;}),/*!
 * Draggabilly PACKAGED v2.3.0
 * Make that shiz draggable
 * https://draggabilly.desandro.com
 * MIT license
 *//**
 * Bridget makes jQuery widgets
 * v2.0.1
 * MIT license
 */!function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(jQuery){return e(t,jQuery);}):"object"==(typeof module==="undefined"?"undefined":_typeof(module))&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery);}(window,function(t,jQuery){"use strict";var i=Array.prototype.slice,e=t.console,u=void 0===e?function(){}:function(t){e.error(t);};function jQueryBridget(l,h,c){(c=c||jQuery||t.jQuery)&&(h.prototype.option||(h.prototype.option=function(t){c.isPlainObject(t)&&(this.options=c.extend(!0,this.options,t));}),c.fn[l]=function(t){var e,n,s,o,a,r;return"string"==typeof t?(e=i.call(arguments,1),s=e,a="$()."+l+'("'+(n=t)+'")',(e=this).each(function(t,e){var i,e=c.data(e,l);e?(i=e[n])&&"_"!=n.charAt(0)?(i=i.apply(e,s),o=void 0===o?i:o):u(a+" is not a valid method"):u(l+" not initialized. Cannot call methods, i.e. "+a);}),void 0!==o?o:e):(r=t,this.each(function(t,e){var i=c.data(e,l);i?(i.option(r),i._init()):(i=new h(e,r),c.data(e,l,i));}),this);},updateJQuery(c));}function updateJQuery(t){t&&!t.bridget&&(t.bridget=jQueryBridget);}return updateJQuery(jQuery||t.jQuery),jQueryBridget;}),/*!
 * getSize v2.0.2
 * measure size of elements
 * MIT license
 */!function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],e):"object"==(typeof module==="undefined"?"undefined":_typeof(module))&&module.exports?module.exports=e():t.getSize=e();}(window,function(){"use strict";function getStyleSize(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e;}var e="undefined"==typeof console?function(){}:function(t){console.error(t);},g=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],v=g.length;function getStyle(t){t=getComputedStyle(t);return t||e("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),t;}var b,y=!1;function getSize(t){if(y||(y=!0,(c=document.createElement("div")).style.width="200px",c.style.padding="1px 2px 3px 4px",c.style.borderStyle="solid",c.style.borderWidth="1px 2px 3px 4px",c.style.boxSizing="border-box",(h=document.body||document.documentElement).appendChild(c),o=getStyle(c),getSize.isBoxSizeOuter=b=200==getStyleSize(o.width),h.removeChild(c)),(t="string"==typeof t?document.querySelector(t):t)&&"object"==(typeof t==="undefined"?"undefined":_typeof(t))&&t.nodeType){var e=getStyle(t);if("none"==e.display){for(var i={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},n=0;n<v;n++){i[g[n]]=0;}return i;}for(var s={},o=(s.width=t.offsetWidth,s.height=t.offsetHeight,s.isBorderBox="border-box"==e.boxSizing),a=0;a<v;a++){var r=g[a],l=e[r],l=parseFloat(l);s[r]=isNaN(l)?0:l;}var h=s.paddingLeft+s.paddingRight,c=s.paddingTop+s.paddingBottom,t=s.marginLeft+s.marginRight,u=s.marginTop+s.marginBottom,d=s.borderLeftWidth+s.borderRightWidth,p=s.borderTopWidth+s.borderBottomWidth,f=o&&b,m=getStyleSize(e.width),m=(!1!==m&&(s.width=m+(f?0:h+d)),getStyleSize(e.height));return!1!==m&&(s.height=m+(f?0:c+p)),s.innerWidth=s.width-(h+d),s.innerHeight=s.height-(c+p),s.outerWidth=s.width+t,s.outerHeight=s.height+u,s;}}return getSize;}),/**
 * EvEmitter v1.1.0
 * Lil' event emitter
 * MIT License
 */!function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==(typeof module==="undefined"?"undefined":_typeof(module))&&module.exports?module.exports=e():t.EvEmitter=e();}("undefined"!=typeof window?window:this,function(){function EvEmitter(){}var t=EvEmitter.prototype;return t.on=function(t,e){var i;if(t&&e)return i=this._events=this._events||{},i=i[t]=i[t]||[],-1==i.indexOf(e)&&i.push(e),this;},t.once=function(t,e){var i;if(t&&e)return this.on(t,e),i=this._onceEvents=this._onceEvents||{},(i[t]=i[t]||{})[e]=!0,this;},t.off=function(t,e){t=this._events&&this._events[t];if(t&&t.length)return e=t.indexOf(e),-1!=e&&t.splice(e,1),this;},t.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],s=0;s<i.length;s++){var o=i[s];n&&n[o]&&(this.off(t,o),delete n[o]),o.apply(this,e);}return this;}},t.allOff=function(){delete this._events,delete this._onceEvents;},EvEmitter;}),/*!
 * Unipointer v2.3.0
 * base class for doing one thing with pointer event
 * MIT license
 */!function(e,i){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(t){return i(e,t);}):"object"==(typeof module==="undefined"?"undefined":_typeof(module))&&module.exports?module.exports=i(e,require("ev-emitter")):e.Unipointer=i(e,e.EvEmitter);}(window,function(n,t){function Unipointer(){}var t=Unipointer.prototype=Object.create(t.prototype),e=(t.bindStartEvent=function(t){this._bindStartEvent(t,!0);},t.unbindStartEvent=function(t){this._bindStartEvent(t,!1);},t._bindStartEvent=function(t,e){var e=(e=void 0===e||e)?"addEventListener":"removeEventListener",i="mousedown";n.PointerEvent?i="pointerdown":"ontouchstart"in n&&(i="touchstart"),t[e](i,this);},t.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t);},t.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i;}},t.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t);},t.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0]);},t.onpointerdown=function(t){this._pointerDown(t,t);},t._pointerDown=function(t,e){t.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e));},t.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]);},{mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]});return t._bindPostStartEvents=function(t){t&&((t=e[t.type]).forEach(function(t){n.addEventListener(t,this);},this),this._boundPointerEvents=t);},t._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(t){n.removeEventListener(t,this);},this),delete this._boundPointerEvents);},t.onmousemove=function(t){this._pointerMove(t,t);},t.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t);},t.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e);},t._pointerMove=function(t,e){this.pointerMove(t,e);},t.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e]);},t.onmouseup=function(t){this._pointerUp(t,t);},t.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t);},t.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e);},t._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e);},t.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]);},t._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone();},t._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier;},t.pointerDone=function(){},t.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t);},t.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e);},t._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e);},t.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e]);},Unipointer.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY};},Unipointer;}),/*!
 * Unidragger v2.3.0
 * Draggable base class
 * MIT license
 */!function(e,i){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(t){return i(e,t);}):"object"==(typeof module==="undefined"?"undefined":_typeof(module))&&module.exports?module.exports=i(e,require("unipointer")):e.Unidragger=i(e,e.Unipointer);}(window,function(o,t){function Unidragger(){}var e=Unidragger.prototype=Object.create(t.prototype),i=(e.bindHandles=function(){this._bindHandles(!0);},e.unbindHandles=function(){this._bindHandles(!1);},e._bindHandles=function(t){for(var e=(t=void 0===t||t)?"addEventListener":"removeEventListener",i=t?this._touchActionValue:"",n=0;n<this.handles.length;n++){var s=this.handles[n];this._bindStartEvent(s,t),s[e]("click",this),o.PointerEvent&&(s.style.touchAction=i);}},e._touchActionValue="none",e.pointerDown=function(t,e){this.okayPointerDown(t)&&(this.pointerDownPointer=e,t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]));},{TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0}),n={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return e.okayPointerDown=function(t){var e=i[t.target.nodeName],t=n[t.target.type],e=!e||t;return e||this._pointerReset(),e;},e.pointerDownBlur=function(){var t=document.activeElement;t&&t.blur&&t!=document.body&&t.blur();},e.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i);},e._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i;},e.hasDragStarted=function(t){return 3<Math.abs(t.x)||3<Math.abs(t.y);},e.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e);},e._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e);},e._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e);},e.dragStart=function(t,e){this.emitEvent("dragStart",[t,e]);},e._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i);},e.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i]);},e._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks;}.bind(this)),this.dragEnd(t,e);},e.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e]);},e.onclick=function(t){this.isPreventingClicks&&t.preventDefault();},e._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp;}.bind(this),400)));},e.staticClick=function(t,e){this.emitEvent("staticClick",[t,e]);},Unidragger.getPointerPoint=t.getPointerPoint,Unidragger;}),/*!
 * Draggabilly v2.3.0
 * Make that shiz draggable
 * https://draggabilly.desandro.com
 * MIT license
 */!function(i,n){"function"==typeof define&&define.amd?define(["get-size/get-size","unidragger/unidragger"],function(t,e){return n(i,t,e);}):"object"==(typeof module==="undefined"?"undefined":_typeof(module))&&module.exports?module.exports=n(i,require("get-size"),require("unidragger")):i.Draggabilly=n(i,i.getSize,i.Unidragger);}(window,function(s,a,t){function extend(t,e){for(var i in e){t[i]=e[i];}return t;}var jQuery=s.jQuery;function Draggabilly(t,e){this.element="string"==typeof t?document.querySelector(t):t,jQuery&&(this.$element=jQuery(this.element)),this.options=extend({},this.constructor.defaults),this.option(e),this._create();}var t=Draggabilly.prototype=Object.create(t.prototype),e=(Draggabilly.defaults={},t.option=function(t){extend(this.options,t);},{relative:!0,absolute:!0,fixed:!0});function applyGrid(t,e,i){return i=i||"round",e?Math[i](t/e)*e:t;}return t._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=extend({},this.position);var t=getComputedStyle(this.element);e[t.position]||(this.element.style.position="relative"),this.on("pointerMove",this.onPointerMove),this.on("pointerUp",this.onPointerUp),this.enable(),this.setHandles();},t.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element],this.bindHandles();},t.dispatchEvent=function(t,e,i){var n=[e].concat(i);this.emitEvent(t,n),this.dispatchJQueryEvent(t,e,i);},t.dispatchJQueryEvent=function(t,e,i){var n=s.jQuery;n&&this.$element&&((n=n.Event(e)).type=t,this.$element.trigger(n,i));},t._getPosition=function(){var t=getComputedStyle(this.element),e=this._getPositionCoord(t.left,"width"),i=this._getPositionCoord(t.top,"height");this.position.x=isNaN(e)?0:e,this.position.y=isNaN(i)?0:i,this._addTransformPosition(t);},t._getPositionCoord=function(t,e){var i;return-1!=t.indexOf("%")?(i=a(this.element.parentNode))?parseFloat(t)/100*i[e]:0:parseInt(t,10);},t._addTransformPosition=function(t){var e,i,t=t.transform;0===t.indexOf("matrix")&&(i=t.split(","),t=0===t.indexOf("matrix3d")?12:4,e=parseInt(i[t],10),i=parseInt(i[1+t],10),this.position.x+=e,this.position.y+=i);},t.onPointerDown=function(t,e){this.element.classList.add("is-pointer-down"),this.dispatchJQueryEvent("pointerDown",t,[e]);},t.pointerDown=function(t,e){this.okayPointerDown(t)&&this.isEnabled?(this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.element.classList.add("is-pointer-down"),this.dispatchEvent("pointerDown",t,[e])):this._pointerReset();},t.dragStart=function(t,e){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add("is-dragging"),this.dispatchEvent("dragStart",t,[e]),this.animate());},t.measureContainment=function(){var t,e,i,n,s,o=this.getContainer();o&&(t=a(this.element),e=a(o),s=this.element.getBoundingClientRect(),o=o.getBoundingClientRect(),i=e.borderLeftWidth+e.borderRightWidth,n=e.borderTopWidth+e.borderBottomWidth,s=this.relativeStartPosition={x:s.left-(o.left+e.borderLeftWidth),y:s.top-(o.top+e.borderTopWidth)},this.containSize={width:e.width-i-s.x-t.width,height:e.height-n-s.y-t.height});},t.getContainer=function(){var t=this.options.containment;if(t)return t instanceof HTMLElement?t:"string"==typeof t?document.querySelector(t):this.element.parentNode;},t.onPointerMove=function(t,e,i){this.dispatchJQueryEvent("pointerMove",t,[e,i]);},t.dragMove=function(t,e,i){var n,s,o,a;this.isEnabled&&(o=i.x,a=i.y,n=(s=this.options.grid)&&s[0],s=s&&s[1],o=applyGrid(o,n),a=applyGrid(a,s),o=this.containDrag("x",o,n),a=this.containDrag("y",a,s),o="y"==this.options.axis?0:o,a="x"==this.options.axis?0:a,this.position.x=this.startPosition.x+o,this.position.y=this.startPosition.y+a,this.dragPoint.x=o,this.dragPoint.y=a,this.dispatchEvent("dragMove",t,[e,i]));},t.containDrag=function(t,e,i){if(!this.options.containment)return e;var n="x"==t?"width":"height",t=applyGrid(-this.relativeStartPosition[t],i,"ceil"),n=applyGrid(this.containSize[n],i,"floor");return Math.max(t,Math.min(n,e));},t.onPointerUp=function(t,e){this.element.classList.remove("is-pointer-down"),this.dispatchJQueryEvent("pointerUp",t,[e]);},t.dragEnd=function(t,e){this.isEnabled&&(this.element.style.transform="",this.setLeftTop(),this.element.classList.remove("is-dragging"),this.dispatchEvent("dragEnd",t,[e]));},t.animate=function(){var t;this.isDragging&&(this.positionDrag(),t=this,requestAnimationFrame(function(){t.animate();}));},t.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px";},t.positionDrag=function(){this.element.style.transform="translate3d( "+this.dragPoint.x+"px, "+this.dragPoint.y+"px, 0)";},t.staticClick=function(t,e){this.dispatchEvent("staticClick",t,[e]);},t.setPosition=function(t,e){this.position.x=t,this.position.y=e,this.setLeftTop();},t.enable=function(){this.isEnabled=!0;},t.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd();},t.destroy=function(){this.disable(),this.element.style.transform="",this.element.style.left="",this.element.style.top="",this.element.style.position="",this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly");},t._init=function(){},jQuery&&jQuery.bridget&&jQuery.bridget("draggabilly",Draggabilly),Draggabilly;}),/*!
 * Datepicker for Bootstrap v1.10.0 (https://github.com/uxsolutions/bootstrap-datepicker)
 *
 * Licensed under the Apache License v2.0 (https://www.apache.org/licenses/LICENSE-2.0)
 */!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?require("jquery"):jQuery);}(function(_,$){function c(){return new Date(Date.UTC.apply(Date,arguments));}function d(){var t=new Date();return c(t.getFullYear(),t.getMonth(),t.getDate());}function e(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate();}function f(t,e){return function(){return e!==$&&_.fn.datepicker.deprecated(e),this[t].apply(this,arguments);};}function en(t,e){_.data(t,"datepicker",this),this._events=[],this._secondaryEvents=[],this._process_options(e),this.dates=new s(),this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=_(t),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"),this.component&&0===this.component.length&&(this.component=!1),null===this.o.isInline?this.isInline=!this.component&&!this.isInput:this.isInline=this.o.isInline,this.picker=_(k.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return Number(e)+1;}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show();}function kn(t,e){_.data(t,"datepicker",this),this.element=_(t),this.inputs=_.map(e.inputs,function(t){return t.jquery?t[0]:t;}),delete e.inputs,this.keepEmptyValues=e.keepEmptyValues,delete e.keepEmptyValues,o.call(_(this.inputs),e).on("changeDate",_.proxy(this.dateUpdated,this)),this.pickers=_.map(this.inputs,function(t){return _.data(t,"datepicker");}),this.updateDates();}n={get:function get(t){return this.slice(t)[0];},contains:function contains(t){for(var e=t&&t.valueOf(),i=0,n=this.length;i<n;i++){if(0<=this[i].valueOf()-e&&this[i].valueOf()-e<864e5)return i;}return-1;},remove:function remove(t){this.splice(t,1);},replace:function replace(t){t&&(Array.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t));},clear:function clear(){this.length=0;},copy:function copy(){var t=new s();return t.replace(this),t;}};var n,s=function s(){var t=[];return t.push.apply(t,arguments),_.extend(t,n),t;},t=(en.prototype={constructor:en,_resolveViewName:function _resolveViewName(i){return _.each(k.viewModes,function(t,e){if(i===t||-1!==_.inArray(i,e.names))return i=t,!1;}),i;},_resolveDaysOfWeek:function _resolveDaysOfWeek(t){return Array.isArray(t)||(t=t.split(/[,\s]*/)),_.map(t,Number);},_check_template:function _check_template(t){try{return t===$||""===t?!1:(t.match(/[<>]/g)||[]).length<=0||0<_(t).length;}catch(t){return!1;}},_process_options:function _process_options(t){this._o=_.extend({},this._o,t);var e,i,n=this.o=_.extend({},this._o),t=n.language,s=(S[t]||(t=t.split("-")[0],S[t]||(t=l.language)),n.language=t,n.startView=this._resolveViewName(n.startView),n.minViewMode=this._resolveViewName(n.minViewMode),n.maxViewMode=this._resolveViewName(n.maxViewMode),n.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,n.startView)),!0!==n.multidate&&(n.multidate=Number(n.multidate)||!1,!1!==n.multidate&&(n.multidate=Math.max(0,n.multidate))),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7,k.parseFormat(n.format)),o=(n.startDate!==-1/0&&(n.startDate?n.startDate instanceof Date?n.startDate=this._local_to_utc(this._zero_time(n.startDate)):n.startDate=k.parseDate(n.startDate,s,n.language,n.assumeNearbyYear):n.startDate=-1/0),n.endDate!==1/0&&(n.endDate?n.endDate instanceof Date?n.endDate=this._local_to_utc(this._zero_time(n.endDate)):n.endDate=k.parseDate(n.endDate,s,n.language,n.assumeNearbyYear):n.endDate=1/0),n.daysOfWeekDisabled=this._resolveDaysOfWeek(n.daysOfWeekDisabled||[]),n.daysOfWeekHighlighted=this._resolveDaysOfWeek(n.daysOfWeekHighlighted||[]),n.datesDisabled=n.datesDisabled||[],Array.isArray(n.datesDisabled)||(n.datesDisabled=n.datesDisabled.split(",")),n.datesDisabled=_.map(n.datesDisabled,function(t){return k.parseDate(t,s,n.language,n.assumeNearbyYear);}),String(n.orientation).toLowerCase().split(/\s+/g)),t=n.orientation.toLowerCase(),o=_.grep(o,function(t){return /^auto|left|right|top|bottom$/.test(t);});if(n.orientation={x:"auto",y:"auto"},t&&"auto"!==t)if(1===o.length)switch(o[0]){case"top":case"bottom":n.orientation.y=o[0];break;case"left":case"right":n.orientation.x=o[0];}else t=_.grep(o,function(t){return /^left|right$/.test(t);}),n.orientation.x=t[0]||"auto",t=_.grep(o,function(t){return /^top|bottom$/.test(t);}),n.orientation.y=t[0]||"auto";n.defaultViewDate instanceof Date||"string"==typeof n.defaultViewDate?n.defaultViewDate=k.parseDate(n.defaultViewDate,s,n.language,n.assumeNearbyYear):n.defaultViewDate?(t=n.defaultViewDate.year||new Date().getFullYear(),e=n.defaultViewDate.month||0,i=n.defaultViewDate.day||1,n.defaultViewDate=c(t,e,i)):n.defaultViewDate=d();},_applyEvents:function _applyEvents(t){for(var e,i,n,s=0;s<t.length;s++){e=t[s][0],2===t[s].length?(i=$,n=t[s][1]):3===t[s].length&&(i=t[s][1],n=t[s][2]),e.on(n,i);}},_unapplyEvents:function _unapplyEvents(t){for(var e,i,n,s=0;s<t.length;s++){e=t[s][0],2===t[s].length?(n=$,i=t[s][1]):3===t[s].length&&(n=t[s][1],i=t[s][2]),e.off(i,n);}},_buildEvents:function _buildEvents(){var t={keyup:_.proxy(function(t){-1===_.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update();},this),keydown:_.proxy(this.keydown,this),paste:_.proxy(this.paste,this)};!0===this.o.showOnFocus&&(t.focus=_.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.inputField.length?this._events=[[this.inputField,t],[this.component,{click:_.proxy(this.show,this)}]]:this._events=[[this.element,{click:_.proxy(this.show,this),keydown:_.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:_.proxy(function(t){this._focused_from=t.target;},this)}],[this.element,{blur:_.proxy(function(t){this._focused_from=t.target;},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":_.proxy(function(t){this.update(t.date);},this)}]),this._secondaryEvents=[[this.picker,{click:_.proxy(this.click,this)}],[this.picker,".prev, .next",{click:_.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:_.proxy(this.dayCellClick,this)}],[_(window),{resize:_.proxy(this.place,this)}],[_(document),{"mousedown touchstart":_.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide();},this)}]];},_attachEvents:function _attachEvents(){this._detachEvents(),this._applyEvents(this._events);},_detachEvents:function _detachEvents(){this._unapplyEvents(this._events);},_attachSecondaryEvents:function _attachSecondaryEvents(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents);},_detachSecondaryEvents:function _detachSecondaryEvents(){this._unapplyEvents(this._secondaryEvents);},_trigger:function _trigger(t,e){e=e||this.dates.get(-1),e=this._utc_to_local(e);this.element.trigger({type:t,date:e,viewMode:this.viewMode,dates:_.map(this.dates,this._utc_to_local),format:_.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return k.formatDate(i,e,this.o.language);},this)});},show:function show(){if(!(this.inputField.is(":disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&_(this.element).blur(),this;},hide:function hide(){return this.isInline||!this.picker.is(":visible")||(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide")),this;},destroy:function destroy(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this;},paste:function paste(t){var e;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==_.inArray("text/plain",t.originalEvent.clipboardData.types))e=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;e=window.clipboardData.getData("Text");}this.setDate(e),this.update(),t.preventDefault();},_utc_to_local:function _utc_to_local(t){if(!t)return t;var e=new Date(t.getTime()+6e4*t.getTimezoneOffset());return e=e.getTimezoneOffset()!==t.getTimezoneOffset()?new Date(t.getTime()+6e4*e.getTimezoneOffset()):e;},_local_to_utc:function _local_to_utc(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset());},_zero_time:function _zero_time(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate());},_zero_utc_time:function _zero_utc_time(t){return t&&c(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate());},getDates:function getDates(){return _.map(this.dates,this._utc_to_local);},getUTCDates:function getUTCDates(){return _.map(this.dates,function(t){return new Date(t);});},getDate:function getDate(){return this._utc_to_local(this.getUTCDate());},getUTCDate:function getUTCDate(){var t=this.dates.get(-1);return t!==$?new Date(t):null;},clearDates:function clearDates(){this.inputField.val(""),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide();},setDates:function setDates(){var t=Array.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this;},setUTCDates:function setUTCDates(){var t=Array.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,_.map(t,this._utc_to_local)),this;},setDate:f("setDates"),setUTCDate:f("setUTCDates"),remove:f("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function setValue(){var t=this.getFormattedDate();return this.inputField.val(t),this;},getFormattedDate:function getFormattedDate(e){e===$&&(e=this.o.format);var i=this.o.language;return _.map(this.dates,function(t){return k.formatDate(t,e,i);}).join(this.o.multidateSeparator);},getStartDate:function getStartDate(){return this.o.startDate;},setStartDate:function setStartDate(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this;},getEndDate:function getEndDate(){return this.o.endDate;},setEndDate:function setEndDate(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this;},setDaysOfWeekDisabled:function setDaysOfWeekDisabled(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this;},setDaysOfWeekHighlighted:function setDaysOfWeekHighlighted(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this;},setDatesDisabled:function setDatesDisabled(t){return this._process_options({datesDisabled:t}),this.update(),this;},place:function place(){if(this.isInline)return this;var t=this.picker.outerWidth(),e=this.picker.outerHeight(),i=_(this.o.container),n=i.width(),s=("body"===this.o.container?_(document):i).scrollTop(),i=i.offset(),o=[0],a=(this.element.parents().each(function(){var t=_(this).css("z-index");"auto"!==t&&0!==Number(t)&&o.push(Number(t));}),Math.max.apply(Math,o)+this.o.zIndexOffset),r=(this.component?this.component.parent():this.element).offset(),l=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),c=r.left-i.left,i=r.top-i.top;"body"!==this.o.container&&(i+=s),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(c-=t-h)):r.left<0?(this.picker.addClass("datepicker-orient-left"),c-=r.left-10):n<c+t?(this.picker.addClass("datepicker-orient-right"),c+=h-t):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");r=this.o.orientation.y;return"auto"===r&&(r=-s+i-e<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+r),"top"===r?i-=e+parseInt(this.picker.css("padding-top")):i+=l,this.o.rtl?this.picker.css({top:i,right:n-(c+h),zIndex:a}):this.picker.css({top:i,left:c,zIndex:a}),this;},_allow_update:!0,update:function update(){if(!this._allow_update)return this;var t=this.dates.copy(),i=[],e=!1;return arguments.length?(_.each(arguments,_.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e);},this)),e=!0):(i=(i=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=_.map(i,_.proxy(function(t){return k.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear);},this)),i=_.grep(i,_.proxy(function(t){return!this.dateWithinRange(t)||!t;},this),!0),this.dates.replace(i),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),e?(this.setValue(),this.element.change()):this.dates.length&&String(t)!==String(this.dates)&&e&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&t.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this;},fillDow:function fillDow(){if(this.o.showWeekDays){var t=this.o.weekStart,e="<tr>";for(this.o.calendarWeeks&&(e+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;){e+='<th class="dow',-1!==_.inArray(t,this.o.daysOfWeekDisabled)&&(e+=" disabled"),e+='">'+S[this.o.language].daysMin[t++%7]+"</th>";}e+="</tr>",this.picker.find(".datepicker-days thead").append(e);}},fillMonths:function fillMonths(){for(var t=this._utc_to_local(this.viewDate),e="",i=0;i<12;i++){e+='<span class="month'+(t&&t.getMonth()===i?" focused":"")+'">'+S[this.o.language].monthsShort[i]+"</span>";}this.picker.find(".datepicker-months td").html(e);},setRange:function setRange(t){t&&t.length?this.range=_.map(t,function(t){return t.valueOf();}):delete this.range,this.fill();},getClassNames:function getClassNames(t){var i=[],n=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),o=d();return t.getUTCFullYear()<n||t.getUTCFullYear()===n&&t.getUTCMonth()<s?i.push("old"):(t.getUTCFullYear()>n||t.getUTCFullYear()===n&&t.getUTCMonth()>s)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&e(t,o)&&i.push("today"),-1!==this.dates.contains(t)&&i.push("active"),this.dateWithinRange(t)||i.push("disabled"),this.dateIsDisabled(t)&&i.push("disabled","disabled-date"),-1!==_.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&i.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),-1!==_.inArray(t.valueOf(),this.range)&&i.push("selected"),t.valueOf()===this.range[0]&&i.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i;},_fill_yearsView:function _fill_yearsView(t,e,i,n,s,o,a){for(var r,l,h,c="",u=i/10,t=this.picker.find(t),d=Math.floor(n/i)*i,p=d+9*u,f=Math.floor(this.viewDate.getFullYear()/u)*u,m=_.map(this.dates,function(t){return Math.floor(t.getUTCFullYear()/u)*u;}),g=d-u;g<=p+u;g+=u){r=[e],l=null,g===d-u?r.push("old"):g===p+u&&r.push("new"),-1!==_.inArray(g,m)&&r.push("active"),(g<s||o<g)&&r.push("disabled"),g===f&&r.push("focused"),a!==_.noop&&((h=a(new Date(g,0,1)))===$?h={}:"boolean"==typeof h?h={enabled:h}:"string"==typeof h&&(h={classes:h}),!1===h.enabled&&r.push("disabled"),h.classes&&(r=r.concat(h.classes.split(/\s+/))),h.tooltip&&(l=h.tooltip)),c+='<span class="'+r.join(" ")+'"'+(l?' title="'+l+'"':"")+">"+g+"</span>";}t.find(".datepicker-switch").text(d+"-"+p),t.find("td").html(c);},fill:function fill(){var t,e,i=new Date(this.viewDate),n=i.getUTCFullYear(),s=i.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,r=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,h=S[this.o.language].today||S.en.today||"",u=S[this.o.language].clear||S.en.clear||"",p=S[this.o.language].titleFormat||S.en.titleFormat,f=d(),f=(!0===this.o.todayBtn||"linked"===this.o.todayBtn)&&f>=this.o.startDate&&f<=this.o.endDate&&!this.weekOfDateIsDisabled(f);if(!isNaN(n)&&!isNaN(s)){this.picker.find(".datepicker-days .datepicker-switch").text(k.formatDate(i,p,this.o.language)),this.picker.find("tfoot .today").text(h).css("display",f?"table-cell":"none"),this.picker.find("tfoot .clear").text(u).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var m=c(n,s,0),i=m.getUTCDate(),g=(m.setUTCDate(i-(m.getUTCDay()-this.o.weekStart+7)%7),new Date(m));m.getUTCFullYear()<100&&g.setUTCFullYear(m.getUTCFullYear()),g.setUTCDate(g.getUTCDate()+42);for(var v,g=g.valueOf(),b=[];m.valueOf()<g;){(v=m.getUTCDay())===this.o.weekStart&&(b.push("<tr>"),this.o.calendarWeeks)&&(y=new Date(+m+(this.o.weekStart-v-7)%7*864e5),y=new Date(Number(y)+(11-y.getUTCDay())%7*864e5),C=new Date(Number(C=c(y.getUTCFullYear(),0,1))+(11-C.getUTCDay())%7*864e5),b.push('<td class="cw">'+((y-C)/864e5/7+1)+"</td>")),(y=this.getClassNames(m)).push("day");var y,C=m.getUTCDate();this.o.beforeShowDay!==_.noop&&((e=this.o.beforeShowDay(this._utc_to_local(m)))===$?e={}:"boolean"==typeof e?e={enabled:e}:"string"==typeof e&&(e={classes:e}),!1===e.enabled&&y.push("disabled"),e.classes&&(y=y.concat(e.classes.split(/\s+/))),e.tooltip&&(t=e.tooltip),e.content&&(C=e.content)),y="function"==typeof _.uniqueSort?_.uniqueSort(y):_.unique(y),b.push('<td class="'+y.join(" ")+'"'+(t?' title="'+t+'"':"")+' data-date="'+m.getTime().toString()+'">'+C+"</td>"),t=null,v===this.o.weekEnd&&b.push("</tr>"),m.setUTCDate(m.getUTCDate()+1);}this.picker.find(".datepicker-days tbody").html(b.join(""));var w,p=S[this.o.language].monthsTitle||S.en.monthsTitle||"Months",x=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?p:n).end().find("tbody span").removeClass("active");_.each(this.dates,function(t,e){e.getUTCFullYear()===n&&x.eq(e.getUTCMonth()).addClass("active");}),(n<o||r<n)&&x.addClass("disabled"),n===o&&x.slice(0,a).addClass("disabled"),n===r&&x.slice(l+1).addClass("disabled"),this.o.beforeShowMonth!==_.noop&&(w=this,_.each(x,function(t,e){t=new Date(n,t,1),t=w.o.beforeShowMonth(t);t===$?t={}:"boolean"==typeof t?t={enabled:t}:"string"==typeof t&&(t={classes:t}),!1!==t.enabled||_(e).hasClass("disabled")||_(e).addClass("disabled"),t.classes&&_(e).addClass(t.classes),t.tooltip&&_(e).prop("title",t.tooltip);})),this._fill_yearsView(".datepicker-years","year",10,n,o,r,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,n,o,r,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,n,o,r,this.o.beforeShowCentury);}},updateNavArrows:function updateNavArrows(){if(this._allow_update){var t,e,i=new Date(this.viewDate),n=i.getUTCFullYear(),s=i.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,r=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,h=1;switch(this.viewMode){case 4:h*=10;case 3:h*=10;case 2:h*=10;case 1:t=Math.floor(n/h)*h<=o,e=Math.floor(n/h)*h+h>r;break;case 0:t=n<=o&&s<=a,e=r<=n&&l<=s;}this.picker.find(".prev").toggleClass("disabled",t),this.picker.find(".next").toggleClass("disabled",e);}},click:function click(t){var e,i;t.preventDefault(),t.stopPropagation(),(t=_(t.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),t.hasClass("today")&&!t.hasClass("day")&&(this.setViewMode(0),this._setDate(d(),"linked"===this.o.todayBtn?null:"view")),t.hasClass("clear")&&this.clearDates(),t.hasClass("disabled")||(t.hasClass("month")||t.hasClass("year")||t.hasClass("decade")||t.hasClass("century"))&&(this.viewDate.setUTCDate(1),1===this.viewMode?(i=t.parent().find("span").index(t),e=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(i)):(i=0,e=Number(t.text()),this.viewDate.setUTCFullYear(e)),this._trigger(k.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(c(e,i,1)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from;},dayCellClick:function dayCellClick(t){t=_(t.currentTarget).data("date"),t=new Date(t);this.o.updateViewDate&&(t.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),t.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(t);},navArrowsClick:function navArrowsClick(t){t=_(t.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(t*=12*k.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,t),this._trigger(k.viewModes[this.viewMode].e,this.viewDate),this.fill();},_toggle_multidate:function _toggle_multidate(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(e):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(t)),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;){this.dates.remove(0);}},_setDate:function _setDate(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),(!e&&this.o.updateViewDate||"view"===e)&&(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||e&&"date"!==e||this.hide();},moveDay:function moveDay(t,e){var i=new Date(t);return i.setUTCDate(t.getUTCDate()+e),i;},moveWeek:function moveWeek(t,e){return this.moveDay(t,7*e);},moveMonth:function moveMonth(t,e){if(!(i=t)||isNaN(i.getTime()))return this.o.defaultViewDate;var i;if(!e)return t;var n,s,o=new Date(t.valueOf()),a=o.getUTCDate(),r=o.getUTCMonth(),l=Math.abs(e);if(e=0<e?1:-1,1===l)s=-1===e?function(){return o.getUTCMonth()===r;}:function(){return o.getUTCMonth()!==n;},n=r+e,o.setUTCMonth(n),n=(n+12)%12;else{for(var h=0;h<l;h++){o=this.moveMonth(o,e);}n=o.getUTCMonth(),o.setUTCDate(a),s=function s(){return n!==o.getUTCMonth();};}for(;s();){o.setUTCDate(--a),o.setUTCMonth(n);}return o;},moveYear:function moveYear(t,e){return this.moveMonth(t,12*e);},moveAvailableDate:function moveAvailableDate(t,e,i){do{if(t=this[i](t,e),!this.dateWithinRange(t))return!1;}while((i="moveDay",this.dateIsDisabled(t)));return t;},weekOfDateIsDisabled:function weekOfDateIsDisabled(t){return-1!==_.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled);},dateIsDisabled:function dateIsDisabled(i){return this.weekOfDateIsDisabled(i)||0<_.grep(this.o.datesDisabled,function(t){return e(i,t);}).length;},dateWithinRange:function dateWithinRange(t){return t>=this.o.startDate&&t<=this.o.endDate;},keydown:function keydown(t){if(this.picker.is(":visible")){var e,i,n=!1,s=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(i=this.moveAvailableDate(s,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(i=this.moveAvailableDate(s,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?i=this.moveAvailableDate(s,e,"moveDay"):this.weekOfDateIsDisabled(s)||(i=this.moveAvailableDate(s,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e*=4),i=this.moveAvailableDate(s,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e*=4),i=this.moveAvailableDate(s,e,"moveYear")),i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;s=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(s),n=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide();}n&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"));}else 40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation());},setViewMode:function setViewMode(t){this.viewMode=t,this.picker.children("div").hide().filter(".datepicker-"+k.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate));}},kn.prototype={updateDates:function updateDates(){this.dates=_.map(this.pickers,function(t){return t.getUTCDate();}),this.updateRanges();},updateRanges:function updateRanges(){var i=_.map(this.dates,function(t){return t.valueOf();});_.each(this.pickers,function(t,e){e.setRange(i);});},clearDates:function clearDates(){_.each(this.pickers,function(t,e){e.clearDates();});},dateUpdated:function dateUpdated(t){if(!this.updating){this.updating=!0;var i=_.data(t.target,"datepicker");if(i!==$){var n=i.getUTCDate(),s=this.keepEmptyValues,t=_.inArray(t.target,this.inputs),e=t-1,o=t+1,a=this.inputs.length;if(-1!==t){if(_.each(this.pickers,function(t,e){e.getUTCDate()||e!==i&&s||e.setUTCDate(n);}),n<this.dates[e])for(;0<=e&&n<this.dates[e]&&0<(this.pickers[e].element.val()||"").length;){this.pickers[e--].setUTCDate(n);}else if(n>this.dates[o])for(;o<a&&n>this.dates[o]&&0<(this.pickers[o].element.val()||"").length;){this.pickers[o++].setUTCDate(n);}this.updateDates(),delete this.updating;}}}},destroy:function destroy(){_.map(this.pickers,function(t){t.destroy();}),_(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker;},remove:f("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")},_.fn.datepicker),o=function o(_o){var a,r=Array.apply(null,arguments);if(r.shift(),this.each(function(){var t,e,i=_(this),n=i.data("datepicker"),s="object"==(typeof _o==="undefined"?"undefined":_typeof(_o))&&_o;n||(t=function(t,e){function d(t,e){return e.toLowerCase();}var i,n,s=_(t).data(),o={},a=new RegExp("^"+e.toLowerCase()+"([A-Z])");for(n in e=new RegExp("^"+e.toLowerCase()),s){e.test(n)&&(i=n.replace(a,d),o[i]=s[n]);}return o;}(this,"date"),e=function(t){var i,n={};if(S[t]||(t=t.split("-")[0],S[t]))return i=S[t],_.each(h,function(t,e){e in i&&(n[e]=i[e]);}),n;}(_.extend({},l,t,s).language),e=_.extend({},l,e,t,s),n=i.hasClass("input-daterange")||e.inputs?(_.extend(e,{inputs:e.inputs||i.find("input").toArray()}),new kn(this,e)):new en(this,e),i.data("datepicker",n)),"string"==typeof _o&&"function"==typeof n[_o]&&(a=n[_o].apply(n,r));}),a===$||a instanceof en||a instanceof kn)return this;if(1<this.length)throw new Error("Using only allowed for the collection of a single element ("+_o+" function)");return a;},l=(_.fn.datepicker=o,_.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:_.noop,beforeShowMonth:_.noop,beforeShowYear:_.noop,beforeShowDecade:_.noop,beforeShowCentury:_.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",isInline:null,keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0}),h=_.fn.datepicker.locale_opts=["format","rtl","weekStart"],S=(_.fn.datepicker.Constructor=en,_.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}}),k={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function parseFormat(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),t=t.match(this.validParts);if(e&&e.length&&t&&0!==t.length)return{separators:e,parts:t};throw new Error("Invalid date format.");},parseDate:function parseDate(t,e,n,s){function i(){var t=this.slice(0,p[C].length),e=p[C].slice(0,t.length);return t.toLowerCase()===e.toLowerCase();}if(!t)return $;if(t instanceof Date)return t;if((e="string"==typeof e?k.parseFormat(e):e).toValue)return e.toValue(t,e,n);var o,a,r,l={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},h={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(t=t in h?h[t]:t)){for(p=t.match(/([\-+]\d+)([dmwy])/gi),t=new Date(),C=0;C<p.length;C++){o=p[C].match(/([\-+]\d+)([dmwy])/i),a=Number(o[1]),r=l[o[2].toLowerCase()],t=en.prototype[r](t,a);}return en.prototype._zero_utc_time(t);}var c,u,p=t&&t.match(this.nonpunctuation)||[],f={},m=["yyyy","yy","M","MM","m","mm","d","dd"],g={yyyy:function yyyy(t,e){return t.setUTCFullYear(s?(!0===(t=s)&&(t=10),(i=e)<100&&(i+=2e3)>new Date().getFullYear()+t&&(i-=100),i):e);var i;},m:function m(t,e){if(isNaN(t))return t;for(--e;e<0;){e+=12;}for(t.setUTCMonth(e%=12);t.getUTCMonth()!==e;){t.setUTCDate(t.getUTCDate()-1);}return t;},d:function d(t,e){return t.setUTCDate(e);}},v=(g.yy=g.yyyy,g.M=g.MM=g.mm=g.m,g.dd=g.d,t=d(),e.parts.slice());if(p.length!==v.length&&(v=_(v).filter(function(t,e){return-1!==_.inArray(e,m);}).toArray()),p.length===v.length){for(var b,y,C=0,w=v.length;C<w;C++){if(c=parseInt(p[C],10),o=v[C],isNaN(c))switch(o){case"MM":u=_(S[n].months).filter(i),c=_.inArray(u[0],S[n].months)+1;break;case"M":u=_(S[n].monthsShort).filter(i),c=_.inArray(u[0],S[n].monthsShort)+1;}f[o]=c;}for(C=0;C<m.length;C++){(y=m[C])in f&&!isNaN(f[y])&&(b=new Date(t),g[y](b,f[y]),isNaN(b)||(t=b));}}return t;},formatDate:function formatDate(t,e,i){if(!t)return"";if((e="string"==typeof e?k.parseFormat(e):e).toDisplay)return e.toDisplay(t,e,i);var n={d:t.getUTCDate(),D:S[i].daysShort[t.getUTCDay()],DD:S[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:S[i].monthsShort[t.getUTCMonth()],MM:S[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,t=[];for(var s=_.extend([],e.separators),o=0,a=e.parts.length;o<=a;o++){s.length&&t.push(s.shift()),t.push(n[e.parts[o]]);}return t.join("");},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+l.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+l.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};k.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+k.headTemplate+"<tbody></tbody>"+k.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+k.headTemplate+k.contTemplate+k.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+k.headTemplate+k.contTemplate+k.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+k.headTemplate+k.contTemplate+k.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+k.headTemplate+k.contTemplate+k.footTemplate+"</table></div></div>",_.fn.datepicker.DPGlobal=k,_.fn.datepicker.noConflict=function(){return _.fn.datepicker=t,this;},_.fn.datepicker.version="1.10.0",_.fn.datepicker.deprecated=function(t){var e=window.console;e&&e.warn&&e.warn("DEPRECATED: "+t);},_(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var e=_(this);e.data("datepicker")||(t.preventDefault(),o.call(e,"show"));}),_(function(){o.call(_('[data-provide="datepicker-inline"]'));});}),jQuery.fn.datepicker.dates.de={days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],daysShort:["So","Mo","Di","Mi","Do","Fr","Sa"],daysMin:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],today:"Heute",monthsTitle:"Monate",clear:"Löschen",weekStart:1,format:"dd.mm.yyyy"},jQuery.fn.datepicker.dates.it={days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],daysShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],daysMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],today:"Oggi",monthsTitle:"Mesi",clear:"Cancella",weekStart:1,format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates.fr={days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],daysShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],daysMin:["d","l","ma","me","j","v","s"],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthsShort:["janv.","févr.","mars","avril","mai","juin","juil.","août","sept.","oct.","nov.","déc."],today:"Aujourd'hui",monthsTitle:"Mois",clear:"Effacer",weekStart:1,format:"dd/mm/yyyy"},/*!
 * Masonry PACKAGED v4.2.2
 * Cascading grid layout library
 * https://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */!function(e,i){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(t){return i(e,t);}):"object"==(typeof module==="undefined"?"undefined":_typeof(module))&&module.exports?module.exports=i(e,require("jquery")):e.jQueryBridget=i(e,e.jQuery);}(window,function(t,e){"use strict";function i(l,h,c){(c=c||e||t.jQuery)&&(h.prototype.option||(h.prototype.option=function(t){c.isPlainObject(t)&&(this.options=c.extend(!0,this.options,t));}),c.fn[l]=function(t){var e,n,s,o,a,r;return"string"==typeof t?(e=u.call(arguments,1),s=e,a="$()."+l+'("'+(n=t)+'")',(e=this).each(function(t,e){var i,e=c.data(e,l);e?(i=e[n])&&"_"!=n.charAt(0)?(i=i.apply(e,s),o=void 0===o?i:o):d(a+" is not a valid method"):d(l+" not initialized. Cannot call methods, i.e. "+a);}),void 0!==o?o:e):(r=t,this.each(function(t,e){var i=c.data(e,l);i?(i.option(r),i._init()):(i=new h(e,r),c.data(e,l,i));}),this);},n(c));}function n(t){t&&!t.bridget&&(t.bridget=i);}var u=Array.prototype.slice,s=t.console,d=void 0===s?function(){}:function(t){s.error(t);};return n(e||t.jQuery),i;}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==(typeof module==="undefined"?"undefined":_typeof(module))&&module.exports?module.exports=e():t.EvEmitter=e();}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){var i;if(t&&e)return-1==(i=(i=this._events=this._events||{})[t]=i[t]||[]).indexOf(e)&&i.push(e),this;},e.once=function(t,e){var i;if(t&&e)return this.on(t,e),((i=this._onceEvents=this._onceEvents||{})[t]=i[t]||{})[e]=!0,this;},e.off=function(t,e){t=this._events&&this._events[t];if(t&&t.length)return-1!=(e=t.indexOf(e))&&t.splice(e,1),this;},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],s=0;s<i.length;s++){var o=i[s];n&&n[o]&&(this.off(t,o),delete n[o]),o.apply(this,e);}return this;}},e.allOff=function(){delete this._events,delete this._onceEvents;},t;}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==(typeof module==="undefined"?"undefined":_typeof(module))&&module.exports?module.exports=e():t.getSize=e();}(window,function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e;}function n(t){t=getComputedStyle(t);return t||e("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),t;}function r(e){if(x||(x=!0,(p=document.createElement("div")).style.width="200px",p.style.padding="1px 2px 3px 4px",p.style.borderStyle="solid",p.style.borderWidth="1px 2px 3px 4px",p.style.boxSizing="border-box",(d=document.body||document.documentElement).appendChild(p),l=n(p),y=200==Math.round(t(l.width)),r.isBoxSizeOuter=y,d.removeChild(p)),(e="string"==typeof e?document.querySelector(e):e)&&"object"==(typeof e==="undefined"?"undefined":_typeof(e))&&e.nodeType){var i=n(e);if("none"==i.display){for(var s={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},o=0;o<w;o++){s[C[o]]=0;}return s;}var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var l=a.isBorderBox="border-box"==i.boxSizing,h=0;h<w;h++){var c=C[h],u=i[c],u=parseFloat(u);a[c]=isNaN(u)?0:u;}var d=a.paddingLeft+a.paddingRight,p=a.paddingTop+a.paddingBottom,e=a.marginLeft+a.marginRight,f=a.marginTop+a.marginBottom,m=a.borderLeftWidth+a.borderRightWidth,g=a.borderTopWidth+a.borderBottomWidth,v=l&&y,b=t(i.width),b=(!1!==b&&(a.width=b+(v?0:d+m)),t(i.height));return!1!==b&&(a.height=b+(v?0:p+g)),a.innerWidth=a.width-(d+m),a.innerHeight=a.height-(p+g),a.outerWidth=a.width+e,a.outerHeight=a.height+f,a;}var p,d,l;}var y,e="undefined"==typeof console?function(){}:function(t){console.error(t);},C=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],w=C.length,x=!1;return r;}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==(typeof module==="undefined"?"undefined":_typeof(module))&&module.exports?module.exports=e():t.matchesSelector=e();}(window,function(){"use strict";var i=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n;}}();return function(t,e){return t[i](e);};}),function(e,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(t){return i(e,t);}):"object"==(typeof module==="undefined"?"undefined":_typeof(module))&&module.exports?module.exports=i(e,require("desandro-matches-selector")):e.fizzyUIUtils=i(e,e.matchesSelector);}(window,function(i,o){var l={extend:function extend(t,e){for(var i in e){t[i]=e[i];}return t;},modulo:function modulo(t,e){return(t%e+e)%e;}},e=Array.prototype.slice,h=(l.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==(typeof t==="undefined"?"undefined":_typeof(t))&&"number"==typeof t.length?e.call(t):[t];},l.removeFrom=function(t,e){e=t.indexOf(e);-1!=e&&t.splice(e,1);},l.getParent=function(t,e){for(;t.parentNode&&t!=document.body;){if(t=t.parentNode,o(t,e))return t;}},l.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t;},l.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t);},l.filterFindElements=function(t,n){t=l.makeArray(t);var s=[];return t.forEach(function(t){if(t instanceof HTMLElement)if(n){o(t,n)&&s.push(t);for(var e=t.querySelectorAll(n),i=0;i<e.length;i++){s.push(e[i]);}}else s.push(t);}),s;},l.debounceMethod=function(t,e,n){n=n||100;var s=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o],e=(clearTimeout(t),arguments),i=this;this[o]=setTimeout(function(){s.apply(i,e),delete i[o];},n);};},l.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t);},l.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i;}).toLowerCase();},i.console);return l.htmlInit=function(a,r){l.docReady(function(){var t=l.toDashed(r),n="data-"+t,e=document.querySelectorAll("["+n+"]"),t=document.querySelectorAll(".js-"+t),e=l.makeArray(e).concat(l.makeArray(t)),s=n+"-options",o=i.jQuery;e.forEach(function(e){var t,i=e.getAttribute(n)||e.getAttribute(s);try{t=i&&JSON.parse(i);}catch(t){return void(h&&h.error("Error parsing "+n+" on "+e.className+": "+t));}i=new a(e,t);o&&o.data(e,r,i);});});},l;}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==(typeof module==="undefined"?"undefined":_typeof(module))&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize));}(window,function(t,e){"use strict";function n(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create());}var i=document.documentElement.style,s="string"==typeof i.transition?"transition":"WebkitTransition",i="string"==typeof i.transform?"transform":"WebkitTransform",o={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[s],a={transform:i,transition:s,transitionDuration:s+"Duration",transitionProperty:s+"Property",transitionDelay:s+"Delay"},t=n.prototype=Object.create(t.prototype),r=(t.constructor=n,t._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"});},t.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t);},t.getSize=function(){this.size=e(this.element);},t.css=function(t){var e,i=this.element.style;for(e in t){i[a[e]||e]=t[e];}},t.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],t=t[i?"top":"bottom"],s=parseFloat(n),o=parseFloat(t),a=this.layout.size;-1!=n.indexOf("%")&&(s=s/100*a.width),-1!=t.indexOf("%")&&(o=o/100*a.height),s=isNaN(s)?0:s,o=isNaN(o)?0:o,s-=e?a.paddingLeft:a.paddingRight,o-=i?a.paddingTop:a.paddingBottom,this.position.x=s,this.position.y=o;},t.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),s=i?"right":"left",o=this.position.x+t[i?"paddingLeft":"paddingRight"],i=(e[i?"left":"right"]=this.getXValue(o),e[s]="",n?"paddingTop":"paddingBottom"),o=n?"bottom":"top",s=this.position.y+t[i];e[n?"top":"bottom"]=this.getYValue(s),e[o]="",this.css(e),this.emitEvent("layout",[this]);},t.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px";},t.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px";},t._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,s=t==this.position.x&&e==this.position.y;this.setPosition(t,e),s&&!this.isTransitioning?this.layoutPosition():((s={}).transform=this.getTranslate(t-i,e-n),this.transition({to:s,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0}));},t.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)";},t.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition();},t.moveTo=t._transitionTo,t.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e);},t._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd){t.onTransitionEnd[e].call(this);}},t.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e,i=this._transn;for(e in t.onTransitionEnd){i.onEnd[e]=t.onTransitionEnd[e];}for(e in t.to){i.ingProperties[e]=!0,t.isCleaning&&(i.clean[e]=!0);}t.from&&(this.css(t.from),this.element.offsetHeight,0),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0;}else this._nonTransition(t);},"opacity,"+i.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase();})),l=(t.enableTransition=function(){var t;this.isTransitioning||(t="number"==typeof(t=this.layout.options.transitionDuration)?t+"ms":t,this.css({transitionProperty:r,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(o,this,!1));},t.onwebkitTransitionEnd=function(t){this.ontransitionend(t);},t.onotransitionend=function(t){this.ontransitionend(t);},{"-webkit-transform":"transform"}),h=(t.ontransitionend=function(t){var e,i;t.target===this.element&&(e=this._transn,i=l[t.propertyName]||t.propertyName,delete e.ingProperties[i],function(t){for(var e in t){return;}return 1;}(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd&&(e.onEnd[i].call(this),delete e.onEnd[i]),this.emitEvent("transitionEnd",[this]));},t.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(o,this,!1),this.isTransitioning=!1;},t._removeStyles=function(t){var e,i={};for(e in t){i[e]="";}this.css(i);},{transitionProperty:"",transitionDuration:"",transitionDelay:""});return t.removeTransitionStyles=function(){this.css(h);},t.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms";},t.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this]);},t.remove=function(){return s&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem();}),void this.hide()):void this.removeElem();},t.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e});},t.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal");},t.getHideRevealTransitionEndProperty=function(t){var e,t=this.layout.options[t];if(t.opacity)return"opacity";for(e in t){return e;}},t.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e});},t.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"));},t.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""});},n;}),function(s,o){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(t,e,i,n){return o(s,t,e,i,n);}):"object"==(typeof module==="undefined"?"undefined":_typeof(module))&&module.exports?module.exports=o(s,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):s.Outlayer=o(s,s.EvEmitter,s.getSize,s.fizzyUIUtils,s.Outlayer.Item);}(window,function(t,e,o,n,a){"use strict";function r(t,e){var i=n.getQueryElement(t);i?(this.element=i,h&&(this.$element=h(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e),e=++c,this.element.outlayerGUID=e,(u[e]=this)._create(),this._getOption("initLayout")&&this.layout()):l&&l.error("Bad element for "+this.constructor.namespace+": "+(i||t));}function s(t){function e(){t.apply(this,arguments);}return(e.prototype=Object.create(t.prototype)).constructor=e;}function Gy(){}var l=t.console,h=t.jQuery,c=0,u={},i=(r.namespace="outlayer",r.Item=a,r.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},r.prototype),d=(n.extend(i,e.prototype),i.option=function(t){n.extend(this.options,t);},i._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t];},r.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},i._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize();},i.reloadItems=function(){this.items=this._itemize(this.element.children);},i._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],s=0;s<e.length;s++){var o=new i(e[s],this);n.push(o);}return n;},i._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector);},i.getItemElements=function(){return this.items.map(function(t){return t.element;});},i.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),t=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0;},i._init=i.layout,i._resetLayout=function(){this.getSize();},i.getSize=function(){this.size=o(this.element);},i._getMeasurement=function(t,e){var i,n=this.options[t];n?("string"==typeof n?i=this.element.querySelector(n):n instanceof HTMLElement&&(i=n),this[t]=i?o(i)[e]:n):this[t]=0;},i.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout();},i._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored;});},i._layoutItems=function(t,i){var n;this._emitCompleteOnItems("layout",t),t&&t.length&&(n=[],t.forEach(function(t){var e=this._getItemLayoutPosition(t);e.item=t,e.isInstant=i||t.isLayoutInstant,n.push(e);},this),this._processLayoutQueue(n));},i._getItemLayoutPosition=function(){return{x:0,y:0};},i._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e);},this);},i.updateStagger=function(){var t=this.options.stagger;return null==t?void(this.stagger=0):(this.stagger=function(t){if("number"==typeof t)return t;var e=(t=t.match(/(^\d*\.?\d*)(\w*)/))&&t[1],t=t&&t[2];return e.length?parseFloat(e)*(d[t]||1):0;}(t),this.stagger);},i._positionItem=function(t,e,i,n,s){n?t.goTo(e,i):(t.stagger(s*this.stagger),t.moveTo(e,i));},i._postLayout=function(){this.resizeContainer();},i.resizeContainer=function(){var t;this._getOption("resizeContainer")&&(t=this._getContainerSize())&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1));},i._getContainerSize=Gy,i._setContainerMeasure=function(t,e){var i;void 0!==t&&((i=this.size).isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px");},i._emitCompleteOnItems=function(e,t){function i(){o.dispatchEvent(e+"Complete",null,[t]);}function n(){++s==a&&i();}var s,o=this,a=t.length;t&&a?(s=0,t.forEach(function(t){t.once(e,n);})):i();},i.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;this.emitEvent(t,n),h&&(this.$element=this.$element||h(this.element),e?((n=h.Event(e)).type=t,this.$element.trigger(n,i)):this.$element.trigger(t,i));},i.ignore=function(t){t=this.getItem(t);t&&(t.isIgnored=!0);},i.unignore=function(t){t=this.getItem(t);t&&delete t.isIgnored;},i.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this));},i.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t);},this);},i._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),n.makeArray(t)):void 0;},i._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this));},i._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)};},i._manageStamp=Gy,i._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,t=o(t);return{left:e.left-i.left-t.marginLeft,top:e.top-i.top-t.marginTop,right:i.right-e.right-t.marginRight,bottom:i.bottom-e.bottom-t.marginBottom};},i.handleEvent=n.handleEvent,i.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0;},i.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1;},i.onresize=function(){this.resize();},n.debounceMethod(r,"onresize",100),i.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout();},i.needsResizeLayout=function(){var t=o(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth;},i.addItems=function(t){t=this._itemize(t);return t.length&&(this.items=this.items.concat(t)),t;},i.appended=function(t){t=this.addItems(t);t.length&&(this.layoutItems(t,!0),this.reveal(t));},i.prepended=function(t){var e,t=this._itemize(t);t.length&&(e=this.items.slice(0),this.items=t.concat(e),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(e));},i.reveal=function(t){var i;this._emitCompleteOnItems("reveal",t),t&&t.length&&(i=this.updateStagger(),t.forEach(function(t,e){t.stagger(e*i),t.reveal();}));},i.hide=function(t){var i;this._emitCompleteOnItems("hide",t),t&&t.length&&(i=this.updateStagger(),t.forEach(function(t,e){t.stagger(e*i),t.hide();}));},i.revealItemElements=function(t){t=this.getItems(t);this.reveal(t);},i.hideItemElements=function(t){t=this.getItems(t);this.hide(t);},i.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i;}},i.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){t=this.getItem(t);t&&e.push(t);},this),e;},i.remove=function(t){t=this.getItems(t);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(t){t.remove(),n.removeFrom(this.items,t);},this);},i.destroy=function(){var t=this.element.style,t=(t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy();}),this.unbindResize(),this.element.outlayerGUID);delete u[t],delete this.element.outlayerGUID,h&&h.removeData(this.element,this.constructor.namespace);},r.data=function(t){t=(t=n.getQueryElement(t))&&t.outlayerGUID;return t&&u[t];},r.create=function(t,e){var i=s(r);return i.defaults=n.extend({},r.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},r.compatOptions),i.namespace=t,i.data=r.data,i.Item=s(a),n.htmlInit(i,t),h&&h.bridget&&h.bridget(t,i),i;},{ms:1,s:1e3});return r.Item=a,r;}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==(typeof module==="undefined"?"undefined":_typeof(module))&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize);}(window,function(t,r){var t=t.create("masonry"),e=(t.compatOptions.fitWidth="isFitWidth",t.prototype);return e._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++){this.colYs.push(0);}this.maxY=0,this.horizontalColIndex=0;},e.measureColumns=function(){this.getContainerWidth(),this.columnWidth||(t=(t=this.items[0])&&t.element,this.columnWidth=t&&r(t).outerWidth||this.containerWidth);var t=this.columnWidth+=this.gutter,e=this.containerWidth+this.gutter,i=e/t,e=t-e%t,i=Math[e&&e<1?"round":"floor"](i);this.cols=Math.max(i,1);},e.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,t=r(t);this.containerWidth=t&&t.innerWidth;},e._getItemLayoutPosition=function(t){t.getSize();for(var e=t.size.outerWidth%this.columnWidth,e=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth),e=Math.min(e,this.cols),i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](e,t),n={x:this.columnWidth*i.col,y:i.y},s=i.y+t.size.outerHeight,o=e+i.col,a=i.col;a<o;a++){this.colYs[a]=s;}return n;},e._getTopColPosition=function(t){var t=this._getTopColGroup(t),e=Math.min.apply(Math,t);return{col:t.indexOf(e),y:e};},e._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;n<i;n++){e[n]=this._getColGroupY(n,t);}return e;},e._getColGroupY=function(t,e){if(e<2)return this.colYs[t];t=this.colYs.slice(t,t+e);return Math.max.apply(Math,t);},e._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols,i=1<t&&i+t>this.cols?0:i,e=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=e?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)};},e._manageStamp=function(t){var e=r(t),t=this._getElementOffset(t),i=this._getOption("originLeft")?t.left:t.right,n=i+e.outerWidth,i=Math.floor(i/this.columnWidth),i=Math.max(0,i),s=Math.floor(n/this.columnWidth);s-=n%this.columnWidth?0:1;for(var s=Math.min(this.cols-1,s),o=(this._getOption("originTop")?t.top:t.bottom)+e.outerHeight,a=i;a<=s;a++){this.colYs[a]=Math.max(o,this.colYs[a]);}},e._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t;},e._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];){t++;}return(this.cols-t)*this.columnWidth-this.gutter;},e.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth;},t;}),/*!
 * imagesLoaded PACKAGED v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */!function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==(typeof module==="undefined"?"undefined":_typeof(module))&&module.exports?module.exports=e():t.EvEmitter=e();}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(t,e){var i;if(t&&e)return-1==(i=(i=this._events=this._events||{})[t]=i[t]||[]).indexOf(e)&&i.push(e),this;},t.once=function(t,e){var i;if(t&&e)return this.on(t,e),((i=this._onceEvents=this._onceEvents||{})[t]=i[t]||{})[e]=!0,this;},t.off=function(t,e){t=this._events&&this._events[t];if(t&&t.length)return-1!=(e=t.indexOf(e))&&t.splice(e,1),this;},t.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],s=0;s<i.length;s++){var o=i[s];n&&n[o]&&(this.off(t,o),delete n[o]),o.apply(this,e);}return this;}},t.allOff=function(){delete this._events,delete this._onceEvents;},e;}),function(e,i){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(t){return i(e,t);}):"object"==(typeof module==="undefined"?"undefined":_typeof(module))&&module.exports?module.exports=i(e,require("ev-emitter")):e.imagesLoaded=i(e,e.EvEmitter);}("undefined"!=typeof window?window:this,function(e,t){function i(t,e){for(var i in e){t[i]=e[i];}return t;}function o(t,e,n){if(!(this instanceof o))return new o(t,e,n);var s,a=t;return(a="string"==typeof t?document.querySelectorAll(t):a)?(this.elements=(s=a,Array.isArray(s)?s:"object"==(typeof s==="undefined"?"undefined":_typeof(s))&&"number"==typeof s.length?c.call(s):[s]),this.options=i({},this.options),"function"==typeof e?n=e:i(this.options,e),n&&this.on("always",n),this.getImages(),l&&(this.jqDeferred=new l.Deferred()),void setTimeout(this.check.bind(this))):void h.error("Bad element for imagesLoaded "+(a||t));}function r(t){this.img=t;}function s(t,e){this.url=t,this.element=e,this.img=new Image();}var l=e.jQuery,h=e.console,c=Array.prototype.slice,u=((o.prototype=Object.create(t.prototype)).options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this);},o.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&u[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var s=i[n];this.addImage(s);}if("string"==typeof this.options.background)for(var o=t.querySelectorAll(this.options.background),n=0;n<o.length;n++){var a=o[n];this.addElementBackgroundImages(a);}}},{1:!0,9:!0,11:!0});return o.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var s=n&&n[2];s&&this.addBackground(s,t),n=i.exec(e.backgroundImage);}},o.prototype.addImage=function(t){t=new r(t);this.images.push(t);},o.prototype.addBackground=function(t,e){t=new s(t,e);this.images.push(t);},o.prototype.check=function(){function e(t,e,i){setTimeout(function(){n.progress(t,e,i);});}var n=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check();}):void this.complete();},o.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&h&&h.log("progress: "+i,t,e);},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(t=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[t](this));},(r.prototype=Object.create(t.prototype)).check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image(),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src));},r.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth;},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e]);},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t);},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents();},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents();},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);},(s.prototype=Object.create(r.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents());},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e]);},(o.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((l=t).fn.imagesLoaded=function(t,e){return new o(this,t,e).jqDeferred.promise(l(this));});})(),o;}),/*!
 * Chart.js v2.9.4
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */!function(t,e){"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e(function(){try{return require("moment");}catch(t){}}()):"function"==typeof define&&define.amd?define(["require"],function(t){return e(function(){try{return t("moment");}catch(t){}}());}):(t=t||self).Chart=e(t.moment);}(this,function(o){"use strict";o=o&&o.hasOwnProperty("default")?o.default:o;var l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},b=function(t){var e,i=t={exports:{}},r={};for(e in l){l.hasOwnProperty(e)&&(r[l[e]]=e);}var n,s=i.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(n in s){if(s.hasOwnProperty(n)){if(!("channels"in s[n]))throw new Error("missing channels property: "+n);if(!("labels"in s[n]))throw new Error("missing channel labels property: "+n);if(s[n].labels.length!==s[n].channels)throw new Error("channel and label counts mismatch: "+n);var o=s[n].channels,a=s[n].labels;delete s[n].channels,delete s[n].labels,Object.defineProperty(s[n],"channels",{value:o}),Object.defineProperty(s[n],"labels",{value:a});}}return s.rgb.hsl=function(t){var e,i=t[0]/255,n=t[1]/255,t=t[2]/255,s=Math.min(i,n,t),o=Math.max(i,n,t),a=o-s;return o===s?e=0:i===o?e=(n-t)/a:n===o?e=2+(t-i)/a:t===o&&(e=4+(i-n)/a),(e=Math.min(60*e,360))<0&&(e+=360),t=(s+o)/2,[e,100*(o===s?0:t<=.5?a/(o+s):a/(2-o-s)),100*t];},s.rgb.hsv=function(t){function eH(t){return(l-t)/6/h+.5;}var e,i,n,s,o,a=t[0]/255,r=t[1]/255,t=t[2]/255,l=Math.max(a,r,t),h=l-Math.min(a,r,t);return 0==h?s=o=0:(o=h/l,e=eH(a),i=eH(r),n=eH(t),a===l?s=n-i:r===l?s=1/3+e-n:t===l&&(s=2/3+i-e),s<0?s+=1:1<s&&--s),[360*s,100*o,100*l];},s.rgb.hwb=function(t){var e=t[0],i=t[1],n=t[2];return[s.rgb.hsl(t)[0],1/255*Math.min(e,Math.min(i,n))*100,100*(1-1/255*Math.max(e,Math.max(i,n)))];},s.rgb.cmyk=function(t){var e=t[0]/255,i=t[1]/255,t=t[2]/255;return[100*((1-e-(e=Math.min(1-e,1-i,1-t)))/(1-e)||0),100*((1-i-e)/(1-e)||0),100*((1-t-e)/(1-e)||0),100*e];},s.rgb.keyword=function(t){var e=r[t];if(e)return e;var i,n,s,o,a=1/0;for(s in l){l.hasOwnProperty(s)&&(o=t,n=l[s],(o=Math.pow(o[0]-n[0],2)+Math.pow(o[1]-n[1],2)+Math.pow(o[2]-n[2],2))<a&&(a=o,i=s));}return i;},s.keyword.rgb=function(t){return l[t];},s.rgb.xyz=function(t){var e=t[0]/255,i=t[1]/255,t=t[2]/255;return[100*(.4124*(e=.04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(i=.04045<i?Math.pow((i+.055)/1.055,2.4):i/12.92)+.1805*(t=.04045<t?Math.pow((t+.055)/1.055,2.4):t/12.92)),100*(.2126*e+.7152*i+.0722*t),100*(.0193*e+.1192*i+.9505*t)];},s.rgb.lab=function(t){var t=s.rgb.xyz(t),e=t[0],i=t[1],t=t[2];return i/=100,t/=108.883,e=.008856<(e/=95.047)?Math.pow(e,1/3):7.787*e+16/116,[116*(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116)-16,500*(e-i),200*(i-(t=.008856<t?Math.pow(t,1/3):7.787*t+16/116))];},s.hsl.rgb=function(t){var e,i,n,s=t[0]/360,o=t[1]/100,t=t[2]/100;if(0==o)return[n=255*t,n,n];for(var a=2*t-(e=t<.5?t*(1+o):t+o-t*o),r=[0,0,0],l=0;l<3;l++){(i=s+1/3*-(l-1))<0&&i++,1<i&&i--,r[l]=255*(n=6*i<1?a+6*(e-a)*i:2*i<1?e:3*i<2?a+(e-a)*(2/3-i)*6:a);}return r;},s.hsl.hsv=function(t){var e=t[0],i=t[1]/100,t=t[2]/100,n=i,s=Math.max(t,.01);return i*=(t*=2)<=1?t:2-t,n*=s<=1?s:2-s,[e,100*(0==t?2*n/(s+n):2*i/(t+i)),(t+i)/2*100];},s.hsv.rgb=function(t){var e=t[0]/60,i=t[1]/100,n=t[2]/100,t=Math.floor(e)%6,e=e-Math.floor(e),s=255*n*(1-i),o=255*n*(1-i*e),a=255*n*(1-i*(1-e));switch(n*=255,t){case 0:return[n,a,s];case 1:return[o,n,s];case 2:return[s,n,a];case 3:return[s,o,n];case 4:return[a,s,n];case 5:return[n,s,o];}},s.hsv.hsl=function(t){var e=t[0],i=t[1]/100,t=t[2]/100,n=Math.max(t,.01),t=(2-i)*t;return[e,100*(i*n/((e=(2-i)*n)<=1?e:2-e)||0),100*(t/=2)];},s.hwb.rgb=function(t){var e,i,n,s,o,a=t[0]/360,r=t[1]/100,t=t[2]/100,l=r+t;switch(1<l&&(r/=l,t/=l),a=6*a-(l=Math.floor(6*a)),i=r+(a=0!=(1&l)?1-a:a)*((e=1-t)-r),l){default:case 6:case 0:n=e,s=i,o=r;break;case 1:n=i,s=e,o=r;break;case 2:n=r,s=e,o=i;break;case 3:n=r,s=i,o=e;break;case 4:n=i,s=r,o=e;break;case 5:n=e,s=r,o=i;}return[255*n,255*s,255*o];},s.cmyk.rgb=function(t){var e=t[0]/100,i=t[1]/100,n=t[2]/100,t=t[3]/100;return[255*(1-Math.min(1,e*(1-t)+t)),255*(1-Math.min(1,i*(1-t)+t)),255*(1-Math.min(1,n*(1-t)+t))];},s.xyz.rgb=function(t){var e=t[0]/100,i=t[1]/100,t=t[2]/100,n=-.9689*e+1.8758*i+.0415*t,s=.0557*e+-.204*i+1.057*t,e=.0031308<(e=3.2406*e+-1.5372*i+-.4986*t)?1.055*Math.pow(e,1/2.4)-.055:12.92*e;return n=.0031308<n?1.055*Math.pow(n,1/2.4)-.055:12.92*n,s=.0031308<s?1.055*Math.pow(s,1/2.4)-.055:12.92*s,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(s=Math.min(Math.max(0,s),1))];},s.xyz.lab=function(t){var e=t[0],i=t[1],t=t[2];return i/=100,t/=108.883,e=.008856<(e/=95.047)?Math.pow(e,1/3):7.787*e+16/116,[116*(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116)-16,500*(e-i),200*(i-(t=.008856<t?Math.pow(t,1/3):7.787*t+16/116))];},s.lab.xyz=function(t){var e=t[0],i=t[1]/500+(e=(e+16)/116),t=e-t[2]/200,n=Math.pow(e,3),s=Math.pow(i,3),o=Math.pow(t,3),e=.008856<n?n:(e-16/116)/7.787;return i=.008856<s?s:(i-16/116)/7.787,t=.008856<o?o:(t-16/116)/7.787,[i*=95.047,e*=100,t*=108.883];},s.lab.lch=function(t){var e,i=t[0],n=t[1],t=t[2];return(e=360*Math.atan2(t,n)/2/Math.PI)<0&&(e+=360),[i,Math.sqrt(n*n+t*t),e];},s.lch.lab=function(t){var e=t[0],i=t[1],t=t[2]/360*2*Math.PI;return[e,i*Math.cos(t),i*Math.sin(t)];},s.rgb.ansi16=function(t){var e=t[0],i=t[1],n=t[2],t=1 in arguments?arguments[1]:s.rgb.hsv(t)[2];if(0===(t=Math.round(t/50)))return 30;n=30+(Math.round(n/255)<<2|Math.round(i/255)<<1|Math.round(e/255));return 2===t&&(n+=60),n;},s.hsv.ansi16=function(t){return s.rgb.ansi16(s.hsv.rgb(t),t[2]);},s.rgb.ansi256=function(t){var e=t[0],i=t[1],t=t[2];return e===i&&i===t?e<8?16:248<e?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(i/255*5)+Math.round(t/255*5);},s.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return 50<t&&(e+=3.5),[e=e/10.5*255,e,e];t=.5*(1+~~(50<t));return[(1&e)*t*255,(e>>1&1)*t*255,(e>>2&1)*t*255];},s.ansi256.rgb=function(t){var e;return 232<=t?[e=10*(t-232)+8,e,e]:(t-=16,[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]);},s.rgb.hex=function(t){t=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t;},s.hex.rgb=function(t){t=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var e=t[0],t=(3===t[0].length&&(e=e.split("").map(function(t){return t+t;}).join("")),parseInt(e,16));return[t>>16&255,t>>8&255,255&t];},s.rgb.hcg=function(t){var e=t[0]/255,i=t[1]/255,t=t[2]/255,n=Math.max(Math.max(e,i),t),s=Math.min(Math.min(e,i),t),o=n-s;return[360*((o<=0?0:n===e?(i-t)/o%6:n===i?2+(t-e)/o:4+(e-i)/o+4)/6%1),100*o,100*(o<1?s/(1-o):0)];},s.hsl.hcg=function(t){var e=t[1]/100,i=t[2]/100,n=0;return(e=i<.5?2*e*i:2*e*(1-i))<1&&(n=(i-.5*e)/(1-e)),[t[0],100*e,100*n];},s.hsv.hcg=function(t){var e=t[1]/100,i=t[2]/100,e=e*i,i=e<1?(i-e)/(1-e):0;return[t[0],100*e,100*i];},s.hcg.rgb=function(t){var e=t[0]/360,i=t[1]/100,t=t[2]/100;if(0==i)return[255*t,255*t,255*t];var n=[0,0,0],e=e%1*6,s=e%1,o=1-s;switch(Math.floor(e)){case 0:n[0]=1,n[1]=s,n[2]=0;break;case 1:n[0]=o,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=s;break;case 3:n[0]=0,n[1]=o,n[2]=1;break;case 4:n[0]=s,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=o;}return[255*(i*n[0]+(e=(1-i)*t)),255*(i*n[1]+e),255*(i*n[2]+e)];},s.hcg.hsv=function(t){var e=t[1]/100,i=e+t[2]/100*(1-e),e=0<i?e/i:0;return[t[0],100*e,100*i];},s.hcg.hsl=function(t){var e=t[1]/100,i=t[2]/100*(1-e)+.5*e,n=0;return 0<i&&i<.5?n=e/(2*i):.5<=i&&i<1&&(n=e/(2*(1-i))),[t[0],100*n,100*i];},s.hcg.hwb=function(t){var e=t[1]/100,i=e+t[2]/100*(1-e);return[t[0],100*(i-e),100*(1-i)];},s.hwb.hcg=function(t){var e=t[1]/100,i=1-t[2]/100,e=i-e,i=e<1?(i-e)/(1-e):0;return[t[0],100*e,100*i];},s.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255];},s.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535];},s.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255];},s.gray.hsl=s.gray.hsv=function(t){return[0,0,t[0]];},s.gray.hwb=function(t){return[0,100,t[0]];},s.gray.cmyk=function(t){return[0,0,0,t[0]];},s.gray.lab=function(t){return[t[0],0,0];},s.gray.hex=function(t){t=255&Math.round(t[0]/100*255),t=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(t.length)+t;},s.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100];},t.exports;}();function r(t,e){for(var i=[e[t].parent,t],n=b[e[t].parent][t],s=e[t].parent;e[s].parent;){i.unshift(e[s].parent),n=function(e,i){return function(t){return i(e(t));};}(b[e[s].parent][s],n),s=e[s].parent;}return n.conversion=i,n;}b.rgb,b.hsl,b.hsv,b.hwb,b.cmyk,b.xyz,b.lab,b.lch,b.hex,b.keyword,b.ansi16,b.ansi256,b.hcg,b.apple,b.gray;var Y={},Q=(Object.keys(b).forEach(function(a){Y[a]={},Object.defineProperty(Y[a],"channels",{value:b[a].channels}),Object.defineProperty(Y[a],"labels",{value:b[a].labels});var n=function(){for(var t=function(t){var e=function(){for(var t={},e=Object.keys(b),i=e.length,n=0;n<i;n++){t[e[n]]={distance:-1,parent:null};}return t;}(),i=[t];for(e[t].distance=0;i.length;){for(var n=i.pop(),s=Object.keys(b[n]),o=s.length,a=0;a<o;a++){var r=s[a],l=e[r];-1===l.distance&&(l.distance=e[n].distance+1,l.parent=n,i.unshift(r));}}return e;}(a),e={},i=Object.keys(t),n=i.length,s=0;s<n;s++){var o=i[s];null!==t[o].parent&&(e[o]=r(o,t));}return e;}();Object.keys(n).forEach(function(t){var e,s,i=n[t];function nL(t){return null==t?t:(1<arguments.length&&(t=Array.prototype.slice.call(arguments)),e(t));}function hL(t){if(null==t)return t;1<arguments.length&&(t=Array.prototype.slice.call(arguments));var e=s(t);if("object"==(typeof e==="undefined"?"undefined":_typeof(e)))for(var i=e.length,n=0;n<i;n++){e[n]=Math.round(e[n]);}return e;}Y[a][t]=("conversion"in(s=i)&&(hL.conversion=s.conversion),hL),Y[a][t].raw=("conversion"in(e=i)&&(nL.conversion=e.conversion),nL);});}),Y),X={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},i={getRgba:d,getHsla:h,getRgb:function getRgb(t){t=d(t);return t&&t.slice(0,3);},getHsl:function getHsl(t){t=h(t);return t&&t.slice(0,3);},getHwb:c,getAlpha:function getAlpha(t){var e=d(t);return(e=e||h(t))||(e=c(t))?e[3]:void 0;},hexString:function hexString(t,e){return e=void 0!==e&&3===t.length?e:t[3],"#"+v(t[0])+v(t[1])+v(t[2])+(0<=e&&e<1?v(Math.round(255*e)):"");},rgbString:function rgbString(t,e){return e<1||t[3]&&t[3]<1?f(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")";},rgbaString:f,percentString:function percentString(t,e){return e<1||t[3]&&t[3]<1?g(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)";},percentaString:g,hslString:function hslString(t,e){return e<1||t[3]&&t[3]<1?p(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)";},hslaString:p,hwbString:function hwbString(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")";},keyword:function keyword(t){return K[t.slice(0,3)];}};function d(t){if(t){var e=[0,0,0],i=1,n=t.match(/^#([a-fA-F0-9]{3,4})$/i),s="";if(n){for(var s=(n=n[1])[3],o=0;o<e.length;o++){e[o]=parseInt(n[o]+n[o],16);}s&&(i=Math.round(parseInt(s+s,16)/255*100)/100);}else if(n=t.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(s=n[2],n=n[1],o=0;o<e.length;o++){e[o]=parseInt(n.slice(2*o,2*o+2),16);}s&&(i=Math.round(parseInt(s,16)/255*100)/100);}else if(n=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(o=0;o<e.length;o++){e[o]=parseInt(n[o+1]);}i=parseFloat(n[4]);}else if(n=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(o=0;o<e.length;o++){e[o]=Math.round(2.55*parseFloat(n[o+1]));}i=parseFloat(n[4]);}else if(n=t.match(/(\w+)/)){if("transparent"==n[1])return[0,0,0,0];if(!(e=X[n[1]]))return;}for(o=0;o<e.length;o++){e[o]=m(e[o],0,255);}return i=i||0==i?m(i,0,1):1,e[3]=i,e;}}function h(t){if(t){var e,t=t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t)return e=parseFloat(t[4]),[m(parseInt(t[1]),0,360),m(parseFloat(t[2]),0,100),m(parseFloat(t[3]),0,100),m(isNaN(e)?1:e,0,1)];}}function c(t){if(t){var e,t=t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t)return e=parseFloat(t[4]),[m(parseInt(t[1]),0,360),m(parseFloat(t[2]),0,100),m(parseFloat(t[3]),0,100),m(isNaN(e)?1:e,0,1)];}}function f(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")";}function g(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")";}function p(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")";}function m(t,e,i){return Math.min(Math.max(e,t),i);}function v(t){t=t.toString(16).toUpperCase();return t.length<2?"0"+t:t;}var J,K={};for(J in X){K[X[J]]=J;}function MD(t){return t instanceof MD?t:this instanceof MD?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof t?(e=i.getRgba(t))?this.setValues("rgb",e):(e=i.getHsla(t))?this.setValues("hsl",e):(e=i.getHwb(t))&&this.setValues("hwb",e):"object"==(typeof t==="undefined"?"undefined":_typeof(t))&&(void 0!==(e=t).r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e)))):new MD(t);var e;}(MD.prototype={isValid:function isValid(){return this.valid;},rgb:function rgb(){return this.setSpace("rgb",arguments);},hsl:function hsl(){return this.setSpace("hsl",arguments);},hsv:function hsv(){return this.setSpace("hsv",arguments);},hwb:function hwb(){return this.setSpace("hwb",arguments);},cmyk:function cmyk(){return this.setSpace("cmyk",arguments);},rgbArray:function rgbArray(){return this.values.rgb;},hslArray:function hslArray(){return this.values.hsl;},hsvArray:function hsvArray(){return this.values.hsv;},hwbArray:function hwbArray(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb;},cmykArray:function cmykArray(){return this.values.cmyk;},rgbaArray:function rgbaArray(){var t=this.values;return t.rgb.concat([t.alpha]);},hslaArray:function hslaArray(){var t=this.values;return t.hsl.concat([t.alpha]);},alpha:function alpha(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this);},red:function red(t){return this.setChannel("rgb",0,t);},green:function green(t){return this.setChannel("rgb",1,t);},blue:function blue(t){return this.setChannel("rgb",2,t);},hue:function hue(t){return t=t&&((t%=360)<0?360+t:t),this.setChannel("hsl",0,t);},saturation:function saturation(t){return this.setChannel("hsl",1,t);},lightness:function lightness(t){return this.setChannel("hsl",2,t);},saturationv:function saturationv(t){return this.setChannel("hsv",1,t);},whiteness:function whiteness(t){return this.setChannel("hwb",1,t);},blackness:function blackness(t){return this.setChannel("hwb",2,t);},value:function value(t){return this.setChannel("hsv",2,t);},cyan:function cyan(t){return this.setChannel("cmyk",0,t);},magenta:function magenta(t){return this.setChannel("cmyk",1,t);},yellow:function yellow(t){return this.setChannel("cmyk",2,t);},black:function black(t){return this.setChannel("cmyk",3,t);},hexString:function hexString(){return i.hexString(this.values.rgb);},rgbString:function rgbString(){return i.rgbString(this.values.rgb,this.values.alpha);},rgbaString:function rgbaString(){return i.rgbaString(this.values.rgb,this.values.alpha);},percentString:function percentString(){return i.percentString(this.values.rgb,this.values.alpha);},hslString:function hslString(){return i.hslString(this.values.hsl,this.values.alpha);},hslaString:function hslaString(){return i.hslaString(this.values.hsl,this.values.alpha);},hwbString:function hwbString(){return i.hwbString(this.values.hwb,this.values.alpha);},keyword:function keyword(){return i.keyword(this.values.rgb,this.values.alpha);},rgbNumber:function rgbNumber(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2];},luminosity:function luminosity(){for(var t=this.values.rgb,e=[],i=0;i<t.length;i++){var n=t[i]/255;e[i]=n<=.03928?n/12.92:Math.pow((.055+n)/1.055,2.4);}return .2126*e[0]+.7152*e[1]+.0722*e[2];},contrast:function contrast(t){var e=this.luminosity(),t=t.luminosity();return t<e?(e+.05)/(t+.05):(t+.05)/(e+.05);},level:function level(t){t=this.contrast(t);return 7.1<=t?"AAA":4.5<=t?"AA":"";},dark:function dark(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128;},light:function light(){return!this.dark();},negate:function negate(){for(var t=[],e=0;e<3;e++){t[e]=255-this.values.rgb[e];}return this.setValues("rgb",t),this;},lighten:function lighten(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this;},darken:function darken(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this;},saturate:function saturate(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this;},desaturate:function desaturate(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this;},whiten:function whiten(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this;},blacken:function blacken(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this;},greyscale:function greyscale(){var t=this.values.rgb,t=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[t,t,t]),this;},clearer:function clearer(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this;},opaquer:function opaquer(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this;},rotate:function rotate(t){var e=this.values.hsl,t=(e[0]+t)%360;return e[0]=t<0?360+t:t,this.setValues("hsl",e),this;},mix:function mix(t,e){var e=void 0===e?.5:e,i=2*e-1,n=this.alpha()-t.alpha(),i=(1+(i*n==-1?i:(i+n)/(1+i*n)))/2,n=1-i;return this.rgb(i*this.red()+n*t.red(),i*this.green()+n*t.green(),i*this.blue()+n*t.blue()).alpha(this.alpha()*e+t.alpha()*(1-e));},toJSON:function toJSON(){return this.rgb();},clone:function clone(){var t,e,i,n=new MD(),s=this.values,o=n.values;for(i in s){s.hasOwnProperty(i)&&(t=s[i],"[object Array]"===(e={}.toString.call(t))?o[i]=t.slice(0):"[object Number]"===e?o[i]=t:console.error("unexpected color value:",t));}return n;}}).spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},MD.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},MD.prototype.getValues=function(t){for(var e=this.values,i={},n=0;n<t.length;n++){i[t.charAt(n)]=e[t][n];}return 1!==e.alpha&&(i.a=e.alpha),i;},MD.prototype.setValues=function(t,e){var i,n,s=this.values,o=this.spaces,a=this.maxes,r=1;if(this.valid=!0,"alpha"===t)r=e;else if(e.length)s[t]=e.slice(0,t.length),r=e[t.length];else if(void 0!==e[t.charAt(0)]){for(h=0;h<t.length;h++){s[t][h]=e[t.charAt(h)];}r=e.a;}else if(void 0!==e[o[t][0]]){for(var l=o[t],h=0;h<t.length;h++){s[t][h]=e[l[h]];}r=e.alpha;}if(s.alpha=Math.max(0,Math.min(1,void 0===r?s.alpha:r)),"alpha"===t)return!1;for(h=0;h<t.length;h++){i=Math.max(0,Math.min(a[t][h],s[t][h])),s[t][h]=Math.round(i);}for(n in o){n!==t&&(s[n]=Q[t][n](s[t]));}return!0;},MD.prototype.setSpace=function(t,e){var i=e[0];return void 0===i?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i),this);},MD.prototype.setChannel=function(t,e,i){var n=this.values[t];return void 0===i?n[e]:(i===n[e]||(n[e]=i,this.setValues(t,n)),this);},"undefined"!=typeof window&&(window.Color=MD);var Z=MD;function k(t){return-1===["__proto__","prototype","constructor"].indexOf(t);}function lE(t){B.extend(this,t),this.initialize.apply(this,arguments);}var tt,y={noop:function noop(){},uid:(tt=0,function(){return tt++;}),isNullOrUndef:function isNullOrUndef(t){return null==t;},isArray:function isArray(t){if(Array.isArray&&Array.isArray(t))return!0;t=Object.prototype.toString.call(t);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6);},isObject:function isObject(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t);},isFinite:function(_isFinite){function isFinite(_x){return _isFinite.apply(this,arguments);}isFinite.toString=function(){return _isFinite.toString();};return isFinite;}(function(t){return("number"==typeof t||t instanceof Number)&&isFinite(t);}),valueOrDefault:function valueOrDefault(t,e){return void 0===t?e:t;},valueAtIndexOrDefault:function valueAtIndexOrDefault(t,e,i){return y.valueOrDefault(y.isArray(t)?t[e]:t,i);},callback:function callback(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e);},each:function each(t,e,i,n){var s,o,a;if(y.isArray(t)){if(o=t.length,n)for(s=o-1;0<=s;s--){e.call(i,t[s],s);}else for(s=0;s<o;s++){e.call(i,t[s],s);}}else if(y.isObject(t))for(o=(a=Object.keys(t)).length,s=0;s<o;s++){e.call(i,t[a[s]],a[s]);}},arrayEquals:function arrayEquals(t,e){var i,n,s,o;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i){if(s=t[i],o=e[i],s instanceof Array&&o instanceof Array){if(!y.arrayEquals(s,o))return!1;}else if(s!==o)return!1;}return!0;},clone:function clone(t){if(y.isArray(t))return t.map(y.clone);if(y.isObject(t)){for(var e=Object.create(t),i=Object.keys(t),n=i.length,s=0;s<n;++s){e[i[s]]=y.clone(t[i[s]]);}return e;}return t;},_merger:function _merger(t,e,i,n){var s;k(t)&&(s=e[t],i=i[t],y.isObject(s)&&y.isObject(i)?y.merge(s,i,n):e[t]=y.clone(i));},_mergerIf:function _mergerIf(t,e,i){var n;k(t)&&(n=e[t],i=i[t],y.isObject(n)&&y.isObject(i)?y.mergeIf(n,i):e.hasOwnProperty(t)||(e[t]=y.clone(i)));},merge:function merge(t,e,i){var n,s,o,a,r,l=y.isArray(e)?e:[e],h=l.length;if(!y.isObject(t))return t;for(n=(i=i||{}).merger||y._merger,s=0;s<h;++s){if(e=l[s],y.isObject(e))for(r=0,a=(o=Object.keys(e)).length;r<a;++r){n(o[r],t,e,i);}}return t;},mergeIf:function mergeIf(t,e){return y.merge(t,e,{merger:y._mergerIf});},extend:Object.assign||function(t){return y.merge(t,[].slice.call(arguments,1),{merger:function merger(t,e,i){e[t]=i[t];}});},inherits:function inherits(t){function VO(){this.constructor=i;}var e=this,i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments);};return VO.prototype=e.prototype,i.prototype=new VO(),i.extend=y.inherits,t&&y.extend(i.prototype,t),i.__super__=e.prototype,i;},_deprecated:function _deprecated(t,e,i,n){void 0!==e&&console.warn(t+': "'+i+'" is deprecated. Please use "'+n+'" instead');}},C=y,it=(y.callCallback=y.callback,y.indexOf=function(t,e,i){return Array.prototype.indexOf.call(t,e,i);},y.getValueOrDefault=y.valueOrDefault,y.getValueAtIndexOrDefault=y.valueAtIndexOrDefault,{linear:function linear(t){return t;},easeInQuad:function easeInQuad(t){return t*t;},easeOutQuad:function easeOutQuad(t){return-t*(t-2);},easeInOutQuad:function easeInOutQuad(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1);},easeInCubic:function easeInCubic(t){return t*t*t;},easeOutCubic:function easeOutCubic(t){return--t*t*t+1;},easeInOutCubic:function easeInOutCubic(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2);},easeInQuart:function easeInQuart(t){return t*t*t*t;},easeOutQuart:function easeOutQuart(t){return-(--t*t*t*t-1);},easeInOutQuart:function easeInOutQuart(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2);},easeInQuint:function easeInQuint(t){return t*t*t*t*t;},easeOutQuint:function easeOutQuint(t){return--t*t*t*t*t+1;},easeInOutQuint:function easeInOutQuint(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2);},easeInSine:function easeInSine(t){return 1-Math.cos(t*(Math.PI/2));},easeOutSine:function easeOutSine(t){return Math.sin(t*(Math.PI/2));},easeInOutSine:function easeInOutSine(t){return-.5*(Math.cos(Math.PI*t)-1);},easeInExpo:function easeInExpo(t){return 0===t?0:Math.pow(2,10*(t-1));},easeOutExpo:function easeOutExpo(t){return 1===t?1:1-Math.pow(2,-10*t);},easeInOutExpo:function easeInOutExpo(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t));},easeInCirc:function easeInCirc(t){return 1<=t?t:-(Math.sqrt(1-t*t)-1);},easeOutCirc:function easeOutCirc(t){return Math.sqrt(1- --t*t);},easeInOutCirc:function easeInOutCirc(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1);},easeInElastic:function easeInElastic(t){var e=1.70158,i=0,n=1;return 0===t?0:1===t?1:(i=i||.3,e=n<1?(n=1,i/4):i/(2*Math.PI)*Math.asin(1/n),-n*Math.pow(2,10*--t)*Math.sin((t-e)*(2*Math.PI)/i));},easeOutElastic:function easeOutElastic(t){var e=1.70158,i=0,n=1;return 0===t?0:1===t?1:(i=i||.3,e=n<1?(n=1,i/4):i/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1);},easeInOutElastic:function easeInOutElastic(t){var e=1.70158,i=0,n=1;return 0===t?0:2==(t/=.5)?1:(i=i||.45,e=n<1?(n=1,i/4):i/(2*Math.PI)*Math.asin(1/n),t<1?n*Math.pow(2,10*--t)*Math.sin((t-e)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*--t)*Math.sin((t-e)*(2*Math.PI)/i)*.5+1);},easeInBack:function easeInBack(t){return t*t*(2.70158*t-1.70158);},easeOutBack:function easeOutBack(t){return--t*t*(2.70158*t+1.70158)+1;},easeInOutBack:function easeInOutBack(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2);},easeInBounce:function easeInBounce(t){return 1-it.easeOutBounce(1-t);},easeOutBounce:function easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375;},easeInOutBounce:function easeInOutBounce(t){return t<.5?.5*it.easeInBounce(2*t):.5*it.easeOutBounce(2*t-1)+.5;}}),a={effects:it},x=(C.easingEffects=it,Math.PI),nt=x/180,st=2*x,_=x/2,ot=x/4,at=2*x/3,lt={clear:function clear(t){t.ctx.clearRect(0,0,t.width,t.height);},roundedRect:function roundedRect(t,e,i,n,s,o){var a,r,l,h;o?(a=e+(o=Math.min(o,s/2,n/2)),l=e+n-o,h=i+s-o,t.moveTo(e,r=i+o),a<l&&r<h?(t.arc(a,r,o,-x,-_),t.arc(l,r,o,-_,0),t.arc(l,h,o,0,_),t.arc(a,h,o,_,x)):a<l?(t.moveTo(a,i),t.arc(l,r,o,-_,_),t.arc(a,r,o,_,x+_)):r<h?(t.arc(a,r,o,-x,0),t.arc(a,h,o,0,x)):t.arc(a,r,o,-x,x),t.closePath(),t.moveTo(e,i)):t.rect(e,i,n,s);},drawPoint:function drawPoint(t,e,i,n,s,o){var a,r,l,h,c,u=(o||0)*nt;if(e&&"object"==(typeof e==="undefined"?"undefined":_typeof(e))&&("[object HTMLImageElement]"===(a=e.toString())||"[object HTMLCanvasElement]"===a))return t.save(),t.translate(n,s),t.rotate(u),t.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),void t.restore();if(!(isNaN(i)||i<=0)){switch(t.beginPath(),e){default:t.arc(n,s,i,0,st),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(u)*i,s-Math.cos(u)*i),u+=at,t.lineTo(n+Math.sin(u)*i,s-Math.cos(u)*i),u+=at,t.lineTo(n+Math.sin(u)*i,s-Math.cos(u)*i),t.closePath();break;case"rectRounded":h=i-(c=.516*i),r=Math.cos(u+ot)*h,l=Math.sin(u+ot)*h,t.arc(n-r,s-l,c,u-x,u-_),t.arc(n+l,s-r,c,u-_,u),t.arc(n+r,s+l,c,u,u+_),t.arc(n-l,s+r,c,u+_,u+x),t.closePath();break;case"rect":if(!o){h=Math.SQRT1_2*i,t.rect(n-h,s-h,2*h,2*h);break;}u+=ot;case"rectRot":r=Math.cos(u)*i,l=Math.sin(u)*i,t.moveTo(n-r,s-l),t.lineTo(n+l,s-r),t.lineTo(n+r,s+l),t.lineTo(n-l,s+r),t.closePath();break;case"crossRot":u+=ot;case"cross":r=Math.cos(u)*i,l=Math.sin(u)*i,t.moveTo(n-r,s-l),t.lineTo(n+r,s+l),t.moveTo(n+l,s-r),t.lineTo(n-l,s+r);break;case"star":r=Math.cos(u)*i,l=Math.sin(u)*i,t.moveTo(n-r,s-l),t.lineTo(n+r,s+l),t.moveTo(n+l,s-r),t.lineTo(n-l,s+r),u+=ot,r=Math.cos(u)*i,l=Math.sin(u)*i,t.moveTo(n-r,s-l),t.lineTo(n+r,s+l),t.moveTo(n+l,s-r),t.lineTo(n-l,s+r);break;case"line":r=Math.cos(u)*i,l=Math.sin(u)*i,t.moveTo(n-r,s-l),t.lineTo(n+r,s+l);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(u)*i,s+Math.sin(u)*i);}t.fill(),t.stroke();}},_isPointInArea:function _isPointInArea(t,e){return t.x>e.left-1e-6&&t.x<e.right+1e-6&&t.y>e.top-1e-6&&t.y<e.bottom+1e-6;},clipArea:function clipArea(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip();},unclipArea:function unclipArea(t){t.restore();},lineTo:function lineTo(t,e,i,n){var s,o=i.steppedLine;o?("middle"===o?(s=(e.x+i.x)/2,t.lineTo(s,(n?i:e).y),t.lineTo(s,(n?e:i).y)):"after"===o&&!n||"after"!==o&&n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y),t.lineTo(i.x,i.y)):i.tension?t.bezierCurveTo(n?e.controlPointPreviousX:e.controlPointNextX,n?e.controlPointPreviousY:e.controlPointNextY,n?i.controlPointNextX:i.controlPointPreviousX,n?i.controlPointNextY:i.controlPointPreviousY,i.x,i.y):t.lineTo(i.x,i.y);}},$=lt,S=(C.clear=lt.clear,C.drawRoundedRectangle=function(t){t.beginPath(),lt.roundedRect.apply(lt,arguments);},{_set:function _set(t,e){return C.merge(this[t]||(this[t]={}),e);}}),I=(S._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0}),S),ht=C.valueOrDefault,S={toLineHeight:function toLineHeight(t,e){var i=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100;}return e*t;},toPadding:function toPadding(t){var e,i,n,s;return C.isObject(t)?(e=+t.top||0,i=+t.right||0,n=+t.bottom||0,s=+t.left||0):e=i=n=s=+t||0,{top:e,right:i,bottom:n,left:s,height:e+n,width:s+i};},_parseFont:function _parseFont(t){var e=I.global,i=ht(t.fontSize,e.defaultFontSize),i={family:ht(t.fontFamily,e.defaultFontFamily),lineHeight:C.options.toLineHeight(ht(t.lineHeight,e.defaultLineHeight),i),size:i,style:ht(t.fontStyle,e.defaultFontStyle),weight:null,string:""};return i.string=!(t=i)||C.isNullOrUndef(t.size)||C.isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family,i;},resolve:function resolve(t,e,i,n){for(var s,o=!0,a=0,r=t.length;a<r;++a){if(void 0!==(s=t[a])&&(void 0!==e&&"function"==typeof s&&(s=s(e),o=!1),void 0!==i&&C.isArray(s)&&(s=s[i],o=!1),void 0!==s))return n&&!o&&(n.cacheable=!1),s;}}},T={_factorize:function _factorize(t){for(var e=[],i=Math.sqrt(t),n=1;n<i;n++){t%n==0&&(e.push(n),e.push(t/n));}return i===(0|i)&&e.push(i),e.sort(function(t,e){return t-e;}).pop(),e;},log10:Math.log10||function(t){var e=Math.log(t)*Math.LOG10E,i=Math.round(e);return t===Math.pow(10,i)?i:e;}},E=T,B=(C.log10=T.log10,C),T=$,$=S,S=E,E=(B.easing=a,B.canvas=T,B.options=$,B.math=S,B.rtl={getRtlAdapter:function getRtlAdapter(t,e,i){return t?(n=e,s=i,{x:function x(t){return n+n+s-t;},setWidth:function setWidth(t){s=t;},textAlign:function textAlign(t){return"center"===t?t:"right"===t?"left":"right";},xPlus:function xPlus(t,e){return t-e;},leftForLtr:function leftForLtr(t,e){return t-e;}}):{x:function x(t){return t;},setWidth:function setWidth(t){},textAlign:function textAlign(t){return t;},xPlus:function xPlus(t,e){return t+e;},leftForLtr:function leftForLtr(t,e){return t;}};var n,s;},overrideTextDirection:function overrideTextDirection(t,e){var i,n;"ltr"!==e&&"rtl"!==e||(n=[(i=t.canvas.style).getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=n);},restoreTextDirection:function restoreTextDirection(t){var e=t.prevTextDirection;void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]));}},B.extend(lE.prototype,{_type:void 0,initialize:function initialize(){this.hidden=!1;},pivot:function pivot(){var t=this;return t._view||(t._view=B.extend({},t._model)),t._start={},t;},transition:function transition(t){var e=this,i=e._model,n=e._start,s=e._view;if(i&&1!==t){for(var s=s||(e._view={}),n,o=n=n||(e._start={}),a=s,r=i,l=t,h,c,u,d,p,f=Object.keys(r),m=0,g=f.length;m<g;++m){if(u=r[h=f[m]],a.hasOwnProperty(h)||(a[h]=u),(d=a[h])!==u&&"_"!==h[0]){if(o.hasOwnProperty(h)||(o[h]=d),(d=typeof u==="undefined"?"undefined":_typeof(u))==_typeof(c=o[h]))if("string"==d){if((d=Z(c)).valid&&(p=Z(u)).valid){a[h]=p.mix(d,l).rgbString();continue;}}else if(B.isFinite(c)&&B.isFinite(u)){a[h]=c+(u-c)*l;continue;}a[h]=u;}}}else e._view=B.extend({},i),e._start=null;return e;},tooltipPosition:function tooltipPosition(){return{x:this._model.x,y:this._model.y};},hasValue:function hasValue(){return B.isNumber(this._model.x)&&B.isNumber(this._model.y);}}),lE.extend=B.inherits,lE),a=E.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),ct=a,ut=(Object.defineProperty(a.prototype,"animationObject",{get:function get(){return this;}}),Object.defineProperty(a.prototype,"chartInstance",{get:function get(){return this.chart;},set:function set(t){this.chart=t;}}),I._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:B.noop,onComplete:B.noop}}),{animations:[],request:null,addAnimation:function addAnimation(t,e,i,n){var s,o,a=this.animations;for(e.chart=t,e.startTime=Date.now(),e.duration=i,n||(t.animating=!0),s=0,o=a.length;s<o;++s){if(a[s].chart===t)return void(a[s]=e);}a.push(e),1===a.length&&this.requestAnimationFrame();},cancelAnimation:function cancelAnimation(e){var t=B.findIndex(this.animations,function(t){return t.chart===e;});-1!==t&&(this.animations.splice(t,1),e.animating=!1);},requestAnimationFrame:function requestAnimationFrame(){var t=this;null===t.request&&(t.request=B.requestAnimFrame.call(window,function(){t.request=null,t.startDigest();}));},startDigest:function startDigest(){this.advance(),0<this.animations.length&&this.requestAnimationFrame();},advance:function advance(){for(var t,e,i,n,s=this.animations,o=0;o<s.length;){e=(t=s[o]).chart,i=t.numSteps,n=Math.floor((Date.now()-t.startTime)/t.duration*i)+1,t.currentStep=Math.min(n,i),B.callback(t.render,[e,t],e),B.callback(t.onAnimationProgress,[t],e),t.currentStep>=i?(B.callback(t.onAnimationComplete,[t],e),e.animating=!1,s.splice(o,1)):++o;}}}),dt=B.options.resolve,pt=["push","pop","shift","splice","unshift"];function et(e,t){var i=e._chartjs;i&&(-1!==(t=(i=i.listeners).indexOf(t))&&i.splice(t,1),0<i.length||(pt.forEach(function(t){delete e[t];}),delete e._chartjs));}function sE(t,e){this.initialize(t,e);}B.extend(sE.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function initialize(t,e){var i=this;i.chart=t,i.index=e,i.linkScales(),i.addElements(),i._type=i.getMeta().type;},updateIndex:function updateIndex(t){this.index=t;},linkScales:function linkScales(){var t=this.getMeta(),e=this.chart,i=e.scales,n=this.getDataset(),e=e.options.scales;null!==t.xAxisID&&t.xAxisID in i&&!n.xAxisID||(t.xAxisID=n.xAxisID||e.xAxes[0].id),null!==t.yAxisID&&t.yAxisID in i&&!n.yAxisID||(t.yAxisID=n.yAxisID||e.yAxes[0].id);},getDataset:function getDataset(){return this.chart.data.datasets[this.index];},getMeta:function getMeta(){return this.chart.getDatasetMeta(this.index);},getScaleForId:function getScaleForId(t){return this.chart.scales[t];},_getValueScaleId:function _getValueScaleId(){return this.getMeta().yAxisID;},_getIndexScaleId:function _getIndexScaleId(){return this.getMeta().xAxisID;},_getValueScale:function _getValueScale(){return this.getScaleForId(this._getValueScaleId());},_getIndexScale:function _getIndexScale(){return this.getScaleForId(this._getIndexScaleId());},reset:function reset(){this._update(!0);},destroy:function destroy(){this._data&&et(this._data,this);},createMetaDataset:function createMetaDataset(){var t=this.datasetElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index});},createMetaData:function createMetaData(t){var e=this.dataElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index,_index:t});},addElements:function addElements(){for(var t=this.getMeta(),e=this.getDataset().data||[],i=t.data,n=0,s=e.length;n<s;++n){i[n]=i[n]||this.createMetaData(n);}t.dataset=t.dataset||this.createMetaDataset();},addElementAndReset:function addElementAndReset(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0);},buildOrUpdateElements:function buildOrUpdateElements(){var s,t,e=this,i=e.getDataset(),i=i.data||(i.data=[]);e._data!==i&&(e._data&&et(e._data,e),i&&Object.isExtensible(i)&&(t=e,(s=i)._chartjs?s._chartjs.listeners.push(t):(Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),pt.forEach(function(t){var i="onData"+t.charAt(0).toUpperCase()+t.slice(1),n=s[t];Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value:function value(){var e=Array.prototype.slice.call(arguments),t=n.apply(this,e);return B.each(s._chartjs.listeners,function(t){"function"==typeof t[i]&&t[i].apply(t,e);}),t;}});}))),e._data=i),e.resyncElements();},_configure:function _configure(){this._config=B.merge(Object.create(null),[this.chart.options.datasets[this._type],this.getDataset()],{merger:function merger(t,e,i){"_meta"!==t&&"data"!==t&&B._merger(t,e,i);}});},_update:function _update(t){this._configure(),this._cachedDataOpts=null,this.update(t);},update:B.noop,transition:function transition(t){for(var e=this.getMeta(),i=e.data||[],n=i.length,s=0;s<n;++s){i[s].transition(t);}e.dataset&&e.dataset.transition(t);},draw:function draw(){var t=this.getMeta(),e=t.data||[],i=e.length,n=0;for(t.dataset&&t.dataset.draw();n<i;++n){e[n].draw();}},getStyle:function getStyle(t){var e=this.getMeta(),i=e.dataset;return this._configure(),!1!==(i=i&&void 0===t?this._resolveDatasetElementOptions(i||{}):this._resolveDataElementOptions(e.data[t=t||0]||{},t)).fill&&null!==i.fill||(i.backgroundColor=i.borderColor),i;},_resolveDatasetElementOptions:function _resolveDatasetElementOptions(t,e){for(var i,n,s=this,o=s.chart,a=s._config,r=t.custom||{},l=o.options.elements[s.datasetElementType.prototype._type]||{},h=s._datasetElementOptions,c={},u={chart:o,dataset:s.getDataset(),datasetIndex:s.index,hover:e},d=0,p=h.length;d<p;++d){i=h[d],n=e?"hover"+i.charAt(0).toUpperCase()+i.slice(1):i,c[i]=dt([r[n],a[n],l[n]],u);}return c;},_resolveDataElementOptions:function _resolveDataElementOptions(t,e){var i=this,n=t&&t.custom,t=i._cachedDataOpts;if(t&&!n)return t;var s,o,a,r,t=i.chart,l=i._config,h=t.options.elements[i.dataElementType.prototype._type]||{},c=i._dataElementOptions,u={},d={chart:t,dataIndex:e,dataset:i.getDataset(),datasetIndex:i.index},p={cacheable:!n},n=n||{};if(B.isArray(c))for(o=0,a=c.length;o<a;++o){u[r=c[o]]=dt([n[r],l[r],h[r]],d,e,p);}else for(o=0,a=(s=Object.keys(c)).length;o<a;++o){u[r=s[o]]=dt([n[r],l[c[r]],l[r],h[r]],d,e,p);}return p.cacheable&&(i._cachedDataOpts=Object.freeze(u)),u;},removeHoverStyle:function removeHoverStyle(t){B.merge(t._model,t.$previousStyle||{}),delete t.$previousStyle;},setHoverStyle:function setHoverStyle(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},s=t._model,o=B.getHoverColor;t.$previousStyle={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth},s.backgroundColor=dt([n.hoverBackgroundColor,e.hoverBackgroundColor,o(s.backgroundColor)],void 0,i),s.borderColor=dt([n.hoverBorderColor,e.hoverBorderColor,o(s.borderColor)],void 0,i),s.borderWidth=dt([n.hoverBorderWidth,e.hoverBorderWidth,s.borderWidth],void 0,i);},_removeDatasetHoverStyle:function _removeDatasetHoverStyle(){var t=this.getMeta().dataset;t&&this.removeHoverStyle(t);},_setDatasetHoverStyle:function _setDatasetHoverStyle(){var t,e,i,n,s,o,a=this.getMeta().dataset,r={};if(a){for(o=a._model,s=this._resolveDatasetElementOptions(a,!0),t=0,e=(n=Object.keys(s)).length;t<e;++t){r[i=n[t]]=o[i],o[i]=s[i];}a.$previousStyle=r;}},resyncElements:function resyncElements(){var t=this.getMeta(),e=this.getDataset().data,i=t.data.length,e=e.length;e<i?t.data.splice(e,i-e):i<e&&this.insertElements(i,e-i);},insertElements:function insertElements(t,e){for(var i=0;i<e;++i){this.addElementAndReset(t+i);}},onDataPush:function onDataPush(){var t=arguments.length;this.insertElements(this.getDataset().data.length-t,t);},onDataPop:function onDataPop(){this.getMeta().data.pop();},onDataShift:function onDataShift(){this.getMeta().data.shift();},onDataSplice:function onDataSplice(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2);},onDataUnshift:function onDataUnshift(){this.insertElements(0,arguments.length);}}),sE.extend=B.inherits;var A=sE,M=2*Math.PI;function rt(t,e){var i=e.startAngle,n=e.endAngle,s=e.pixelMargin,o=s/e.outerRadius,a=e.x,r=e.y;t.beginPath(),t.arc(a,r,e.outerRadius,i-o,n+o),e.innerRadius>s?(o=s/e.innerRadius,t.arc(a,r,e.innerRadius-s,n+o,i-o,!0)):t.arc(a,r,s,n+Math.PI/2,i-Math.PI/2),t.closePath(),t.clip();}I._set("global",{elements:{arc:{backgroundColor:I.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var T=E.extend({_type:"arc",inLabelRange:function inLabelRange(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2);},inRange:function inRange(t,e){var i=this._view;if(i){for(var t=B.getAngleFromPoint(i,{x:t,y:e}),n=t.angle,e=t.distance,s=i.startAngle,o=i.endAngle;o<s;){o+=M;}for(;o<n;){n-=M;}for(;n<s;){n+=M;}t=e>=i.innerRadius&&e<=i.outerRadius;return s<=n&&n<=o&&t;}return!1;},getCenterPoint:function getCenterPoint(){var t=this._view,e=(t.startAngle+t.endAngle)/2,i=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i};},getArea:function getArea(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2));},tooltipPosition:function tooltipPosition(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,i=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i};},draw:function draw(){var t,e=this._chart.ctx,i=this._view,n="inner"===i.borderAlign?.33:0,s={x:i.x,y:i.y,innerRadius:i.innerRadius,outerRadius:Math.max(i.outerRadius-n,0),pixelMargin:n,startAngle:i.startAngle,endAngle:i.endAngle,fullCircles:Math.floor(i.circumference/M)};if(e.save(),e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,s.fullCircles){for(s.endAngle=s.startAngle+M,e.beginPath(),e.arc(s.x,s.y,s.outerRadius,s.startAngle,s.endAngle),e.arc(s.x,s.y,s.innerRadius,s.endAngle,s.startAngle,!0),e.closePath(),t=0;t<s.fullCircles;++t){e.fill();}s.endAngle=s.startAngle+i.circumference%M;}if(e.beginPath(),e.arc(s.x,s.y,s.outerRadius,s.startAngle,s.endAngle),e.arc(s.x,s.y,s.innerRadius,s.endAngle,s.startAngle,!0),e.closePath(),e.fill(),i.borderWidth){n=e;var o=s,a="inner"===i.borderAlign;if(a?(n.lineWidth=2*i.borderWidth,n.lineJoin="round"):(n.lineWidth=i.borderWidth,n.lineJoin="bevel"),o.fullCircles){var r,l=n,h=i,c=o,u=c.endAngle;for(a&&(c.endAngle=c.startAngle+M,rt(l,c),c.endAngle=u,c.endAngle===c.startAngle&&c.fullCircles&&(c.endAngle+=M,c.fullCircles--)),l.beginPath(),l.arc(c.x,c.y,c.innerRadius,c.startAngle+M,c.startAngle,!0),r=0;r<c.fullCircles;++r){l.stroke();}for(l.beginPath(),l.arc(c.x,c.y,h.outerRadius,c.startAngle,c.startAngle+M),r=0;r<c.fullCircles;++r){l.stroke();}}a&&rt(n,o),n.beginPath(),n.arc(o.x,o.y,i.outerRadius,o.startAngle,o.endAngle),n.arc(o.x,o.y,o.innerRadius,o.endAngle,o.startAngle,!0),n.closePath(),n.stroke();}e.restore();}}),gt=B.valueOrDefault,$=I.global.defaultColor,S=(I._set("global",{elements:{line:{tension:.4,backgroundColor:$,borderWidth:3,borderColor:$,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),E.extend({_type:"line",draw:function draw(){var t,e,i,n=this,s=n._view,o=n._chart.ctx,a=s.spanGaps,r=n._children.slice(),l=I.global,h=l.elements.line,c=-1,u=n._loop;if(r.length){if(n._loop){for(t=0;t<r.length;++t){if(e=B.previousItem(r,t),!r[t]._view.skip&&e._view.skip){r=r.slice(t).concat(r.slice(0,t)),u=a;break;}}u&&r.push(r[0]);}for(o.save(),o.lineCap=s.borderCapStyle||h.borderCapStyle,o.setLineDash&&o.setLineDash(s.borderDash||h.borderDash),o.lineDashOffset=gt(s.borderDashOffset,h.borderDashOffset),o.lineJoin=s.borderJoinStyle||h.borderJoinStyle,o.lineWidth=gt(s.borderWidth,h.borderWidth),o.strokeStyle=s.borderColor||l.defaultColor,o.beginPath(),(i=r[0]._view).skip||(o.moveTo(i.x,i.y),c=0),t=1;t<r.length;++t){i=r[t]._view,e=-1===c?B.previousItem(r,t):r[c],i.skip||(c!==t-1&&!a||-1===c?o.moveTo(i.x,i.y):B.canvas.lineTo(o,e._view,i),c=t);}u&&o.closePath(),o.stroke(),o.restore();}}})),Ct=B.valueOrDefault,a=I.global.defaultColor;function ft(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius;}I._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:a,borderColor:a,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});$=E.extend({_type:"point",inRange:function inRange(t,e){var i=this._view;return!!i&&Math.pow(t-i.x,2)+Math.pow(e-i.y,2)<Math.pow(i.hitRadius+i.radius,2);},inLabelRange:ft,inXRange:ft,inYRange:function inYRange(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius;},getCenterPoint:function getCenterPoint(){var t=this._view;return{x:t.x,y:t.y};},getArea:function getArea(){return Math.PI*Math.pow(this._view.radius,2);},tooltipPosition:function tooltipPosition(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth};},draw:function draw(t){var e=this._view,i=this._chart.ctx,n=e.pointStyle,s=e.rotation,o=e.radius,a=e.x,r=e.y,l=I.global,h=l.defaultColor;e.skip||void 0!==t&&!B.canvas._isPointInArea(e,t)||(i.strokeStyle=e.borderColor||h,i.lineWidth=Ct(e.borderWidth,l.elements.point.borderWidth),i.fillStyle=e.backgroundColor||h,B.canvas.drawPoint(i,n,o,a,r,s));}}),a=I.global.defaultColor;function mt(t){return t&&void 0!==t.width;}function vt(t){var e,i,n,s,t=mt(t)?(s=t.width/2,e=t.x-s,i=t.x+s,n=Math.min(t.y,t.base),Math.max(t.y,t.base)):(s=t.height/2,e=Math.min(t.x,t.base),i=Math.max(t.x,t.base),n=t.y-s,t.y+s);return{left:e,top:n,right:i,bottom:t};}function bt(t,e,i){return t===e?i:t===i?e:t;}function yt(t,e,i){var n=null===e,s=null===i,t=!(!t||n&&s)&&vt(t);return t&&(n||e>=t.left&&e<=t.right)&&(s||i>=t.top&&i<=t.bottom);}I._set("global",{elements:{rectangle:{backgroundColor:a,borderColor:a,borderSkipped:"bottom",borderWidth:0}}});var a=E.extend({_type:"rectangle",draw:function draw(){var t,e,i,n,s,o,a,r,l,h,c=this._chart.ctx,u=this._view,d=(a=vt(t=u),r=a.right-a.left,l=a.bottom-a.top,e=r/2,i=l/2,p=(t=t).borderWidth,h=t.borderSkipped,d={},h&&(t.horizontal?t.base>t.x&&(h=bt(h,"left","right")):t.base<t.y&&(h=bt(h,"bottom","top")),d[h]=!0),t=d,B.isObject(p)?(f=+p.top||0,n=+p.right||0,s=+p.bottom||0,o=+p.left||0):f=n=s=o=+p||0,h={t:t.top||f<0?0:i<f?i:f,r:t.right||n<0?0:e<n?e:n,b:t.bottom||s<0?0:i<s?i:s,l:t.left||o<0?0:e<o?e:o},{outer:{x:a.left,y:a.top,w:r,h:l},inner:{x:a.left+h.l,y:a.top+h.t,w:r-h.l-h.r,h:l-h.t-h.b}}),p=d.outer,f=d.inner;c.fillStyle=u.backgroundColor,c.fillRect(p.x,p.y,p.w,p.h),p.w===f.w&&p.h===f.h||(c.save(),c.beginPath(),c.rect(p.x,p.y,p.w,p.h),c.clip(),c.fillStyle=u.borderColor,c.rect(f.x,f.y,f.w,f.h),c.fill("evenodd"),c.restore());},height:function height(){var t=this._view;return t.base-t.y;},inRange:function inRange(t,e){return yt(this._view,t,e);},inLabelRange:function inLabelRange(t,e){var i=this._view;return mt(i)?yt(i,t,null):yt(i,null,e);},inXRange:function inXRange(t){return yt(this._view,t,null);},inYRange:function inYRange(t){return yt(this._view,null,t);},getCenterPoint:function getCenterPoint(){var t,e=this._view,e=mt(e)?(t=e.x,(e.y+e.base)/2):(t=(e.x+e.base)/2,e.y);return{x:t,y:e};},getArea:function getArea(){var t=this._view;return mt(t)?t.width*Math.abs(t.y-t.base):t.height*Math.abs(t.x-t.base);},tooltipPosition:function tooltipPosition(){var t=this._view;return{x:t.x,y:t.y};}}),P={},wt=(P.Arc=T,P.Line=S,P.Point=$,P.Rectangle=a,B._deprecated),xt=B.valueOrDefault;I._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),I._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var T=A.extend({dataElementType:P.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function initialize(){var t,e=this;A.prototype.initialize.apply(e,arguments),(t=e.getMeta()).stack=e.getDataset().stack,t.bar=!0,t=e._getIndexScale().options,wt("bar chart",t.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),wt("bar chart",t.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),wt("bar chart",t.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),wt("bar chart",e._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),wt("bar chart",t.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness");},update:function update(t){var e,i,n=this.getMeta().data;for(this._ruler=this.getRuler(),e=0,i=n.length;e<i;++e){this.updateElement(n[e],e,t);}},updateElement:function updateElement(t,e,i){var n=this,s=n.getMeta(),o=n.getDataset(),a=n._resolveDataElementOptions(t,e);t._xScale=n.getScaleForId(s.xAxisID),t._yScale=n.getScaleForId(s.yAxisID),t._datasetIndex=n.index,t._index=e,t._model={backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderSkipped:a.borderSkipped,borderWidth:a.borderWidth,datasetLabel:o.label,label:n.chart.data.labels[e]},B.isArray(o.data[e])&&(t._model.borderSkipped=null),n._updateElementGeometry(t,e,i,a),t.pivot();},_updateElementGeometry:function _updateElementGeometry(t,e,i,n){var s=this,t=t._model,o=s._getValueScale(),a=o.getBasePixel(),o=o.isHorizontal(),r=s._ruler||s.getRuler(),l=s.calculateBarValuePixels(s.index,e,n),s=s.calculateBarIndexPixels(s.index,e,r,n);t.horizontal=o,t.base=i?a:l.base,t.x=o?i?a:l.head:s.center,t.y=o?s.center:i?a:l.head,t.height=o?s.size:void 0,t.width=o?void 0:s.size;},_getStacks:function _getStacks(t){for(var e,i=this._getIndexScale(),n=i._getMatchingVisibleMetas(this._type),s=i.options.stacked,o=n.length,a=[],r=0;r<o&&(e=n[r],(!1===s||-1===a.indexOf(e.stack)||void 0===s&&void 0===e.stack)&&a.push(e.stack),e.index!==t);++r){}return a;},getStackCount:function getStackCount(){return this._getStacks().length;},getStackIndex:function getStackIndex(t,e){t=this._getStacks(t),e=void 0!==e?t.indexOf(e):-1;return-1===e?t.length-1:e;},getRuler:function getRuler(){for(var t=this._getIndexScale(),e=[],i=0,n=this.getMeta().data.length;i<n;++i){e.push(t.getPixelForValue(null,i,this.index));}return{pixels:e,start:t._startPixel,end:t._endPixel,stackCount:this.getStackCount(),scale:t};},calculateBarValuePixels:function calculateBarValuePixels(t,e,i){var n,s,o,a,r,l=this.chart,h=this._getValueScale(),c=h.isHorizontal(),u=l.data.datasets,d=h._getMatchingVisibleMetas(this._type),p=h._parseValue(u[t].data[e]),l=i.minBarLength,i=h.options.stacked,f=this.getMeta().stack,m=void 0===p.start?0:0<=p.max&&0<=p.min?p.min:p.max,g=void 0===p.start?p.end:0<=p.max&&0<=p.min?p.max-p.min:p.min-p.max,v=d.length;if(i||void 0===i&&void 0!==f)for(n=0;n<v&&(s=d[n]).index!==t;++n){s.stack===f&&(r=void 0===(r=h._parseValue(u[s.index].data[e])).start?r.end:0<=r.min&&0<=r.max?r.max:r.min,(p.min<0&&r<0||0<=p.max&&0<r)&&(m+=r));}return i=h.getPixelForValue(m),a=(o=h.getPixelForValue(m+g))-i,void 0!==l&&Math.abs(a)<l&&(a=l,o=0<=g&&!c||g<0&&c?i-l:i+l),{size:a,base:i,head:o,center:o+a/2};},calculateBarIndexPixels:function calculateBarIndexPixels(t,e,i,n){var s,o,a,r,l,h="flex"===n.barThickness?(o=n,a=(s=i).pixels,h=a[e],r=0<e?a[e-1]:null,a=e<a.length-1?a[e+1]:null,l=o.categoryPercentage,null===r&&(r=h-(null===a?s.end-s.start:a-h)),null===a&&(a=h+h-r),h=h-(h-Math.min(r,a))/2*l,{chunk:Math.abs(a-r)/2*l/s.stackCount,ratio:o.barPercentage,start:h}):(a=e,r=i,s=(l=n).barThickness,o=r.stackCount,a=r.pixels[e],r=B.isNullOrUndef(s)?function(t,e){for(var i,n,s=t._length,o=1,a=e.length;o<a;++o){s=Math.min(s,Math.abs(e[o]-e[o-1]));}for(o=0,a=t.getTicks().length;o<a;++o){n=t.getPixelForTick(o),s=0<o?Math.min(s,Math.abs(n-i)):s,i=n;}return s;}(r.scale,r.pixels):-1,r=B.isNullOrUndef(s)?(c=r*l.categoryPercentage,l.barPercentage):(c=s*o,1),{chunk:c/o,ratio:r,start:a-c/2}),i=this.getStackIndex(t,this.getMeta().stack),e=h.start+h.chunk*i+h.chunk/2,c=Math.min(xt(n.maxBarThickness,1/0),h.chunk*h.ratio);return{base:e-c/2,head:e+c/2,center:e,size:c};},draw:function draw(){var t=this.chart,e=this._getValueScale(),i=this.getMeta().data,n=this.getDataset(),s=i.length,o=0;for(B.canvas.clipArea(t.ctx,t.chartArea);o<s;++o){var a=e._parseValue(n.data[o]);isNaN(a.min)||isNaN(a.max)||i[o].draw();}B.canvas.unclipArea(t.ctx);},_resolveDataElementOptions:function _resolveDataElementOptions(){var t=B.extend({},A.prototype._resolveDataElementOptions.apply(this,arguments)),e=this._getIndexScale().options,i=this._getValueScale().options;return t.barPercentage=xt(e.barPercentage,t.barPercentage),t.barThickness=xt(e.barThickness,t.barThickness),t.categoryPercentage=xt(e.categoryPercentage,t.categoryPercentage),t.maxBarThickness=xt(e.maxBarThickness,t.maxBarThickness),t.minBarLength=xt(i.minBarLength,t.minBarLength),t;}}),_t=B.valueOrDefault,$t=B.options.resolve,S=(I._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function title(){return"";},label:function label(t,e){var i=e.datasets[t.datasetIndex].label||"",e=e.datasets[t.datasetIndex].data[t.index];return i+": ("+t.xLabel+", "+t.yLabel+", "+e.r+")";}}}}),A.extend({dataElementType:P.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function update(i){var n=this,t=n.getMeta().data;B.each(t,function(t,e){n.updateElement(t,e,i);});},updateElement:function updateElement(t,e,i){var n=this,s=n.getMeta(),o=t.custom||{},a=n.getScaleForId(s.xAxisID),s=n.getScaleForId(s.yAxisID),r=n._resolveDataElementOptions(t,e),l=n.getDataset().data[e],n=n.index,h=i?a.getPixelForDecimal(.5):a.getPixelForValue("object"==(typeof l==="undefined"?"undefined":_typeof(l))?l:NaN,e,n),l=i?s.getBasePixel():s.getPixelForValue(l,e,n);t._xScale=a,t._yScale=s,t._options=r,t._datasetIndex=n,t._index=e,t._model={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth,hitRadius:r.hitRadius,pointStyle:r.pointStyle,rotation:r.rotation,radius:i?0:r.radius,skip:o.skip||isNaN(h)||isNaN(l),x:h,y:l},t.pivot();},setHoverStyle:function setHoverStyle(t){var e=t._model,i=t._options,n=B.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=_t(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=_t(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=_t(i.hoverBorderWidth,i.borderWidth),e.radius=i.radius+i.hoverRadius;},_resolveDataElementOptions:function _resolveDataElementOptions(t,e){var i=this,n=i.chart,s=i.getDataset(),t=t.custom||{},o=s.data[e]||{},a=A.prototype._resolveDataElementOptions.apply(i,arguments),s={chart:n,dataIndex:e,dataset:s,datasetIndex:i.index};return(a=i._cachedDataOpts===a?B.extend({},a):a).radius=$t([t.radius,o.r,i._config.radius,n.options.elements.point.radius],s,e),a;}})),St=B.valueOrDefault,O=Math.PI,N=2*O,kt=O/2,$=(I._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function legendCallback(t){var e,i,n,s=document.createElement("ul"),o=t.data,a=o.datasets,r=o.labels;if(s.setAttribute("class",t.id+"-legend"),a.length)for(i=a[e=0].data.length;e<i;++e){(n=s.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=a[0].backgroundColor[e],r[e]&&n.appendChild(document.createTextNode(r[e]));}return s.outerHTML;},legend:{labels:{generateLabels:function generateLabels(s){var o=s.data;return o.labels.length&&o.datasets.length?o.labels.map(function(t,e){var i=s.getDatasetMeta(0),n=i.controller.getStyle(e);return{text:t,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,lineWidth:n.borderWidth,hidden:isNaN(o.datasets[0].data[e])||i.data[e].hidden,index:e};}):[];}},onClick:function onClick(t,e){for(var i,n=e.index,s=this.chart,o=0,a=(s.data.datasets||[]).length;o<a;++o){(i=s.getDatasetMeta(o)).data[n]&&(i.data[n].hidden=!i.data[n].hidden);}s.update();}},cutoutPercentage:50,rotation:-kt,circumference:N,tooltips:{callbacks:{title:function title(){return"";},label:function label(t,e){var i=e.labels[t.index],e=": "+e.datasets[t.datasetIndex].data[t.index];return B.isArray(i)?(i=i.slice())[0]+=e:i+=e,i;}}}}),A.extend({dataElementType:P.Arc,linkScales:B.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function getRingIndex(t){for(var e=0,i=0;i<t;++i){this.chart.isDatasetVisible(i)&&++e;}return e;},update:function update(t){var e,i,n,s,o,a,r,l,h,c=this,u=c.chart,d=u.chartArea,p=u.options,f=1,m=1,g=0,v=0,b=c.getMeta(),y=b.data,C=p.cutoutPercentage/100||0,w=p.circumference,x=c._getRingWeight(c.index);for(w<N&&(p=p.rotation%N,w=(p+=O<=p?-N:p<-O?N:0)+w,n=Math.cos(p),s=Math.sin(p),o=Math.cos(w),a=Math.sin(w),h=p<=0&&0<=w||N<=w,r=p<=kt&&kt<=w||N+kt<=w,l=p<=-kt&&-kt<=w||O+kt<=w,p=p===-O||O<=w?-1:Math.min(n,n*C,o,o*C),w=l?-1:Math.min(s,s*C,a,a*C),f=((l=h?1:Math.max(n,n*C,o,o*C))-p)/2,m=((h=r?1:Math.max(s,s*C,a,a*C))-w)/2,g=-(l+p)/2,v=-(h+w)/2),e=0,i=y.length;e<i;++e){y[e]._options=c._resolveDataElementOptions(y[e],e);}for(u.borderWidth=c.getMaxBorderWidth(),n=(d.right-d.left-u.borderWidth)/f,o=(d.bottom-d.top-u.borderWidth)/m,u.outerRadius=Math.max(Math.min(n,o)/2,0),u.innerRadius=Math.max(u.outerRadius*C,0),u.radiusLength=(u.outerRadius-u.innerRadius)/(c._getVisibleDatasetWeightTotal()||1),u.offsetX=g*u.outerRadius,u.offsetY=v*u.outerRadius,b.total=c.calculateTotal(),c.outerRadius=u.outerRadius-u.radiusLength*c._getRingWeightOffset(c.index),c.innerRadius=Math.max(c.outerRadius-u.radiusLength*x,0),e=0,i=y.length;e<i;++e){c.updateElement(y[e],e,t);}},updateElement:function updateElement(t,e,i){var n=this,s=n.chart,o=s.chartArea,a=s.options,r=a.animation,l=(o.left+o.right)/2,o=(o.top+o.bottom)/2,h=a.rotation,c=a.rotation,u=n.getDataset(),d=i&&r.animateRotate||t.hidden?0:n.calculateCircumference(u.data[e])*(a.circumference/N),p=i&&r.animateScale?0:n.innerRadius,f=i&&r.animateScale?0:n.outerRadius,m=t._options||{},m=(B.extend(t,{_datasetIndex:n.index,_index:e,_model:{backgroundColor:m.backgroundColor,borderColor:m.borderColor,borderWidth:m.borderWidth,borderAlign:m.borderAlign,x:l+s.offsetX,y:o+s.offsetY,startAngle:h,endAngle:c,circumference:d,outerRadius:f,innerRadius:p,label:B.valueAtIndexOrDefault(u.label,e,s.data.labels[e])}}),t._model);i&&r.animateRotate||(m.startAngle=0===e?a.rotation:n.getMeta().data[e-1]._model.endAngle,m.endAngle=m.startAngle+m.circumference),t.pivot();},calculateTotal:function calculateTotal(){var i,n=this.getDataset(),t=this.getMeta(),s=0;return B.each(t.data,function(t,e){i=n.data[e],isNaN(i)||t.hidden||(s+=Math.abs(i));}),s;},calculateCircumference:function calculateCircumference(t){var e=this.getMeta().total;return 0<e&&!isNaN(t)?N*(Math.abs(t)/e):0;},getMaxBorderWidth:function getMaxBorderWidth(t){var e,i,n,s,o,a,r=0,l=this.chart;if(!t)for(e=0,i=l.data.datasets.length;e<i;++e){if(l.isDatasetVisible(e)){t=(n=l.getDatasetMeta(e)).data,e!==this.index&&(s=n.controller);break;}}if(!t)return 0;for(e=0,i=t.length;e<i;++e){a=t[e],"inner"!==(a=s?(s._configure(),s._resolveDataElementOptions(a,e)):a._options).borderAlign&&(o=a.borderWidth,r=(a=a.hoverBorderWidth)>(r=r<o?o:r)?a:r);}return r;},setHoverStyle:function setHoverStyle(t){var e=t._model,i=t._options,n=B.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=St(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=St(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=St(i.hoverBorderWidth,i.borderWidth);},_getRingWeightOffset:function _getRingWeightOffset(t){for(var e=0,i=0;i<t;++i){this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));}return e;},_getRingWeight:function _getRingWeight(t){return Math.max(St(this.chart.data.datasets[t].weight,1),0);},_getVisibleDatasetWeightTotal:function _getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length);}})),a=(I._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),I._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}}),T.extend({_getValueScaleId:function _getValueScaleId(){return this.getMeta().xAxisID;},_getIndexScaleId:function _getIndexScaleId(){return this.getMeta().yAxisID;}})),D=B.valueOrDefault,Tt=B.options.resolve,Et=B.canvas._isPointInArea;function jt(t,e){var t=t&&t.options.ticks||{},i=t.reverse,n=void 0===t.min?e:0,t=void 0===t.max?e:0;return{start:i?t:n,end:i?n:t};}I._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var It=A.extend({datasetElementType:P.Line,dataElementType:P.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function update(t){var e,i,n=this,s=n.getMeta(),o=s.dataset,a=s.data||[],r=n.chart.options,l=n._config,r=n._showLine=D(l.showLine,r.showLines);for(n._xScale=n.getScaleForId(s.xAxisID),n._yScale=n.getScaleForId(s.yAxisID),r&&(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),o._scale=n._yScale,o._datasetIndex=n.index,o._children=a,o._model=n._resolveDatasetElementOptions(o),o.pivot()),e=0,i=a.length;e<i;++e){n.updateElement(a[e],e,t);}for(r&&0!==o._model.tension&&n.updateBezierControlPoints(),e=0,i=a.length;e<i;++e){a[e].pivot();}},updateElement:function updateElement(t,e,i){var n=this,s=n.getMeta(),o=t.custom||{},a=n.getDataset(),r=n.index,a=a.data[e],l=n._xScale,h=n._yScale,s=s.dataset._model,c=n._resolveDataElementOptions(t,e),u=l.getPixelForValue("object"==(typeof a==="undefined"?"undefined":_typeof(a))?a:NaN,e,r),i=i?h.getBasePixel():n.calculatePointY(a,e,r);t._xScale=l,t._yScale=h,t._options=c,t._datasetIndex=r,t._index=e,t._model={x:u,y:i,skip:o.skip||isNaN(u)||isNaN(i),radius:c.radius,pointStyle:c.pointStyle,rotation:c.rotation,backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,tension:D(o.tension,s?s.tension:0),steppedLine:!!s&&s.steppedLine,hitRadius:c.hitRadius};},_resolveDatasetElementOptions:function _resolveDatasetElementOptions(t){var e,i,n,s,o=this._config,t=t.custom||{},a=this.chart.options,r=a.elements.line,l=A.prototype._resolveDatasetElementOptions.apply(this,arguments);return l.spanGaps=D(o.spanGaps,a.spanGaps),l.tension=D(o.lineTension,r.tension),l.steppedLine=Tt([t.steppedLine,o.steppedLine,r.stepped]),l.clip=(o=D(o.clip,(a=this._xScale,t=this._yScale,r=l.borderWidth,a=jt(a,r/=2),{top:(t=jt(t,r)).end,right:a.end,bottom:t.start,left:a.start})),B.isObject(o)?(e=o.top,i=o.right,n=o.bottom,s=o.left):e=i=n=s=o,{top:e,right:i,bottom:n,left:s}),l;},calculatePointY:function calculatePointY(t,e,i){var n,s,o,a,r,l,h=this.chart,c=this._yScale,u=0,d=0;if(c.options.stacked){for(a=+c.getRightValue(t),l=(r=h._getSortedVisibleDatasetMetas()).length,n=0;n<l&&(s=r[n]).index!==i;++n){o=h.data.datasets[s.index],"line"===s.type&&s.yAxisID===c.id&&((o=+c.getRightValue(o.data[e]))<0?d+=o||0:u+=o||0);}return a<0?c.getPixelForValue(d+a):c.getPixelForValue(u+a);}return c.getPixelForValue(t);},updateBezierControlPoints:function updateBezierControlPoints(){var t,e,i,n,s=this.chart,o=this.getMeta(),a=o.dataset._model,r=s.chartArea,l=o.data||[];function u(t,e,i){return Math.max(Math.min(t,i),e);}if(a.spanGaps&&(l=l.filter(function(t){return!t._model.skip;})),"monotone"===a.cubicInterpolationMode)B.splineCurveMonotone(l);else for(t=0,e=l.length;t<e;++t){i=l[t]._model,n=B.splineCurve(B.previousItem(l,t)._model,i,B.nextItem(l,t)._model,a.tension),i.controlPointPreviousX=n.previous.x,i.controlPointPreviousY=n.previous.y,i.controlPointNextX=n.next.x,i.controlPointNextY=n.next.y;}if(s.options.elements.line.capBezierPoints)for(t=0,e=l.length;t<e;++t){i=l[t]._model,Et(i,r)&&(0<t&&Et(l[t-1]._model,r)&&(i.controlPointPreviousX=u(i.controlPointPreviousX,r.left,r.right),i.controlPointPreviousY=u(i.controlPointPreviousY,r.top,r.bottom)),t<l.length-1&&Et(l[t+1]._model,r)&&(i.controlPointNextX=u(i.controlPointNextX,r.left,r.right),i.controlPointNextY=u(i.controlPointNextY,r.top,r.bottom)));}},draw:function draw(){var t,e=this.chart,i=this.getMeta(),n=i.data||[],s=e.chartArea,o=e.canvas,a=0,r=n.length;for(this._showLine&&(t=i.dataset._model.clip,B.canvas.clipArea(e.ctx,{left:!1===t.left?0:s.left-t.left,right:!1===t.right?o.width:s.right+t.right,top:!1===t.top?0:s.top-t.top,bottom:!1===t.bottom?o.height:s.bottom+t.bottom}),i.dataset.draw(),B.canvas.unclipArea(e.ctx));a<r;++a){n[a].draw(s);}},setHoverStyle:function setHoverStyle(t){var e=t._model,i=t._options,n=B.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=D(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=D(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=D(i.hoverBorderWidth,i.borderWidth),e.radius=D(i.hoverRadius,i.radius);}}),At=B.options.resolve,Mt=(I._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function legendCallback(t){var e,i,n,s=document.createElement("ul"),o=t.data,a=o.datasets,r=o.labels;if(s.setAttribute("class",t.id+"-legend"),a.length)for(i=a[e=0].data.length;e<i;++e){(n=s.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=a[0].backgroundColor[e],r[e]&&n.appendChild(document.createTextNode(r[e]));}return s.outerHTML;},legend:{labels:{generateLabels:function generateLabels(s){var o=s.data;return o.labels.length&&o.datasets.length?o.labels.map(function(t,e){var i=s.getDatasetMeta(0),n=i.controller.getStyle(e);return{text:t,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,lineWidth:n.borderWidth,hidden:isNaN(o.datasets[0].data[e])||i.data[e].hidden,index:e};}):[];}},onClick:function onClick(t,e){for(var i,n=e.index,s=this.chart,o=0,a=(s.data.datasets||[]).length;o<a;++o){(i=s.getDatasetMeta(o)).data[n].hidden=!i.data[n].hidden;}s.update();}},tooltips:{callbacks:{title:function title(){return"";},label:function label(t,e){return e.labels[t.index]+": "+t.yLabel;}}}}),A.extend({dataElementType:P.Arc,linkScales:B.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function _getIndexScaleId(){return this.chart.scale.id;},_getValueScaleId:function _getValueScaleId(){return this.chart.scale.id;},update:function update(t){var e,i,n,s=this,o=s.getDataset(),a=s.getMeta(),r=s.chart.options.startAngle||0,l=s._starts=[],h=s._angles=[],c=a.data;for(s._updateRadius(),a.count=s.countVisibleElements(),e=0,i=o.data.length;e<i;e++){l[e]=r,n=s._computeAngle(e),r+=h[e]=n;}for(e=0,i=c.length;e<i;++e){c[e]._options=s._resolveDataElementOptions(c[e],e),s.updateElement(c[e],e,t);}},_updateRadius:function _updateRadius(){var t=this.chart,e=t.chartArea,i=t.options,e=Math.min(e.right-e.left,e.bottom-e.top);t.outerRadius=Math.max(e/2,0),t.innerRadius=Math.max(i.cutoutPercentage?t.outerRadius/100*i.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),this.outerRadius=t.outerRadius-t.radiusLength*this.index,this.innerRadius=this.outerRadius-t.radiusLength;},updateElement:function updateElement(t,e,i){var n=this.chart,s=this.getDataset(),o=n.options,a=o.animation,r=n.scale,n=n.data.labels,l=r.xCenter,h=r.yCenter,o=o.startAngle,c=t.hidden?0:r.getDistanceFromCenterForValue(s.data[e]),u=this._starts[e],d=u+(t.hidden?0:this._angles[e]),s=a.animateScale?0:r.getDistanceFromCenterForValue(s.data[e]),p=t._options||{};B.extend(t,{_datasetIndex:this.index,_index:e,_scale:r,_model:{backgroundColor:p.backgroundColor,borderColor:p.borderColor,borderWidth:p.borderWidth,borderAlign:p.borderAlign,x:l,y:h,innerRadius:0,outerRadius:i?s:c,startAngle:i&&a.animateRotate?o:u,endAngle:i&&a.animateRotate?o:d,label:B.valueAtIndexOrDefault(n,e,n[e])}}),t.pivot();},countVisibleElements:function countVisibleElements(){var i=this.getDataset(),t=this.getMeta(),n=0;return B.each(t.data,function(t,e){isNaN(i.data[e])||t.hidden||n++;}),n;},setHoverStyle:function setHoverStyle(t){var e=t._model,i=t._options,n=B.getHoverColor,s=B.valueOrDefault;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=s(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=s(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=s(i.hoverBorderWidth,i.borderWidth);},_computeAngle:function _computeAngle(t){var e=this.getMeta().count,i=this.getDataset(),n=this.getMeta();if(isNaN(i.data[t])||n.data[t].hidden)return 0;n={chart:this.chart,dataIndex:t,dataset:i,datasetIndex:this.index};return At([this.chart.options.elements.arc.angle,2*Math.PI/e],n,t);}})),L=(I._set("pie",B.clone(I.doughnut)),I._set("pie",{cutoutPercentage:0}),$),Pt=B.valueOrDefault,Ot=(I._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}}),A.extend({datasetElementType:P.Line,dataElementType:P.Point,linkScales:B.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function _getIndexScaleId(){return this.chart.scale.id;},_getValueScaleId:function _getValueScaleId(){return this.chart.scale.id;},update:function update(t){var e,i,n=this.getMeta(),s=n.dataset,o=n.data||[],n=this.chart.scale,a=this._config;for(void 0!==a.tension&&void 0===a.lineTension&&(a.lineTension=a.tension),s._scale=n,s._datasetIndex=this.index,s._children=o,s._loop=!0,s._model=this._resolveDatasetElementOptions(s),s.pivot(),e=0,i=o.length;e<i;++e){this.updateElement(o[e],e,t);}for(this.updateBezierControlPoints(),e=0,i=o.length;e<i;++e){o[e].pivot();}},updateElement:function updateElement(t,e,i){var n=t.custom||{},s=this.getDataset(),o=this.chart.scale,s=o.getPointPositionForValue(e,s.data[e]),a=this._resolveDataElementOptions(t,e),r=this.getMeta().dataset._model,l=i?o.xCenter:s.x,i=i?o.yCenter:s.y;t._scale=o,t._options=a,t._datasetIndex=this.index,t._index=e,t._model={x:l,y:i,skip:n.skip||isNaN(l)||isNaN(i),radius:a.radius,pointStyle:a.pointStyle,rotation:a.rotation,backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderWidth:a.borderWidth,tension:Pt(n.tension,r?r.tension:0),hitRadius:a.hitRadius};},_resolveDatasetElementOptions:function _resolveDatasetElementOptions(){var t=this._config,e=this.chart.options,i=A.prototype._resolveDatasetElementOptions.apply(this,arguments);return i.spanGaps=Pt(t.spanGaps,e.spanGaps),i.tension=Pt(t.lineTension,e.elements.line.tension),i;},updateBezierControlPoints:function updateBezierControlPoints(){var t,e,i,n,o=this.getMeta(),a=this.chart.chartArea,r=o.data||[];function s(t,e,i){return Math.max(Math.min(t,i),e);}for(t=0,e=(r=o.dataset._model.spanGaps?r.filter(function(t){return!t._model.skip;}):r).length;t<e;++t){i=r[t]._model,n=B.splineCurve(B.previousItem(r,t,!0)._model,i,B.nextItem(r,t,!0)._model,i.tension),i.controlPointPreviousX=s(n.previous.x,a.left,a.right),i.controlPointPreviousY=s(n.previous.y,a.top,a.bottom),i.controlPointNextX=s(n.next.x,a.left,a.right),i.controlPointNextY=s(n.next.y,a.top,a.bottom);}},setHoverStyle:function setHoverStyle(t){var e=t._model,i=t._options,n=B.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Pt(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=Pt(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=Pt(i.hoverBorderWidth,i.borderWidth),e.radius=Pt(i.hoverRadius,i.radius);}})),Nt=(I._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function title(){return"";},label:function label(t){return"("+t.xLabel+", "+t.yLabel+")";}}}}),I._set("global",{datasets:{scatter:{showLine:!1}}}),{bar:T,bubble:S,doughnut:$,horizontalBar:a,line:It,polarArea:Mt,pie:L,radar:Ot,scatter:It});function Qt(t,e){return t.native?{x:t.x,y:t.y}:B.getRelativePosition(t,e);}function te(t,e){for(var i,n,s,o,a=t._getSortedVisibleDatasetMetas(),r=0,l=a.length;r<l;++r){for(n=0,s=(i=a[r].data).length;n<s;++n){(o=i[n])._view.skip||e(o);}}}function ee(t,e){var i=[];return te(t,function(t){t.inRange(e.x,e.y)&&i.push(t);}),i;}function ne(t,i,n,s){var o=Number.POSITIVE_INFINITY,a=[];return te(t,function(t){var e;n&&!t.inRange(i.x,i.y)||(e=t.getCenterPoint(),(e=s(i,e))<o?(a=[t],o=e):e===o&&a.push(t));}),a;}function ie(t){var n=-1!==t.indexOf("x"),s=-1!==t.indexOf("y");return function(t,e){var i=n?Math.abs(t.x-e.x):0,t=s?Math.abs(t.y-e.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(t,2));};}function ae(t,e,i){var e=Qt(e,t),n=(i.axis=i.axis||"x",ie(i.axis)),s=i.intersect?ee(t,e):ne(t,e,!1,n),o=[];return s.length?(t._getSortedVisibleDatasetMetas().forEach(function(t){t=t.data[s[0]._index];t&&!t._view.skip&&o.push(t);}),o):[];}var Dt={modes:{single:function single(t,e){var i=Qt(e,t),n=[];return te(t,function(t){t.inRange(i.x,i.y)&&n.push(t);}),n.slice(0,1);},label:ae,index:ae,dataset:function dataset(t,e,i){var e=Qt(e,t),n=(i.axis=i.axis||"xy",ie(i.axis)),i=i.intersect?ee(t,e):ne(t,e,!1,n);return i=0<i.length?t.getDatasetMeta(i[0]._datasetIndex).data:i;},"x-axis":function xAxis(t,e){return ae(t,e,{intersect:!1});},point:function point(t,e){return ee(t,Qt(e,t));},nearest:function nearest(t,e,i){var e=Qt(e,t),n=(i.axis=i.axis||"xy",ie(i.axis));return ne(t,e,i.intersect,n);},x:function x(t,e,i){var n=Qt(e,t),s=[],o=!1;return te(t,function(t){t.inXRange(n.x)&&s.push(t),t.inRange(n.x,n.y)&&(o=!0);}),s=i.intersect&&!o?[]:s;},y:function y(t,e,i){var n=Qt(e,t),s=[],o=!1;return te(t,function(t){t.inYRange(n.y)&&s.push(t),t.inRange(n.x,n.y)&&(o=!0);}),s=i.intersect&&!o?[]:s;}}},Lt=B.extend;function se(t,e){return B.where(t,function(t){return t.pos===e;});}function le(t,n){return t.sort(function(t,e){var i=n?e:t,t=n?t:e;return i.weight===t.weight?i.index-t.index:i.weight-t.weight;});}function ue(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n]);}function ce(t,e,i){for(var n,s,o,a,r=[],l=0,h=t.length;l<h;++l){(s=(n=t[l]).box).update(n.width||e.w,n.height||e.h,function(t,e){var i,n=e.maxPadding;return i={left:0,top:0,right:0,bottom:0},(t?["left","right"]:["top","bottom"]).forEach(function(t){i[t]=Math.max(e[t],n[t]);}),i;}(n.horizontal,e)),function(t,e,i){var n=i.box,s=t.maxPadding;if(i.size&&(t[i.pos]-=i.size),i.size=i.horizontal?n.height:n.width,t[i.pos]+=i.size,n.getPadding&&(n=n.getPadding(),s.top=Math.max(s.top,n.top),s.left=Math.max(s.left,n.left),s.bottom=Math.max(s.bottom,n.bottom),s.right=Math.max(s.right,n.right)),n=e.outerWidth-ue(s,t,"left","right"),e=e.outerHeight-ue(s,t,"top","bottom"),n!==t.w||e!==t.h)return t.w=n,t.h=e,!((s=i.horizontal?[n,t.w]:[e,t.h])[0]===s[1]||isNaN(s[0])&&isNaN(s[1]));}(e,i,n)&&(a=!0,r.length&&(o=!0)),s.fullWidth||r.push(n);}return o&&ce(r,e,i)||a;}function fe(t,e,i){for(var n,s,o=i.padding,a=e.x,r=e.y,l=0,h=t.length;l<h;++l){s=(n=t[l]).box,n.horizontal?(s.left=(s.fullWidth?o:e).left,s.right=s.fullWidth?i.outerWidth-o.right:e.left+e.w,s.top=r,s.bottom=r+s.height,s.width=s.right-s.left,r=s.bottom):(s.left=a,s.right=a+s.width,s.top=e.top,s.bottom=e.top+e.h,s.height=s.bottom-s.top,a=s.right);}e.x=a,e.y=r;}I._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var j={defaults:{},addBox:function addBox(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw:function draw(){e.draw.apply(e,arguments);}}];},t.boxes.push(e);},removeBox:function removeBox(t,e){e=t.boxes?t.boxes.indexOf(e):-1;-1!==e&&t.boxes.splice(e,1);},configure:function configure(t,e,i){for(var n,s=["fullWidth","position","weight"],o=s.length,a=0;a<o;++a){i.hasOwnProperty(n=s[a])&&(e[n]=i[n]);}},update:function update(e,t,i){if(e){for(var s,o=e.options.layout||{},o=B.options.toPadding(o.padding),a=t-o.width,r=i-o.height,l=(l=function(t){for(var e,i=[],n=0,s=(t||[]).length;n<s;++n){e=t[n],i.push({index:n,box:e,pos:e.position,horizontal:e.isHorizontal(),weight:e.weight});}return i;}(e.boxes),h=le(se(l,"left"),!0),c=le(se(l,"right")),u=le(se(l,"top"),!0),y=le(se(l,"bottom")),{leftAndTop:h.concat(u),rightAndBottom:c.concat(y),chartArea:se(l,"chartArea"),vertical:h.concat(c),horizontal:u.concat(y)}),h=l.vertical,c=l.horizontal,u=Object.freeze({outerWidth:t,outerHeight:i,padding:o,availableWidth:a,vBoxMaxWidth:a/2/h.length,hBoxMaxHeight:r/2}),d=Lt({maxPadding:Lt({},o),w:a,h:r,x:o.left,y:o.top},o),p=h.concat(c),f=u,m=0,g=p.length;m<g;++m){(s=p[m]).width=s.horizontal?s.box.fullWidth&&f.availableWidth:f.vBoxMaxWidth,s.height=s.horizontal&&f.hBoxMaxHeight;}ce(h,d,u),ce(c,d,u)&&ce(h,d,u),b=(v=d).maxPadding,v.y+=n("top"),v.x+=n("left"),n("right"),n("bottom"),fe(l.leftAndTop,d,u),d.x+=d.w,d.y+=d.h,fe(l.rightAndBottom,d,u),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h},B.each(l.chartArea,function(t){t=t.box;Lt(t,e.chartArea),t.update(d.w,d.h);});}function n(t){var e=Math.max(b[t]-v[t],0);return v[t]+=e,e;}var v,b,l,h,c,u,y;}},Vt=(T=Object.freeze({__proto__:null,default:"@keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}"}))&&T.default||T,V="$chartjs",Rt="chartjs-size-monitor",Ft="chartjs-render-monitor",Bt=["animationstart","webkitAnimationStart"],zt={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function we(t,e){t=B.getStyle(t,e),e=t&&t.match(/^(\d+)(\.\d+)?px$/);return e?Number(e[1]):void 0;}var Ht=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function get(){t=!0;}});window.addEventListener("e",null,e);}catch(t){}return t;}()&&{passive:!0};function Se(t,e,i){t.addEventListener(e,i,Ht);}function Ce(t,e,i){t.removeEventListener(e,i,Ht);}function Pe(t,e,i,n,s){return{type:t,chart:e,native:s||null,x:void 0!==i?i:null,y:void 0!==n?n:null};}function Ae(t){var e=document.createElement("div");return e.className=t||"",e;}function De(i,n,s){var t,e,o,a,r,l,h,c=i[V]||(i[V]={}),u=c.resizer=function(t){function Kda(){e._reset(),t();}var e=Ae(Rt),i=Ae(Rt+"-expand"),n=Ae(Rt+"-shrink");i.appendChild(Ae()),n.appendChild(Ae()),e.appendChild(i),e.appendChild(n),e._reset=function(){i.scrollLeft=1e6,i.scrollTop=1e6,n.scrollLeft=1e6,n.scrollTop=1e6;};return Se(i,"scroll",Kda.bind(i,"expand")),Se(n,"scroll",Kda.bind(n,"shrink")),e;}((t=function t(){var t,e;c.resizer&&(e=(t=s.options.maintainAspectRatio&&i.parentNode)?t.clientWidth:0,n(Pe("resize",s)),t&&t.clientWidth<e&&s.canvas&&n(Pe("resize",s)));},o=!1,function(){a=Array.prototype.slice.call(arguments),e=e||this,o||(o=!0,B.requestAnimFrame.call(window,function(){o=!1,t.apply(e,a);}));}));l=(r=i)[V]||(r[V]={}),h=l.renderProxy=function(t){"chartjs-render-animation"===t.animationName&&c.resizer&&((t=i.parentNode)&&t!==u.parentNode&&t.insertBefore(u,t.firstChild),u._reset());},B.each(Bt,function(t){Se(r,t,h);}),l.reflow=!!r.offsetParent,r.classList.add(Ft);}var S={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function _ensureLoaded(t){var e,i;this.disableCSSInjection||(t=t.getRootNode?t.getRootNode():document,t=t.host?t:document.head,e=Vt,(i=t[V]||(t[V]={})).containsStyles||(i.containsStyles=!0,e="/* Chart.js */\n"+e,(i=document.createElement("style")).setAttribute("type","text/css"),i.appendChild(document.createTextNode(e)),t.appendChild(i)));},acquireContext:function acquireContext(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]);var i,n,s,o,a=(t=t&&t.canvas?t.canvas:t)&&t.getContext&&t.getContext("2d");return a&&a.canvas===t?(this._ensureLoaded(t),e=e,n=(t=t).style,s=t.getAttribute("height"),o=t.getAttribute("width"),t[V]={initial:{height:s,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null!==o&&""!==o||void 0!==(i=we(t,"width"))&&(t.width=i),null!==s&&""!==s||(""===t.style.height?t.height=t.width/(e.options.aspectRatio||2):(n=we(t,"height"),void 0!==i&&(t.height=n))),a):null;},releaseContext:function releaseContext(t){var i,n=t.canvas;n[V]&&(i=n[V].initial,["height","width"].forEach(function(t){var e=i[t];B.isNullOrUndef(e)?n.removeAttribute(t):n.setAttribute(t,e);}),B.each(i.style||{},function(t,e){n.style[e]=t;}),n.width=n.width,delete n[V]);},addEventListener:function addEventListener(s,t,o){var e,i=s.canvas;"resize"!==t?Se(i,t,((e=o[V]||(o[V]={})).proxies||(e.proxies={}))[s.id+"_"+t]=function(t){var e,i,n;o((e=s,i=zt[(t=t).type]||t.type,n=B.getRelativePosition(t,e),Pe(i,e,n.x,n.y,t)));}):De(i,o,s);},removeEventListener:function removeEventListener(t,e,i){var n,s,o=t.canvas;"resize"!==e?(i=((i[V]||{}).proxies||{})[t.id+"_"+e])&&Ce(o,e,i):(e=(t=o)[V]||{},i=e.resizer,delete e.resizer,e=(n=t)[V]||{},(s=e.renderProxy)&&(B.each(Bt,function(t){Ce(n,t,s);}),delete e.renderProxy),n.classList.remove(Ft),i&&i.parentNode&&i.parentNode.removeChild(i));}},$=(B.addEvent=Se,B.removeEvent=Ce,S._enabled?S:{acquireContext:function acquireContext(t){return(t=t&&t.canvas?t.canvas:t)&&t.getContext("2d")||null;}}),Wt=B.extend({initialize:function initialize(){},acquireContext:function acquireContext(){},releaseContext:function releaseContext(){},addEventListener:function addEventListener(){},removeEventListener:function removeEventListener(){}},$),R=(I._set("global",{plugins:{}}),{_plugins:[],_cacheId:0,register:function register(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t);}),this._cacheId++;},unregister:function unregister(t){var e=this._plugins;[].concat(t).forEach(function(t){t=e.indexOf(t);-1!==t&&e.splice(t,1);}),this._cacheId++;},clear:function clear(){this._plugins=[],this._cacheId++;},count:function count(){return this._plugins.length;},getAll:function getAll(){return this._plugins;},notify:function notify(t,e,i){for(var n,s,o,a,r=this.descriptors(t),l=r.length,h=0;h<l;++h){if("function"==typeof(a=(s=(n=r[h]).plugin)[e])&&((o=[t].concat(i||[])).push(n.options),!1===a.apply(s,o)))return!1;}return!0;},descriptors:function descriptors(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var n=[],s=[],t=t&&t.config||{},o=t.options&&t.options.plugins||{};return this._plugins.concat(t.plugins||[]).forEach(function(t){var e,i;-1===n.indexOf(t)&&(e=t.id,!1!==(i=o[e])&&(!0===i&&(i=B.clone(I.global.plugins[e])),n.push(t),s.push({plugin:t,options:i||{}})));}),e.descriptors=s,e.id=this._cacheId,s;},_invalidate:function _invalidate(t){delete t.$plugins;}}),Ut={constructors:{},defaults:{},registerScaleType:function registerScaleType(t,e,i){this.constructors[t]=e,this.defaults[t]=B.clone(i);},getScaleConstructor:function getScaleConstructor(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0;},getScaleDefaults:function getScaleDefaults(t){return this.defaults.hasOwnProperty(t)?B.merge(Object.create(null),[I.scale,this.defaults[t]]):{};},updateScaleDefaults:function updateScaleDefaults(t,e){this.defaults.hasOwnProperty(t)&&(this.defaults[t]=B.extend(this.defaults[t],e));},addScalesToLayout:function addScalesToLayout(e){B.each(e.scales,function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,j.addBox(e,t);});}},F=B.valueOrDefault,qt=B.rtl.getRtlAdapter,Gt=(I._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:B.noop,title:function title(t,e){var i="",e=e.labels,n=e?e.length:0;return 0<t.length&&((t=t[0]).label?i=t.label:t.xLabel?i=t.xLabel:0<n&&t.index<n&&(i=e[t.index])),i;},afterTitle:B.noop,beforeBody:B.noop,beforeLabel:B.noop,label:function label(t,e){e=e.datasets[t.datasetIndex].label||"";return e&&(e+=": "),B.isNullOrUndef(t.value)?e+=t.yLabel:e+=t.value,e;},labelColor:function labelColor(t,e){e=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:e.borderColor,backgroundColor:e.backgroundColor};},labelTextColor:function labelTextColor(){return this._options.bodyFontColor;},afterLabel:B.noop,afterBody:B.noop,beforeFooter:B.noop,footer:B.noop,afterFooter:B.noop}}}),{average:function average(t){if(!t.length)return!1;for(var e=0,i=0,n=0,s=0,o=t.length;s<o;++s){var a=t[s];a&&a.hasValue()&&(e+=(a=a.tooltipPosition()).x,i+=a.y,++n);}return{x:e/n,y:i/n};},nearest:function nearest(t,e){for(var i,n,s=e.x,o=e.y,a=Number.POSITIVE_INFINITY,r=0,l=t.length;r<l;++r){var h,c=t[r];c&&c.hasValue()&&(h=c.getCenterPoint(),(h=B.distanceBetweenPoints(e,h))<a&&(a=h,i=c));}return i&&(s=(n=i.tooltipPosition()).x,o=n.y),{x:s,y:o};}});function Ee(t,e){return e&&(B.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t;}function We(t){return("string"==typeof t||t instanceof String)&&-1<t.indexOf("\n")?t.split("\n"):t;}function Ve(t){var e=I.global;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,rtl:t.rtl,textDirection:t.textDirection,bodyFontColor:t.bodyFontColor,_bodyFontFamily:F(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:F(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:F(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:F(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:F(t.titleFontStyle,e.defaultFontStyle),titleFontSize:F(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:F(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:F(t.footerFontStyle,e.defaultFontStyle),footerFontSize:F(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth};}function He(t,e){return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-t.xPadding:t.x+t.xPadding;}function je(t){return Ee([],We(t));}var Yt=E.extend({initialize:function initialize(){this._model=Ve(this._options),this._lastActive=[];},getTitle:function getTitle(){var t=this._options.callbacks,e=t.beforeTitle.apply(this,arguments),i=t.title.apply(this,arguments),t=t.afterTitle.apply(this,arguments),n=Ee(n=[],We(e));return n=Ee(n,We(i)),Ee(n,We(t));},getBeforeBody:function getBeforeBody(){return je(this._options.callbacks.beforeBody.apply(this,arguments));},getBody:function getBody(t,i){var n=this,s=n._options.callbacks,o=[];return B.each(t,function(t){var e={before:[],lines:[],after:[]};Ee(e.before,We(s.beforeLabel.call(n,t,i))),Ee(e.lines,s.label.call(n,t,i)),Ee(e.after,We(s.afterLabel.call(n,t,i))),o.push(e);}),o;},getAfterBody:function getAfterBody(){return je(this._options.callbacks.afterBody.apply(this,arguments));},getFooter:function getFooter(){var t=this._options.callbacks,e=t.beforeFooter.apply(this,arguments),i=t.footer.apply(this,arguments),t=t.afterFooter.apply(this,arguments),n=Ee(n=[],We(e));return n=Ee(n,We(i)),Ee(n,We(t));},update:function update(D){var t,e,i,n,s,o,a,r,l,h,c,u,L,d,p,f,m,g,v,b,y,C,w,x,_,$,S=this,k=S._options,T=S._model,E=S._model=Ve(k),I=S._active,A=S._data,M={xAlign:T.xAlign,yAlign:T.yAlign},P={x:T.x,y:T.y},O={width:T.width,height:T.height},T={x:T.caretX,y:T.caretY};if(I.length){E.opacity=1;for(var j=[],V=[],T=Gt[k.position].call(S,I,S._eventPosition),N=[],R=0,F=I.length;R<F;++R){N.push((r=a=o=i=e=void 0,e=(t=I[R])._xScale,i=t._yScale||t._scale,n=t._index,s=t._datasetIndex,a=(o=t._chart.getDatasetMeta(s).controller)._getIndexScale(),r=o._getValueScale(),{xLabel:e?e.getLabelForIndex(n,s):"",yLabel:i?i.getLabelForIndex(n,s):"",label:a?""+a.getLabelForIndex(n,s):"",value:r?""+r.getLabelForIndex(n,s):"",index:n,datasetIndex:s,x:t._model.x,y:t._model.y}));}k.filter&&(N=N.filter(function(t){return k.filter(t,A);})),k.itemSort&&(N=N.sort(function(t,e){return k.itemSort(t,e,A);})),B.each(N,function(t){j.push(k.callbacks.labelColor.call(S,t,S._chart)),V.push(k.callbacks.labelTextColor.call(S,t,S._chart));}),E.title=S.getTitle(N,A),E.beforeBody=S.getBeforeBody(N,A),E.body=S.getBody(N,A),E.afterBody=S.getAfterBody(N,A),E.footer=S.getFooter(N,A),E.x=T.x,E.y=T.y,E.caretPadding=k.caretPadding,E.labelColors=j,E.labelTextColors=V,E.dataPoints=N,f=E,m=(p=this)._chart.ctx,p=2*f.yPadding,g=0,v=f.body,b=v.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length;},0),b+=f.beforeBody.length+f.afterBody.length,y=f.title.length,C=f.footer.length,w=f.titleFontSize,x=f.bodyFontSize,_=f.footerFontSize,p=(p=(p=(p=(p=p+y*w+(y?(y-1)*f.titleSpacing:0))+(y?f.titleMarginBottom:0))+b*x+(b?(b-1)*f.bodySpacing:0))+(C?f.footerMarginTop:0))+C*_+(C?(C-1)*f.footerSpacing:0),$=0,m.font=B.fontString(w,f._titleFontStyle,f._titleFontFamily),B.each(f.title,nfa),m.font=B.fontString(x,f._bodyFontStyle,f._bodyFontFamily),B.each(f.beforeBody.concat(f.afterBody),nfa),$=f.displayColors?x+2:0,B.each(v,function(t){B.each(t.before,nfa),B.each(t.lines,nfa),B.each(t.after,nfa);}),$=0,m.font=B.fontString(_,f._footerFontStyle,f._footerFontFamily),B.each(f.footer,nfa),O={width:g+=2*f.xPadding,height:p},y=E,l=b=O,h=(C=this)._model,c=C._chart,w=C._chart.chartArea,v=x="center",h.y<l.height?v="top":h.y>c.height-l.height&&(v="bottom"),u=(w.left+w.right)/2,L=(w.top+w.bottom)/2,w="center"===v?(d=function d(t){return t<=u;},function(t){return u<t;}):(d=function d(t){return t<=l.width/2;},function(t){return t>=c.width-l.width/2;}),_=function _(t){return t+l.width+h.caretSize+h.caretPadding>c.width;},f=function f(t){return t-l.width-h.caretSize-h.caretPadding<0;},p=function p(t){return t<=L?"top":"bottom";},d(h.x)?(x="left",_(h.x)&&(x="center",v=p(h.y))):w(h.x)&&(x="right",f(h.x)&&(x="center",v=p(h.y))),d=C._options,_=M={xAlign:d.xAlign||x,yAlign:d.yAlign||v},w=S._chart,f=y.x,p=y.y,C=y.caretSize,x=y.caretPadding,y=y.cornerRadius,d=_.xAlign,_=_.yAlign,C+=x,y+=x,"right"===d?f-=b.width:"center"===d&&(f=(f-=b.width/2)+b.width>w.width?w.width-b.width:f)<0&&(f=0),"top"===_?p+=C:p-="bottom"===_?b.height+C:b.height/2,"center"===_?"left"===d?f+=C:"right"===d&&(f-=C):"left"===d?f-=y:"right"===d&&(f+=y),P={x:f,y:p};}else E.opacity=0;function nfa(t){g=Math.max(g,m.measureText(t).width+$);}return E.xAlign=M.xAlign,E.yAlign=M.yAlign,E.x=P.x,E.y=P.y,E.width=O.width,E.height=O.height,E.caretX=T.x,E.caretY=T.y,S._model=E,D&&k.custom&&k.custom.call(S,E),S;},drawCaret:function drawCaret(t,e){var i=this._chart.ctx,n=this._view,t=this.getCaretPosition(t,e,n);i.lineTo(t.x1,t.y1),i.lineTo(t.x2,t.y2),i.lineTo(t.x3,t.y3);},getCaretPosition:function getCaretPosition(t,e,i){var n,s,o,a,r,l,h=i.caretSize,c=i.cornerRadius,u=i.xAlign,d=i.yAlign,p=t.x,t=t.y,f=e.width,e=e.height;return"center"===d?(o=t+e/2,a="left"===u?(n=(l=p)-h,r=l,s=o+h,o-h):(n=(l=p+f)+h,r=l,s=o-h,o+h)):(r=(l="left"===u?(n=p+c+h)-h:"right"===u?(n=p+f-c-h)-h:(n=i.caretX)-h,n+h),"top"===d?(o=(s=t)-h,a=s):(o=(s=t+e)+h,a=s,u=r,r=l,l=u)),{x1:l,x2:n,x3:r,y1:s,y2:o,y3:a};},drawTitle:function drawTitle(t,e,i){var n,s,o,a=e.title,r=a.length;if(r){var l=qt(e.rtl,e.x,e.width);for(t.x=He(e,e._titleAlign),i.textAlign=l.textAlign(e._titleAlign),i.textBaseline="middle",n=e.titleFontSize,s=e.titleSpacing,i.fillStyle=e.titleFontColor,i.font=B.fontString(n,e._titleFontStyle,e._titleFontFamily),o=0;o<r;++o){i.fillText(a[o],l.x(t.x),t.y+n/2),t.y+=n+s,o+1===r&&(t.y+=e.titleMarginBottom-s);}}},drawBody:function drawBody(e,t,i){function Y5a(t){i.fillText(t,y.x(e.x+v),e.y+d/2),e.y+=d+p;}var n,s,o,a,r,l,h,c,u,d=t.bodyFontSize,p=t.bodySpacing,f=t._bodyAlign,m=t.body,g=t.displayColors,v=0,b=g?He(t,"left"):0,y=qt(t.rtl,t.x,t.width),C=y.textAlign(f);for(i.textAlign=f,i.textBaseline="middle",i.font=B.fontString(d,t._bodyFontStyle,t._bodyFontFamily),e.x=He(t,C),i.fillStyle=t.bodyFontColor,B.each(t.beforeBody,Y5a),v=g&&"right"!==C?"center"===f?d/2+1:d+2:0,r=0,h=m.length;r<h;++r){for(n=m[r],s=t.labelTextColors[r],o=t.labelColors[r],i.fillStyle=s,B.each(n.before,Y5a),l=0,c=(a=n.lines).length;l<c;++l){g&&(u=y.x(b),i.fillStyle=t.legendColorBackground,i.fillRect(y.leftForLtr(u,d),e.y,d,d),i.lineWidth=1,i.strokeStyle=o.borderColor,i.strokeRect(y.leftForLtr(u,d),e.y,d,d),i.fillStyle=o.backgroundColor,i.fillRect(y.leftForLtr(y.xPlus(u,1),d-2),e.y+1,d-2,d-2),i.fillStyle=s),Y5a(a[l]);}B.each(n.after,Y5a);}v=0,B.each(t.afterBody,Y5a),e.y-=p;},drawFooter:function drawFooter(t,e,i){var n,s,o=e.footer,a=o.length;if(a){var r=qt(e.rtl,e.x,e.width);for(t.x=He(e,e._footerAlign),t.y+=e.footerMarginTop,i.textAlign=r.textAlign(e._footerAlign),i.textBaseline="middle",n=e.footerFontSize,i.fillStyle=e.footerFontColor,i.font=B.fontString(n,e._footerFontStyle,e._footerFontFamily),s=0;s<a;++s){i.fillText(o[s],r.x(t.x),t.y+n/2),t.y+=n+e.footerSpacing;}}},drawBackground:function drawBackground(t,e,i,n){i.fillStyle=e.backgroundColor,i.strokeStyle=e.borderColor,i.lineWidth=e.borderWidth;var s=e.xAlign,o=e.yAlign,a=t.x,r=t.y,l=n.width,h=n.height,c=e.cornerRadius;i.beginPath(),i.moveTo(a+c,r),"top"===o&&this.drawCaret(t,n),i.lineTo(a+l-c,r),i.quadraticCurveTo(a+l,r,a+l,r+c),"center"===o&&"right"===s&&this.drawCaret(t,n),i.lineTo(a+l,r+h-c),i.quadraticCurveTo(a+l,r+h,a+l-c,r+h),"bottom"===o&&this.drawCaret(t,n),i.lineTo(a+c,r+h),i.quadraticCurveTo(a,r+h,a,r+h-c),"center"===o&&"left"===s&&this.drawCaret(t,n),i.lineTo(a,r+c),i.quadraticCurveTo(a,r,a+c,r),i.closePath(),i.fill(),0<e.borderWidth&&i.stroke();},draw:function draw(){var t,e,i,n,s=this._chart.ctx,o=this._view;0!==o.opacity&&(t={width:o.width,height:o.height},e={x:o.x,y:o.y},i=Math.abs(o.opacity<.001)?0:o.opacity,n=o.title.length||o.beforeBody.length||o.body.length||o.afterBody.length||o.footer.length,this._options.enabled&&n&&(s.save(),s.globalAlpha=i,this.drawBackground(e,o,s,t),e.y+=o.yPadding,B.rtl.overrideTextDirection(s,o.textDirection),this.drawTitle(e,o,s),this.drawBody(e,o,s),this.drawFooter(e,o,s),B.rtl.restoreTextDirection(s,o.textDirection),s.restore()));},handleEvent:function handleEvent(t){var e,i=this,n=i._options;return i._lastActive=i._lastActive||[],"mouseout"===t.type?i._active=[]:(i._active=i._chart.getElementsAtEventForMode(t,n.mode,n),n.reverse&&i._active.reverse()),(e=!B.arrayEquals(i._active,i._lastActive))&&(i._lastActive=i._active,(n.enabled||n.custom)&&(i._eventPosition={x:t.x,y:t.y},i.update(!0),i.pivot())),e;}}),Xt=(Yt.positioners=Gt,B.valueOrDefault);function Xe(){return B.merge(Object.create(null),[].slice.call(arguments),{merger:function merger(t,e,i,n){if("xAxes"===t||"yAxes"===t){var s,o,a,r=i[t].length;for(e[t]||(e[t]=[]),s=0;s<r;++s){a=i[t][s],o=Xt(a.type,"xAxes"===t?"category":"linear"),s>=e[t].length&&e[t].push({}),!e[t][s].type||a.type&&a.type!==e[t][s].type?B.merge(e[t][s],[Ut.getScaleDefaults(o),a]):B.merge(e[t][s],a);}}else B._merger(t,e,i,n);}});}function Ke(){return B.merge(Object.create(null),[].slice.call(arguments),{merger:function merger(t,e,i,n){var s=e[t]||Object.create(null),o=i[t];"scales"===t?e[t]=Xe(s,o):"scale"===t?e[t]=B.merge(s,[Ut.getScaleDefaults(o.type),o]):B._merger(t,e,i,n);}});}function $e(t,e,i){for(var n,s=function s(t){return t.id===n;};n=e+i++,0<=B.findIndex(t,s);){}return n;}function Je(t){return"top"===t||"bottom"===t;}function Qe(i,n){return function(t,e){return t[i]===e[i]?t[n]-e[n]:t[i]-e[i];};}I._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});function BF(t,e){return this.construct(t,e),this;}B.extend(BF.prototype,{construct:function construct(t,e){var i=this,n=((n=(s=(s=e)||Object.create(null)).data=s.data||{}).datasets=n.datasets||[],n.labels=n.labels||[],s.options=Ke(I.global,I[s.type],s.options||{}),e=s,Wt.acquireContext(t,e)),s=n&&n.canvas,t=s&&s.height,o=s&&s.width;i.id=B.uid(),i.ctx=n,i.canvas=s,i.config=e,i.width=o,i.height=t,i.aspectRatio=t?o/t:null,i.options=e.options,i._bufferedRender=!1,i._layers=[],(i.chart=i).controller=i,BF.instances[i.id]=i,Object.defineProperty(i,"data",{get:function get(){return i.config.data;},set:function set(t){i.config.data=t;}}),n&&s?(i.initialize(),i.update()):console.error("Failed to create chart: can't acquire context from the given item");},initialize:function initialize(){return R.notify(this,"beforeInit"),B.retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.options.responsive&&this.resize(!0),this.initToolTip(),R.notify(this,"afterInit"),this;},clear:function clear(){return B.canvas.clear(this),this;},stop:function stop(){return ut.cancelAnimation(this),this;},resize:function resize(t){var e=this,i=e.options,n=e.canvas,s=i.maintainAspectRatio&&e.aspectRatio||null,o=Math.max(0,Math.floor(B.getMaximumWidth(n))),s=Math.max(0,Math.floor(s?o/s:B.getMaximumHeight(n)));e.width===o&&e.height===s||(n.width=e.width=o,n.height=e.height=s,n.style.width=o+"px",n.style.height=s+"px",B.retinaScale(e,i.devicePixelRatio),t)||(R.notify(e,"resize",[n={width:o,height:s}]),i.onResize&&i.onResize(e,n),e.stop(),e.update({duration:i.responsiveAnimationDuration}));},ensureScalesHaveIDs:function ensureScalesHaveIDs(){var t=this.options,i=t.scales||{},t=t.scale;B.each(i.xAxes,function(t,e){t.id||(t.id=$e(i.xAxes,"x-axis-",e));}),B.each(i.yAxes,function(t,e){t.id||(t.id=$e(i.yAxes,"y-axis-",e));}),t&&(t.id=t.id||"scale");},buildOrUpdateScales:function buildOrUpdateScales(){var a=this,t=a.options,r=a.scales||{},e=[],l=Object.keys(r).reduce(function(t,e){return t[e]=!1,t;},{});t.scales&&(e=e.concat((t.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"};}),(t.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"};}))),t.scale&&e.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),B.each(e,function(t){var e=t.options,i=e.id,n=Xt(e.type,t.dtype),s=(Je(e.position)!==Je(t.dposition)&&(e.position=t.dposition),l[i]=!0,null);if(i in r&&r[i].type===n)(s=r[i]).options=e,s.ctx=a.ctx,s.chart=a;else{var o=Ut.getScaleConstructor(n);if(!o)return;s=new o({id:i,type:n,options:e,ctx:a.ctx,chart:a}),r[s.id]=s;}s.mergeTicksOptions(),t.isDefault&&(a.scale=s);}),B.each(l,function(t,e){t||delete r[e];}),a.scales=r,Ut.addScalesToLayout(this);},buildOrUpdateControllers:function buildOrUpdateControllers(){for(var t=[],e=this.data.datasets,i=0,n=e.length;i<n;i++){var s=e[i],o=this.getDatasetMeta(i),a=s.type||this.config.type;if(o.type&&o.type!==a&&(this.destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.order=s.order||0,o.index=i,o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{a=Nt[o.type];if(void 0===a)throw new Error('"'+o.type+'" is not a chart type.');o.controller=new a(this,i),t.push(o.controller);}}return t;},resetElements:function resetElements(){var i=this;B.each(i.data.datasets,function(t,e){i.getDatasetMeta(e).controller.reset();},i);},reset:function reset(){this.resetElements(),this.tooltip.initialize();},update:function update(t){var e,i=this;if(t&&"object"==(typeof t==="undefined"?"undefined":_typeof(t))||(t={duration:t,lazy:arguments[1]}),n=(e=i).options,B.each(e.scales,function(t){j.removeBox(e,t);}),n=Ke(I.global,I[e.config.type],n),e.options=e.config.options=n,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=n.tooltips,e.tooltip.initialize(),R._invalidate(i),!1!==R.notify(i,"beforeUpdate")){i.tooltip._data=i.data;for(var n=i.buildOrUpdateControllers(),s=0,o=i.data.datasets.length;s<o;s++){i.getDatasetMeta(s).controller.buildOrUpdateElements();}i.updateLayout(),i.options.animation&&i.options.animation.duration&&B.each(n,function(t){t.reset();}),i.updateDatasets(),i.tooltip.initialize(),i.lastActive=[],R.notify(i,"afterUpdate"),i._layers.sort(Qe("z","_idx")),i._bufferedRender?i._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:i.render(t);}},updateLayout:function updateLayout(){var e=this;!1!==R.notify(e,"beforeLayout")&&(j.update(this,this.width,this.height),e._layers=[],B.each(e.boxes,function(t){t._configure&&t._configure(),e._layers.push.apply(e._layers,t._layers());},e),e._layers.forEach(function(t,e){t._idx=e;}),R.notify(e,"afterScaleUpdate"),R.notify(e,"afterLayout"));},updateDatasets:function updateDatasets(){if(!1!==R.notify(this,"beforeDatasetsUpdate")){for(var t=0,e=this.data.datasets.length;t<e;++t){this.updateDataset(t);}R.notify(this,"afterDatasetsUpdate");}},updateDataset:function updateDataset(t){var e=this.getDatasetMeta(t),t={meta:e,index:t};!1!==R.notify(this,"beforeDatasetUpdate",[t])&&(e.controller._update(),R.notify(this,"afterDatasetUpdate",[t]));},render:function render(t){var e,i=this,n=i.options.animation,s=Xt((t=t&&"object"==(typeof t==="undefined"?"undefined":_typeof(t))?t:{duration:t,lazy:arguments[1]}).duration,n&&n.duration),o=t.lazy;if(!1!==R.notify(i,"beforeRender"))return e=function e(t){R.notify(i,"afterRender"),B.callback(n&&n.onComplete,[t],i);},n&&s?(t=new ct({numSteps:s/16.66,easing:t.easing||n.easing,render:function render(t,e){var i=B.easing.effects[e.easing],n=e.currentStep,e=n/e.numSteps;t.draw(i(e),e,n);},onAnimationProgress:n.onProgress,onAnimationComplete:e}),ut.addAnimation(i,t,s,o)):(i.draw(),e(new ct({numSteps:0,chart:i}))),i;},draw:function draw(t){var e,i,n=this;if(n.clear(),B.isNullOrUndef(t)&&(t=1),n.transition(t),!(n.width<=0||n.height<=0)&&!1!==R.notify(n,"beforeDraw",[t])){for(i=n._layers,e=0;e<i.length&&i[e].z<=0;++e){i[e].draw(n.chartArea);}for(n.drawDatasets(t);e<i.length;++e){i[e].draw(n.chartArea);}n._drawTooltip(t),R.notify(n,"afterDraw",[t]);}},transition:function transition(t){for(var e=0,i=(this.data.datasets||[]).length;e<i;++e){this.isDatasetVisible(e)&&this.getDatasetMeta(e).controller.transition(t);}this.tooltip.transition(t);},_getSortedDatasetMetas:function _getSortedDatasetMetas(t){for(var e=[],i=0,n=(this.data.datasets||[]).length;i<n;++i){t&&!this.isDatasetVisible(i)||e.push(this.getDatasetMeta(i));}return e.sort(Qe("order","index")),e;},_getSortedVisibleDatasetMetas:function _getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0);},drawDatasets:function drawDatasets(t){var e,i;if(!1!==R.notify(this,"beforeDatasetsDraw",[t])){for(i=(e=this._getSortedVisibleDatasetMetas()).length-1;0<=i;--i){this.drawDataset(e[i],t);}R.notify(this,"afterDatasetsDraw",[t]);}},drawDataset:function drawDataset(t,e){var i={meta:t,index:t.index,easingValue:e};!1!==R.notify(this,"beforeDatasetDraw",[i])&&(t.controller.draw(e),R.notify(this,"afterDatasetDraw",[i]));},_drawTooltip:function _drawTooltip(t){var e=this.tooltip,t={tooltip:e,easingValue:t};!1!==R.notify(this,"beforeTooltipDraw",[t])&&(e.draw(),R.notify(this,"afterTooltipDraw",[t]));},getElementAtEvent:function getElementAtEvent(t){return Dt.modes.single(this,t);},getElementsAtEvent:function getElementsAtEvent(t){return Dt.modes.label(this,t,{intersect:!0});},getElementsAtXAxis:function getElementsAtXAxis(t){return Dt.modes["x-axis"](this,t,{intersect:!0});},getElementsAtEventForMode:function getElementsAtEventForMode(t,e,i){e=Dt.modes[e];return"function"==typeof e?e(this,t,i):[];},getDatasetAtEvent:function getDatasetAtEvent(t){return Dt.modes.dataset(this,t,{intersect:!0});},getDatasetMeta:function getDatasetMeta(t){var e=this.data.datasets[t];return e._meta||(e._meta={}),e._meta[this.id]||(e._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e.order||0,index:t});},getVisibleDatasetCount:function getVisibleDatasetCount(){for(var t=0,e=0,i=this.data.datasets.length;e<i;++e){this.isDatasetVisible(e)&&t++;}return t;},isDatasetVisible:function isDatasetVisible(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden;},generateLegend:function generateLegend(){return this.options.legendCallback(this);},destroyDatasetMeta:function destroyDatasetMeta(t){var e=this.id,t=this.data.datasets[t],i=t._meta&&t._meta[e];i&&(i.controller.destroy(),delete t._meta[e]);},destroy:function destroy(){var t,e,i=this,n=i.canvas;for(i.stop(),t=0,e=i.data.datasets.length;t<e;++t){i.destroyDatasetMeta(t);}n&&(i.unbindEvents(),B.canvas.clear(i),Wt.releaseContext(i.ctx),i.canvas=null,i.ctx=null),R.notify(i,"destroy"),delete BF.instances[i.id];},toBase64Image:function toBase64Image(){return this.canvas.toDataURL.apply(this.canvas,arguments);},initToolTip:function initToolTip(){this.tooltip=new Yt({_chart:this,_chartInstance:this,_data:this.data,_options:this.options.tooltips},this);},bindEvents:function bindEvents(){var e=this,i=e._listeners={},n=function n(){e.eventHandler.apply(e,arguments);};B.each(e.options.events,function(t){Wt.addEventListener(e,t,n),i[t]=n;}),e.options.responsive&&(n=function n(){e.resize();},Wt.addEventListener(e,"resize",n),i.resize=n);},unbindEvents:function unbindEvents(){var i=this,t=i._listeners;t&&(delete i._listeners,B.each(t,function(t,e){Wt.removeEventListener(i,e,t);}));},updateHoverStyle:function updateHoverStyle(t,e,i){for(var n,s=i?"set":"remove",o=0,a=t.length;o<a;++o){(n=t[o])&&this.getDatasetMeta(n._datasetIndex).controller[s+"HoverStyle"](n);}"dataset"===e&&this.getDatasetMeta(t[0]._datasetIndex).controller["_"+s+"DatasetHoverStyle"]();},eventHandler:function eventHandler(t){var e,i=this,n=i.tooltip;if(!1!==R.notify(i,"beforeEvent",[t]))return i._bufferedRender=!0,i._bufferedRequest=null,e=i.handleEvent(t),n&&(e=n._start?n.handleEvent(t):e|n.handleEvent(t)),R.notify(i,"afterEvent",[t]),(n=i._bufferedRequest)?i.render(n):e&&!i.animating&&(i.stop(),i.render({duration:i.options.hover.animationDuration,lazy:!0})),i._bufferedRender=!1,i._bufferedRequest=null,i;},handleEvent:function handleEvent(t){var e=this,i=e.options||{},n=i.hover;return e.lastActive=e.lastActive||[],"mouseout"===t.type?e.active=[]:e.active=e.getElementsAtEventForMode(t,n.mode,n),B.callback(i.onHover||i.hover.onHover,[t.native,e.active],e),"mouseup"!==t.type&&"click"!==t.type||i.onClick&&i.onClick.call(e,t.native,e.active),e.lastActive.length&&e.updateHoverStyle(e.lastActive,n.mode,!1),e.active.length&&n.mode&&e.updateHoverStyle(e.active,n.mode,!0),i=!B.arrayEquals(e.active,e.lastActive),e.lastActive=e.active,i;}}),BF.instances={};var z=BF;function nn(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.");}function an(t){this.options=t||{};}(BF.Controller=BF).types={},B.configMerge=Ke,B.scaleMerge=Xe,B.extend(an.prototype,{formats:nn,parse:nn,format:nn,add:nn,diff:nn,startOf:nn,endOf:nn,_create:function _create(t){return t;}}),an.override=function(t){B.extend(an.prototype,t);};var Jt={_date:an},a={formatters:{values:function values(t){return B.isArray(t)?t:""+t;},linear:function linear(t,e,i){var n=3<i.length?i[2]-i[1]:i[1]-i[0],n=(1<Math.abs(n)&&t!==Math.floor(t)&&(n=t-Math.floor(t)),B.log10(Math.abs(n)));return 0!==t?Math.max(Math.abs(i[0]),Math.abs(i[i.length-1]))<1e-4?(i=B.log10(Math.abs(t)),i=Math.floor(i)-Math.floor(n),i=Math.max(Math.min(i,20),0),t.toExponential(i)):(i=-1*Math.floor(n),i=Math.max(Math.min(i,20),0),t.toFixed(i)):"0";},logarithmic:function logarithmic(t,e,i){var n=t/Math.pow(10,Math.floor(B.log10(t)));return 0===t?"0":1==n||2==n||5==n||0===e||e===i.length-1?t.toExponential():"";}}},Kt=B.isArray,Zt=B.isNullOrUndef,oe=B.valueOrDefault,re=B.valueAtIndexOrDefault;function fn(t){return t.drawTicks?t.tickMarkLength:0;}function gn(t){var e;return t.display?(e=B.options._parseFont(t),t=B.options.toPadding(t.padding),e.lineHeight+t.height):0;}function pn(t,e){return B.extend(B.options._parseFont({fontFamily:oe(e.fontFamily,t.fontFamily),fontSize:oe(e.fontSize,t.fontSize),fontStyle:oe(e.fontStyle,t.fontStyle),lineHeight:oe(e.lineHeight,t.lineHeight)}),{color:B.options.resolve([e.fontColor,t.fontColor,I.global.defaultFontColor])});}function mn(t){var e=pn(t,t.minor);return{minor:e,major:t.major.enabled?pn(t,t.major):e};}function vn(t){for(var e,i=[],n=0,s=t.length;n<s;++n){void 0!==(e=t[n])._index&&i.push(e);}return i;}function bn(t,e,i,n){var s,o,a,r=oe(i,0),l=Math.min(oe(n,t.length),t.length),h=0;for(e=Math.ceil(e),n&&(e=(n=n-i)/Math.floor(n/e)),a=r;a<0;){h++,a=Math.round(r+h*e);}for(s=Math.max(r,0);s<l;s++){o=t[s],s===a?(o._index=s,h++,a=Math.round(r+h*e)):delete o.label;}}I._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:a.formatters.values,minor:{},major:{}}});var Mt=E.extend({zeroLineIndex:0,getPadding:function getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0};},getTicks:function getTicks(){return this._ticks;},_getLabels:function _getLabels(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[];},mergeTicksOptions:function mergeTicksOptions(){},beforeUpdate:function beforeUpdate(){B.callback(this.options.beforeUpdate,[this]);},update:function update(t,e,i){var n,s,o,a=this,r=a.options.ticks,l=r.sampleSize;if(a.beforeUpdate(),a.maxWidth=t,a.maxHeight=e,a.margins=B.extend({left:0,right:0,top:0,bottom:0},i),a._ticks=null,a.ticks=null,a._labelSizes=null,a._maxLabelLines=0,a.longestLabelWidth=0,a.longestTextCache=a.longestTextCache||{},a._gridLineItems=null,a._labelItems=null,a.beforeSetDimensions(),a.setDimensions(),a.afterSetDimensions(),a.beforeDataLimits(),a.determineDataLimits(),a.afterDataLimits(),a.beforeBuildTicks(),o=a.buildTicks()||[],(!(o=a.afterBuildTicks(o)||o)||!o.length)&&a.ticks)for(o=[],n=0,s=a.ticks.length;n<s;++n){o.push({value:a.ticks[n],major:!1});}return a._ticks=o,t=l<o.length,e=a._convertTicksToLabels(t?function(t){for(var e=[],i=t.length/l,n=0,s=t.length;n<s;n+=i){e.push(t[Math.floor(n)]);}return e;}(o):o),a._configure(),a.beforeCalculateTickRotation(),a.calculateTickRotation(),a.afterCalculateTickRotation(),a.beforeFit(),a.fit(),a.afterFit(),a._ticksToDraw=r.display&&(r.autoSkip||"auto"===r.source)?a._autoSkip(o):o,t&&(e=a._convertTicksToLabels(a._ticksToDraw)),a.ticks=e,a.afterUpdate(),a.minSize;},_configure:function _configure(){var t,e,i=this,n=i.options.ticks.reverse;i.isHorizontal()?(t=i.left,e=i.right):(t=i.top,e=i.bottom,n=!n),i._startPixel=t,i._endPixel=e,i._reversePixels=n,i._length=e-t;},afterUpdate:function afterUpdate(){B.callback(this.options.afterUpdate,[this]);},beforeSetDimensions:function beforeSetDimensions(){B.callback(this.options.beforeSetDimensions,[this]);},setDimensions:function setDimensions(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0;},afterSetDimensions:function afterSetDimensions(){B.callback(this.options.afterSetDimensions,[this]);},beforeDataLimits:function beforeDataLimits(){B.callback(this.options.beforeDataLimits,[this]);},determineDataLimits:B.noop,afterDataLimits:function afterDataLimits(){B.callback(this.options.afterDataLimits,[this]);},beforeBuildTicks:function beforeBuildTicks(){B.callback(this.options.beforeBuildTicks,[this]);},buildTicks:B.noop,afterBuildTicks:function afterBuildTicks(t){return Kt(t)&&t.length?B.callback(this.options.afterBuildTicks,[this,t]):(this.ticks=B.callback(this.options.afterBuildTicks,[this,this.ticks])||this.ticks,t);},beforeTickToLabelConversion:function beforeTickToLabelConversion(){B.callback(this.options.beforeTickToLabelConversion,[this]);},convertTicksToLabels:function convertTicksToLabels(){var t=this.options.ticks;this.ticks=this.ticks.map(t.userCallback||t.callback,this);},afterTickToLabelConversion:function afterTickToLabelConversion(){B.callback(this.options.afterTickToLabelConversion,[this]);},beforeCalculateTickRotation:function beforeCalculateTickRotation(){B.callback(this.options.beforeCalculateTickRotation,[this]);},calculateTickRotation:function calculateTickRotation(){var t,e,i,n,s=this,o=s.options,a=o.ticks,r=s.getTicks().length,l=a.minRotation||0,h=a.maxRotation,c=l;!s._isVisible()||!a.display||h<=l||r<=1||!s.isHorizontal()?s.labelRotation=l:(e=(t=s._getLabelSizes()).widest.width,i=t.highest.height-t.highest.offset,n=Math.min(s.maxWidth,s.chart.width-e),e+6>(o.offset?s.maxWidth/r:n/(r-1))&&(n=n/(r-(o.offset?.5:1)),r=s.maxHeight-fn(o.gridLines)-a.padding-gn(o.scaleLabel),a=Math.sqrt(e*e+i*i),c=B.toDegrees(Math.min(Math.asin(Math.min((t.highest.height+6)/n,1)),Math.asin(Math.min(r/a,1))-Math.asin(i/a))),c=Math.max(l,Math.min(h,c))),s.labelRotation=c);},afterCalculateTickRotation:function afterCalculateTickRotation(){B.callback(this.options.afterCalculateTickRotation,[this]);},beforeFit:function beforeFit(){B.callback(this.options.beforeFit,[this]);},fit:function fit(){var t,e,i,n,s,o,a,r,l=this,h=l.minSize={width:0,height:0},c=l.chart,u=l.options,d=u.ticks,p=u.scaleLabel,f=u.gridLines,m=l._isVisible(),u="bottom"===u.position,g=l.isHorizontal();g?h.width=l.maxWidth:m&&(h.width=fn(f)+gn(p)),g?m&&(h.height=fn(f)+gn(p)):h.height=l.maxHeight,d.display&&m&&(f=mn(d),m=(p=l._getLabelSizes()).first,t=p.last,e=p.widest,p=p.highest,f=.4*f.minor.lineHeight,i=d.padding,g?(r=0!==l.labelRotation,s=B.toRadians(l.labelRotation),n=Math.cos(s),p=(s=Math.sin(s))*e.width+n*(p.height-(r?p.offset:0))+(r?0:f),h.height=Math.min(l.maxHeight,h.height+p+i),p=l.getPixelForTick(0)-l.left,a=l.right-l.getPixelForTick(l.getTicks().length-1),r=r?(o=u?n*m.width+s*m.offset:s*(m.height-m.offset),u?s*(t.height-t.offset):n*t.width+s*t.offset):(o=m.width/2,t.width/2),l.paddingLeft=Math.max((o-p)*l.width/(l.width-p),0)+3,l.paddingRight=Math.max((r-a)*l.width/(l.width-a),0)+3):(u=d.mirror?0:e.width+i+f,h.width=Math.min(l.maxWidth,h.width+u),l.paddingTop=m.height/2,l.paddingBottom=t.height/2)),l.handleMargins(),g?(l.width=l._length=c.width-l.margins.left-l.margins.right,l.height=h.height):(l.width=h.width,l.height=l._length=c.height-l.margins.top-l.margins.bottom);},handleMargins:function handleMargins(){var t=this;t.margins&&(t.margins.left=Math.max(t.paddingLeft,t.margins.left),t.margins.top=Math.max(t.paddingTop,t.margins.top),t.margins.right=Math.max(t.paddingRight,t.margins.right),t.margins.bottom=Math.max(t.paddingBottom,t.margins.bottom));},afterFit:function afterFit(){B.callback(this.options.afterFit,[this]);},isHorizontal:function isHorizontal(){var t=this.options.position;return"top"===t||"bottom"===t;},isFullWidth:function isFullWidth(){return this.options.fullWidth;},getRightValue:function getRightValue(t){if(Zt(t))return NaN;if(("number"==typeof t||t instanceof Number)&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x);}else if(void 0!==t.y)return this.getRightValue(t.y);return t;},_convertTicksToLabels:function _convertTicksToLabels(t){var e,i,n;for(this.ticks=t.map(function(t){return t.value;}),this.beforeTickToLabelConversion(),e=this.convertTicksToLabels(t)||this.ticks,this.afterTickToLabelConversion(),i=0,n=t.length;i<n;++i){t[i].label=e[i];}return e;},_getLabelSizes:function _getLabelSizes(){var t=this._labelSizes;return t||(this._labelSizes=t=function(t,e,i,n){for(var s,o,a,r,l,h,c,u,d,p,f,m,g,v=i.length,b=[],y=[],C=[],x=0,_=0,$=0;$<v;++$){if(a=i[$].label,r=i[$].major?e.major:e.minor,t.font=l=r.string,h=n[l]=n[l]||{data:{},gc:[]},c=r.lineHeight,u=d=0,Zt(a)||Kt(a)){if(Kt(a))for(s=0,o=a.length;s<o;++s){p=a[s],Zt(p)||Kt(p)||(u=B.measureText(t,h.data,h.gc,u,p),d+=c);}}else u=B.measureText(t,h.data,h.gc,u,a),d=c;b.push(u),y.push(d),C.push(c/2),x=Math.max(u,x),_=Math.max(d,_);}function w(t){return{width:b[t]||0,height:y[t]||0,offset:C[t]||0};}return g=v,B.each(n,function(t){var e,i=t.gc,n=i.length/2;if(g<n){for(e=0;e<n;++e){delete t.data[i[e]];}i.splice(0,n);}}),f=b.indexOf(x),m=y.indexOf(_),{first:w(0),last:w(v-1),widest:w(f),highest:w(m)};}(this.ctx,mn(this.options.ticks),this.getTicks(),this.longestTextCache),this.longestLabelWidth=t.widest.width),t;},_parseValue:function _parseValue(t){var e,i,n,t=Kt(t)?(e=+this.getRightValue(t[0]),i=+this.getRightValue(t[1]),n=Math.min(e,i),Math.max(e,i)):(e=void 0,i=t=+this.getRightValue(t),n=t);return{min:n,max:t,start:e,end:i};},_getScaleLabel:function _getScaleLabel(t){var e=this._parseValue(t);return void 0!==e.start?"["+e.start+", "+e.end+"]":+this.getRightValue(t);},getLabelForIndex:B.noop,getPixelForValue:B.noop,getValueForPixel:B.noop,getPixelForTick:function getPixelForTick(t){var e=this.options.offset,i=this._ticks.length,n=1/Math.max(i-(e?0:1),1);return t<0||i-1<t?null:this.getPixelForDecimal(t*n+(e?n/2:0));},getPixelForDecimal:function getPixelForDecimal(t){return this._reversePixels&&(t=1-t),this._startPixel+t*this._length;},getDecimalForPixel:function getDecimalForPixel(t){t=(t-this._startPixel)/this._length;return this._reversePixels?1-t:t;},getBasePixel:function getBasePixel(){return this.getPixelForValue(this.getBaseValue());},getBaseValue:function getBaseValue(){var t=this.min,e=this.max;return this.beginAtZero?0:t<0&&e<0?e:0<t&&0<e?t:0;},_autoSkip:function _autoSkip(t){var e,i,n,s=this.options.ticks,o=this._length,o=s.maxTicksLimit||o/this._tickSize()+1,l=s.major.enabled?function(t){for(var e=[],i=0,n=t.length;i<n;i++){t[i].major&&e.push(i);}return e;}(t):[],s=l.length,a=l[0],r=l[s-1];if(o<s){{var h=t;var c=l;var u=s/o;var d,p,f=0,m=c[0];for(u=Math.ceil(u),d=0;d<h.length;d++){p=h[d],d===m?(p._index=d,m=c[++f*u]):delete p.label;}}return vn(t);}if(n=function(t,e){var i,n,s,o,a=function(t){var e,i,n=t.length;if(n<2)return!1;for(i=t[0],e=1;e<n;++e){if(t[e]-t[e-1]!==i)return!1;}return i;}(l),r=(t.length-1)/e;if(!a)return Math.max(r,1);for(s=0,o=(i=B.math._factorize(a)).length-1;s<o;s++){if((n=i[s])>r)return n;}return Math.max(r,1);}(t,o),0<s){for(e=0,i=s-1;e<i;e++){bn(t,n,l[e],l[e+1]);}return bn(t,n,B.isNullOrUndef(o=1<s?(r-a)/(s-1):null)?0:a-o,a),bn(t,n,r,B.isNullOrUndef(o)?t.length:r+o),vn(t);}return bn(t,n),vn(t);},_tickSize:function _tickSize(){var t=this.options.ticks,e=B.toRadians(this.labelRotation),i=Math.abs(Math.cos(e)),e=Math.abs(Math.sin(e)),n=this._getLabelSizes(),t=t.autoSkipPadding||0,s=n?n.widest.width+t:0,n=n?n.highest.height+t:0;return this.isHorizontal()?s*e<n*i?s/i:n/e:n*e<s*i?n/i:s/e;},_isVisible:function _isVisible(){var t,e,i,n=this.chart,s=this.options.display;if("auto"!==s)return!!s;for(t=0,e=n.data.datasets.length;t<e;++t){if(n.isDatasetVisible(t)&&((i=n.getDatasetMeta(t)).xAxisID===this.id||i.yAxisID===this.id))return!0;}return!1;},_computeGridLineItems:function _computeGridLineItems(t){function Lka(t){return I(v,t,T);}var e,i,n,s,o,a,r,l,h,c,u,d,p,f,m,g=this,v=g.chart,b=g.options,y=b.gridLines,C=b.position,w=y.offsetGridLines,x=g.isHorizontal(),_=g._ticksToDraw,$=_.length+(w?1:0),S=fn(y),k=[],T=y.drawBorder?re(y.lineWidth,0,0):0,E=T/2,I=B._alignPixel;for("top"===C?(e=Lka(g.bottom),o=g.bottom-S,r=e-E,h=Lka(t.top)+E,u=t.bottom):"bottom"===C?(e=Lka(g.top),h=t.top,u=Lka(t.bottom)-E,o=e+E,r=g.top+S):"left"===C?(e=Lka(g.right),s=g.right-S,a=e-E,l=Lka(t.left)+E,c=t.right):(e=Lka(g.left),l=t.left,c=Lka(t.right)-E,s=e+E,a=g.left+S),i=0;i<$;++i){n=_[i]||{},Zt(n.label)&&i<_.length||(m=i===g.zeroLineIndex&&b.offset===w?(d=y.zeroLineWidth,p=y.zeroLineColor,f=y.zeroLineBorderDash||[],y.zeroLineBorderDashOffset||0):(d=re(y.lineWidth,i,1),p=re(y.color,i,"rgba(0,0,0,0.1)"),f=y.borderDash||[],y.borderDashOffset||0),void 0!==(n=function(t,e,i){var n=t.getTicks().length,s=Math.min(e,n-1),o=t.getPixelForTick(s),a=t._startPixel,r=t._endPixel;if(!(i&&(i=1===n?Math.max(o-a,r-o):0===e?(t.getPixelForTick(1)-o)/2:(o-t.getPixelForTick(s-1))/2,(o+=s<e?i:-i)<a-1e-6||r+1e-6<o)))return o;}(g,n._index||i,w))&&(n=I(v,n,d),x?s=a=l=c=n:o=r=h=u=n,k.push({tx1:s,ty1:o,tx2:a,ty2:r,x1:l,y1:h,x2:c,y2:u,width:d,color:p,borderDash:f,borderDashOffset:m})));}return k.ticksLength=$,k.borderValue=e,k;},_computeLabelItems:function _computeLabelItems(){for(var t,e,i,n,s,o,a,r=this.options,l=r.ticks,h=r.position,c=l.mirror,u=this.isHorizontal(),d=this._ticksToDraw,p=mn(l),f=l.padding,r=fn(r.gridLines),m=-B.toRadians(this.labelRotation),g=[],v="top"===h?(i=this.bottom-r-f,m?"left":"center"):"bottom"===h?(i=this.top+r+f,m?"right":"center"):"left"===h?(e=this.right-(c?0:r)-f,c?"left":"right"):(e=this.left+(c?0:r)+f,c?"right":"left"),b=0,y=d.length;b<y;++b){t=(n=d[b]).label,Zt(t)||(a=this.getPixelForTick(n._index||b)+l.labelOffset,s=(n=n.major?p.major:p.minor).lineHeight,o=Kt(t)?t.length:1,a=u?(e=a,"top"===h?((m?1:.5)-o)*s:(m?0:.5)*s):(i=a,(1-o)*s/2),g.push({x:e,y:i,rotation:m,label:t,font:n,textOffset:a,textAlign:v}));}return g;},_drawGrid:function _drawGrid(t){var e=this,i=e.options.gridLines;if(i.display){for(var n,s,o,a,r,l,h,c,u,d=e.ctx,p=e.chart,f=B._alignPixel,m=i.drawBorder?re(i.lineWidth,0,0):0,g=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(t)),v=0,b=g.length;v<b;++v){n=(o=g[v]).width,s=o.color,n&&s&&(d.save(),d.lineWidth=n,d.strokeStyle=s,d.setLineDash&&(d.setLineDash(o.borderDash),d.lineDashOffset=o.borderDashOffset),d.beginPath(),i.drawTicks&&(d.moveTo(o.tx1,o.ty1),d.lineTo(o.tx2,o.ty2)),i.drawOnChartArea&&(d.moveTo(o.x1,o.y1),d.lineTo(o.x2,o.y2)),d.stroke(),d.restore());}m&&(t=m,c=re(i.lineWidth,g.ticksLength-1,1),u=g.borderValue,e.isHorizontal()?(a=f(p,e.left,t)-t/2,r=f(p,e.right,c)+c/2,l=h=u):(l=f(p,e.top,t)-t/2,h=f(p,e.bottom,c)+c/2,a=r=u),d.lineWidth=m,d.strokeStyle=re(i.color,0),d.beginPath(),d.moveTo(a,l),d.lineTo(r,h),d.stroke());}},_drawLabels:function _drawLabels(){if(this.options.ticks.display)for(var t,e,i,n,s,o,a=this.ctx,r=this._labelItems||(this._labelItems=this._computeLabelItems()),l=0,h=r.length;l<h;++l){if(n=(i=r[l]).font,a.save(),a.translate(i.x,i.y),a.rotate(i.rotation),a.font=n.string,a.fillStyle=n.color,a.textBaseline="middle",a.textAlign=i.textAlign,s=i.label,o=i.textOffset,Kt(s))for(t=0,e=s.length;t<e;++t){a.fillText(""+s[t],0,o),o+=n.lineHeight;}else a.fillText(s,0,o);a.restore();}},_drawTitle:function _drawTitle(){var t,e,i,n,s,o,a,r=this,l=r.ctx,h=r.options,c=h.scaleLabel;c.display&&(t=oe(c.fontColor,I.global.defaultFontColor),e=B.options._parseFont(c),i=B.options.toPadding(c.padding),n=e.lineHeight/2,h=h.position,a=0,r.isHorizontal()?(s=r.left+r.width/2,o="bottom"===h?r.bottom-n-i.bottom:r.top+n+i.top):(s=(h="left"===h)?r.left+n+i.top:r.right-n-i.top,o=r.top+r.height/2,a=h?-.5*Math.PI:.5*Math.PI),l.save(),l.translate(s,o),l.rotate(a),l.textAlign="center",l.textBaseline="middle",l.fillStyle=t,l.font=e.string,l.fillText(c.labelString,0,0),l.restore());},draw:function draw(t){this._isVisible()&&(this._drawGrid(t),this._drawTitle(),this._drawLabels());},_layers:function _layers(){var t=this,e=t.options,i=e.ticks&&e.ticks.z||0,e=e.gridLines&&e.gridLines.z||0;return t._isVisible()&&i!==e&&t.draw===t._draw?[{z:e,draw:function draw(){t._drawGrid.apply(t,arguments),t._drawTitle.apply(t,arguments);}},{z:i,draw:function draw(){t._drawLabels.apply(t,arguments);}}]:[{z:i,draw:function draw(){t.draw.apply(t,arguments);}}];},_getMatchingVisibleMetas:function _getMatchingVisibleMetas(e){var i=this,n=i.isHorizontal();return i.chart._getSortedVisibleDatasetMetas().filter(function(t){return(!e||t.type===e)&&(n?t.xAxisID===i.id:t.yAxisID===i.id);});}}),H=(Mt.prototype._draw=Mt.prototype.draw,Mt),he=B.isNullOrUndef,L=H.extend({determineDataLimits:function determineDataLimits(){var t,e=this._getLabels(),i=this.options.ticks,n=i.min,i=i.max,s=0,o=e.length-1;void 0!==n&&0<=(t=e.indexOf(n))&&(s=t),void 0!==i&&0<=(t=e.indexOf(i))&&(o=t),this.minIndex=s,this.maxIndex=o,this.min=e[s],this.max=e[o];},buildTicks:function buildTicks(){var t=this._getLabels(),e=this.minIndex,i=this.maxIndex;this.ticks=0===e&&i===t.length-1?t:t.slice(e,i+1);},getLabelForIndex:function getLabelForIndex(t,e){var i=this.chart;return i.getDatasetMeta(e).controller._getValueScaleId()===this.id?this.getRightValue(i.data.datasets[e].data[t]):this._getLabels()[t];},_configure:function _configure(){var t=this.options.offset,e=this.ticks;H.prototype._configure.call(this),this.isHorizontal()||(this._reversePixels=!this._reversePixels),e&&(this._startValue=this.minIndex-(t?.5:0),this._valueRange=Math.max(e.length-(t?0:1),1));},getPixelForValue:function getPixelForValue(t,e,i){var n;return he(e)||he(i)||(t=this.chart.data.datasets[i].data[e]),(void 0!==(n=he(t)?n:this.isHorizontal()?t.x:t.y)||void 0!==t&&isNaN(e))&&(i=this._getLabels(),t=B.valueOrDefault(n,t),e=-1!==(n=i.indexOf(t))?n:e,isNaN(e)&&(e=t)),this.getPixelForDecimal((e-this._startValue)/this._valueRange);},getPixelForTick:function getPixelForTick(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t],t+this.minIndex);},getValueForPixel:function getValueForPixel(t){t=Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange);return Math.min(Math.max(t,0),this.ticks.length-1);},getBasePixel:function getBasePixel(){return this.bottom;}}),Ot=(L._defaults={position:"bottom"},B.noop),de=B.isNullOrUndef,pe=H.extend({getRightValue:function getRightValue(t){return"string"==typeof t?+t:H.prototype.getRightValue.call(this,t);},handleTickRangeOptions:function handleTickRangeOptions(){var t=this,e=t.options.ticks,i=(e.beginAtZero&&(i=B.sign(t.min),n=B.sign(t.max),i<0&&n<0?t.max=0:0<i&&0<n&&(t.min=0)),void 0!==e.min||void 0!==e.suggestedMin),n=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(null===t.min?t.min=e.suggestedMin:t.min=Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(null===t.max?t.max=e.suggestedMax:t.max=Math.max(t.max,e.suggestedMax)),i!=n&&t.min>=t.max&&(i?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--);},getTickLimit:function getTickLimit(){var t,e=this.options.ticks,i=e.stepSize,e=e.maxTicksLimit;return i?t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1:(t=this._computeTickLimit(),e=e||11),t=e?Math.min(e,t):t;},_computeTickLimit:function _computeTickLimit(){return Number.POSITIVE_INFINITY;},handleDirectionalChanges:Ot,buildTicks:function buildTicks(){var f=this,t=f.options.ticks,e=f.getTickLimit(),m={maxTicks:Math.max(2,e),min:t.min,max:t.max,precision:t.precision,stepSize:B.valueOrDefault(t.fixedStepSize,t.stepSize)},e=f.ticks=function(){var t,e,i,n=[],s=m.stepSize,o=s||1,a=m.maxTicks-1,r=m.min,l=m.max,h=m.precision,c=f.min,u=f.max,d=B.niceNum((u-c)/a/o)*o;if(d<1e-14&&de(r)&&de(l))return[c,u];(i=Math.ceil(u/d)-Math.floor(c/d))>a&&(d=B.niceNum(i*d/a/o)*o),s||de(h)?t=Math.pow(10,B._decimalPlaces(d)):(t=Math.pow(10,h),d=Math.ceil(d*t)/t),e=Math.floor(c/d)*d,a=Math.ceil(u/d)*d,s&&(!de(r)&&B.almostWhole(r/d,d/1e3)&&(e=r),!de(l)&&B.almostWhole(l/d,d/1e3)&&(a=l)),i=B.almostEquals(i=(a-e)/d,Math.round(i),d/1e3)?Math.round(i):Math.ceil(i),e=Math.round(e*t)/t,a=Math.round(a*t)/t,n.push(de(r)?e:r);for(var p=1;p<i;++p){n.push(Math.round((e+p*d)*t)/t);}return n.push(de(l)?a:l),n;}();f.handleDirectionalChanges(),f.max=B.max(e),f.min=B.min(e),t.reverse?(e.reverse(),f.start=f.max,f.end=f.min):(f.start=f.min,f.end=f.max);},convertTicksToLabels:function convertTicksToLabels(){this.ticksAsNumbers=this.ticks.slice(),this.zeroLineIndex=this.ticks.indexOf(0),H.prototype.convertTicksToLabels.call(this);},_configure:function _configure(){var t=this.getTicks(),e=this.min,i=this.max;H.prototype._configure.call(this),this.options.offset&&t.length&&(e-=t=(i-e)/Math.max(t.length-1,1)/2,i+=t),this._startValue=e,this._endValue=i,this._valueRange=i-e;}}),It={position:"left",ticks:{callback:a.formatters.linear}};var T=pe.extend({determineDataLimits:function determineDataLimits(){var t,e,i,n,s=this,o=s.options,a=s.chart.data.datasets,r=s._getMatchingVisibleMetas(),l=o.stacked,h={},c=r.length;if(s.min=Number.POSITIVE_INFINITY,s.max=Number.NEGATIVE_INFINITY,void 0===l)for(t=0;!l&&t<c;++t){l=void 0!==(e=r[t]).stack;}for(t=0;t<c;++t){i=a[(e=r[t]).index].data;if(l){u=void 0;d=void 0;p=void 0;f=void 0;C=void 0;m=void 0;g=void 0;d=void 0;v=void 0;b=void 0;y=void 0;var u=s;var d=h;var p=e;var f=i;for(var m,g=u.options,v=(d=function(t,e,i){e=[i.type,void 0===e&&void 0===i.stack?i.index:"",i.stack].join(".");return void 0===t[e]&&(t[e]={pos:[],neg:[]}),t[e];}(d,g.stacked,p)).pos,b=d.neg,y=f.length,C=0;C<y;++C){m=u._parseValue(f[C]),isNaN(m.min)||isNaN(m.max)||p.data[C].hidden||(v[C]=v[C]||0,b[C]=b[C]||0,g.relativePoints?v[C]=100:m.min<0||m.max<0?b[C]+=m.min:v[C]+=m.max);}}else{w=void 0;x=void 0;_=void 0;k=void 0;$=void 0;S=void 0;var w=s;var x=e;var _=i;for(var $,S=_.length,k=0;k<S;++k){$=w._parseValue(_[k]),isNaN($.min)||isNaN($.max)||x.data[k].hidden||(w.min=Math.min(w.min,$.min),w.max=Math.max(w.max,$.max));}}}B.each(h,function(t){n=t.pos.concat(t.neg),s.min=Math.min(s.min,B.min(n)),s.max=Math.max(s.max,B.max(n));}),s.min=B.isFinite(s.min)&&!isNaN(s.min)?s.min:0,s.max=B.isFinite(s.max)&&!isNaN(s.max)?s.max:1,s.handleTickRangeOptions();},_computeTickLimit:function _computeTickLimit(){var t;return this.isHorizontal()?Math.ceil(this.width/40):(t=B.options._parseFont(this.options.ticks),Math.ceil(this.height/t.lineHeight));},handleDirectionalChanges:function handleDirectionalChanges(){this.isHorizontal()||this.ticks.reverse();},getLabelForIndex:function getLabelForIndex(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t]);},getPixelForValue:function getPixelForValue(t){return this.getPixelForDecimal((+this.getRightValue(t)-this._startValue)/this._valueRange);},getValueForPixel:function getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange;},getPixelForTick:function getPixelForTick(t){var e=this.ticksAsNumbers;return t<0||t>e.length-1?null:this.getPixelForValue(e[t]);}}),me=(T._defaults=It,B.valueOrDefault),W=B.math.log10,S={position:"left",ticks:{callback:a.formatters.logarithmic}};function Rn(t,e){return B.isFinite(t)&&0<=t?t:e;}var $=H.extend({determineDataLimits:function determineDataLimits(){var t,e,i,n,s=this,o=s.options,a=s.chart,r=a.data.datasets,l=s.isHorizontal();function h(t){return l?t.xAxisID===s.id:t.yAxisID===s.id;}s.min=Number.POSITIVE_INFINITY,s.max=Number.NEGATIVE_INFINITY,s.minNotZero=Number.POSITIVE_INFINITY;var c=o.stacked;if(void 0===c)for(d=0;d<r.length;d++){if(t=a.getDatasetMeta(d),a.isDatasetVisible(d)&&h(t)&&void 0!==t.stack){c=!0;break;}}if(o.stacked||c){for(var u={},d=0;d<r.length;d++){var p=[(t=a.getDatasetMeta(d)).type,void 0===o.stacked&&void 0===t.stack?d:"",t.stack].join(".");if(a.isDatasetVisible(d)&&h(t))for(void 0===u[p]&&(u[p]=[]),i=0,n=(e=r[d].data).length;i<n;i++){var f=u[p],m=s._parseValue(e[i]);isNaN(m.min)||isNaN(m.max)||t.data[i].hidden||m.min<0||m.max<0||(f[i]=f[i]||0,f[i]+=m.max);}}B.each(u,function(t){var e;0<t.length&&(e=B.min(t),t=B.max(t),s.min=Math.min(s.min,e),s.max=Math.max(s.max,t));});}else for(d=0;d<r.length;d++){if(t=a.getDatasetMeta(d),a.isDatasetVisible(d)&&h(t))for(i=0,n=(e=r[d].data).length;i<n;i++){m=s._parseValue(e[i]),isNaN(m.min)||isNaN(m.max)||t.data[i].hidden||m.min<0||m.max<0||(s.min=Math.min(m.min,s.min),s.max=Math.max(m.max,s.max),0!==m.min&&(s.minNotZero=Math.min(m.min,s.minNotZero)));}}s.min=B.isFinite(s.min)?s.min:null,s.max=B.isFinite(s.max)?s.max:null,s.minNotZero=B.isFinite(s.minNotZero)?s.minNotZero:null,this.handleTickRangeOptions();},handleTickRangeOptions:function handleTickRangeOptions(){var t=this,e=t.options.ticks;t.min=Rn(e.min,t.min),t.max=Rn(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(W(t.min))-1),t.max=Math.pow(10,Math.floor(W(t.max))+1)):(t.min=1,t.max=10)),null===t.min&&(t.min=Math.pow(10,Math.floor(W(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(W(t.min))+1):10),null===t.minNotZero&&(0<t.min?t.minNotZero=t.min:t.max<1?t.minNotZero=Math.pow(10,Math.floor(W(t.max))):t.minNotZero=1);},buildTicks:function buildTicks(){var t=this,e=t.options.ticks,i=!t.isHorizontal(),n={min:Rn(e.min),max:Rn(e.max)},n=t.ticks=function(t,e){for(var i,n,s=[],o=me(t.min,Math.pow(10,Math.floor(W(e.min)))),a=Math.floor(W(e.max)),r=Math.ceil(e.max/Math.pow(10,a)),l=(0===o?(i=Math.floor(W(e.minNotZero)),n=Math.floor(e.minNotZero/Math.pow(10,i)),s.push(o),o=n*Math.pow(10,i)):(i=Math.floor(W(o)),n=Math.floor(o/Math.pow(10,i))),i<0?Math.pow(10,Math.abs(i)):1);s.push(o),10==++n&&(n=1,l=0<=++i?1:l),o=Math.round(n*Math.pow(10,i)*l)/l,i<a||i===a&&n<r;){}e=me(t.max,o);return s.push(e),s;}(n,t);t.max=B.max(n),t.min=B.min(n),e.reverse?(i=!i,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),i&&n.reverse();},convertTicksToLabels:function convertTicksToLabels(){this.tickValues=this.ticks.slice(),H.prototype.convertTicksToLabels.call(this);},getLabelForIndex:function getLabelForIndex(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t]);},getPixelForTick:function getPixelForTick(t){var e=this.tickValues;return t<0||t>e.length-1?null:this.getPixelForValue(e[t]);},_getFirstTickValue:function _getFirstTickValue(t){var e=Math.floor(W(t));return Math.floor(t/Math.pow(10,e))*Math.pow(10,e);},_configure:function _configure(){var t=this,e=t.min,i=0;H.prototype._configure.call(t),0===e&&(e=t._getFirstTickValue(t.minNotZero),i=me(t.options.ticks.fontSize,I.global.defaultFontSize)/t._length),t._startValue=W(e),t._valueOffset=i,t._valueRange=(W(t.max)-W(e))/(1-i);},getPixelForValue:function getPixelForValue(t){var e=0;return(t=+this.getRightValue(t))>this.min&&0<t&&(e=(W(t)-this._startValue)/this._valueRange+this._valueOffset),this.getPixelForDecimal(e);},getValueForPixel:function getValueForPixel(t){t=this.getDecimalForPixel(t);return 0===t&&0===this.min?0:Math.pow(10,this._startValue+(t-this._valueOffset)*this._valueRange);}}),ge=($._defaults=S,B.valueOrDefault),ve=B.valueAtIndexOrDefault,be=B.options.resolve,Mt={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:a.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function callback(t){return t;}}};function Hn(t){var e=t.ticks;return e.display&&t.display?ge(e.fontSize,I.global.defaultFontSize)+2*e.backdropPaddingY:0;}function jn(t,e,i,n,s){return t===n||t===s?{start:e-i/2,end:e+i/2}:t<n||s<t?{start:e-i,end:e}:{start:e,end:e+i};}function Gn(t){return B.isNumber(t)?t:0;}var Ot=pe.extend({setDimensions:function setDimensions(){var t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=Hn(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2;},determineDataLimits:function determineDataLimits(){var n=this,s=n.chart,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;B.each(s.data.datasets,function(t,e){var i;s.isDatasetVisible(e)&&(i=s.getDatasetMeta(e),B.each(t.data,function(t,e){t=+n.getRightValue(t);isNaN(t)||i.data[e].hidden||(o=Math.min(t,o),a=Math.max(t,a));}));}),n.min=o===Number.POSITIVE_INFINITY?0:o,n.max=a===Number.NEGATIVE_INFINITY?0:a,n.handleTickRangeOptions();},_computeTickLimit:function _computeTickLimit(){return Math.ceil(this.drawingArea/Hn(this.options));},convertTicksToLabels:function convertTicksToLabels(){var e=this;pe.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(function(){var t=B.callback(e.options.pointLabels.callback,arguments,e);return t||0===t?t:"";});},getLabelForIndex:function getLabelForIndex(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t]);},fit:function fit(){var t=this.options;if(t.display&&t.pointLabels.display){var e,i=this,n=B.options._parseFont(i.options.pointLabels),s={l:0,r:i.width,t:0,b:i.height-i.paddingTop},o={};i.ctx.font=n.string,i._pointLabelSizes=[];for(var a,r=i.chart.data.labels.length,l=0;l<r;l++){e=i.getPointPosition(l,i.drawingArea+5),a=i.ctx,c=n.lineHeight,h=i.pointLabels[l],a=B.isArray(h)?{w:B.longestText(a,a.font,h),h:h.length*c}:{w:a.measureText(h).width,h:c},i._pointLabelSizes[l]=a;var h=i.getIndexAngle(l),c=B.toDegrees(h)%360,u=jn(c,e.x,a.w,0,180),c=jn(c,e.y,a.h,90,270);u.start<s.l&&(s.l=u.start,o.l=h),u.end>s.r&&(s.r=u.end,o.r=h),c.start<s.t&&(s.t=c.start,o.t=h),c.end>s.b&&(s.b=c.end,o.b=h);}i.setReductions(i.drawingArea,s,o);}else this.setCenterPoint(0,0,0,0);},setReductions:function setReductions(t,e,i){var n=e.l/Math.sin(i.l),s=Math.max(e.r-this.width,0)/Math.sin(i.r),o=-e.t/Math.cos(i.t),e=-Math.max(e.b-(this.height-this.paddingTop),0)/Math.cos(i.b),n=Gn(n),s=Gn(s),o=Gn(o),e=Gn(e);this.drawingArea=Math.min(Math.floor(t-(n+s)/2),Math.floor(t-(o+e)/2)),this.setCenterPoint(n,s,o,e);},setCenterPoint:function setCenterPoint(t,e,i,n){var s=this,e=s.width-e-s.drawingArea,t=t+s.drawingArea,i=i+s.drawingArea,n=s.height-s.paddingTop-n-s.drawingArea;s.xCenter=Math.floor((t+e)/2+s.left),s.yCenter=Math.floor((i+n)/2+s.top+s.paddingTop);},getIndexAngle:function getIndexAngle(t){var e=this.chart,t=(t*(360/e.data.labels.length)+((e.options||{}).startAngle||0))%360;return(t<0?360+t:t)*Math.PI*2/360;},getDistanceFromCenterForValue:function getDistanceFromCenterForValue(t){if(B.isNullOrUndef(t))return NaN;var e=this.drawingArea/(this.max-this.min);return this.options.ticks.reverse?(this.max-t)*e:(t-this.min)*e;},getPointPosition:function getPointPosition(t,e){t=this.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(t)*e+this.xCenter,y:Math.sin(t)*e+this.yCenter};},getPointPositionForValue:function getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e));},getBasePosition:function getBasePosition(t){var e=this.min,i=this.max;return this.getPointPositionForValue(t||0,this.beginAtZero?0:e<0&&i<0?i:0<e&&0<i?e:0);},_drawGrid:function _drawGrid(){var t,u,e,d=this,i=d.ctx,n=d.options,p=n.gridLines,s=n.angleLines,o=ge(s.lineWidth,p.lineWidth),a=ge(s.color,p.color);if(n.pointLabels.display){var r=d,l=r.ctx,h=r.options,c=h.pointLabels,f=Hn(h),m=r.getDistanceFromCenterForValue(h.ticks.reverse?r.min:r.max),g=B.options._parseFont(c);l.save(),l.font=g.string,l.textBaseline="middle";for(var v,b,y=r.chart.data.labels.length-1;0<=y;y--){var C,w,x=r.getPointPosition(y,m+(0===y?f/2:0)+5),_=ve(c.fontColor,y,I.global.defaultFontColor),_=(l.fillStyle=_,r.getIndexAngle(y)),_=B.toDegrees(_),$=(l.textAlign=0===(b=_)||180===b?"center":b<180?"left":"right",b=_,_=r._pointLabelSizes[y],v=x,90===b||270===b?v.y-=_.h/2:(270<b||b<90)&&(v.y-=_.h),E=w=C=T=k=S=$=void 0,l),S=r.pointLabels[y],k=x,T=g.lineHeight,E=k.y+T/2;if(B.isArray(S))for(C=0,w=S.length;C<w;++C){$.fillText(S[C],k.x,E),E+=T;}else $.fillText(S,k.x,E);}l.restore();}if(p.display&&B.each(d.ticks,function(t,e){if(0!==e){u=d.getDistanceFromCenterForValue(d.ticksAsNumbers[e]);var i,n=d,s=p,o=u,a=n.ctx,r=s.circular,l=n.chart.data.labels.length,h=ve(s.color,e-1),e=ve(s.lineWidth,e-1);if((r||l)&&h&&e){if(a.save(),a.strokeStyle=h,a.lineWidth=e,a.setLineDash&&(a.setLineDash(s.borderDash||[]),a.lineDashOffset=s.borderDashOffset||0),a.beginPath(),r)a.arc(n.xCenter,n.yCenter,o,0,2*Math.PI);else{i=n.getPointPosition(0,o),a.moveTo(i.x,i.y);for(var c=1;c<l;c++){i=n.getPointPosition(c,o),a.lineTo(i.x,i.y);}}a.closePath(),a.stroke(),a.restore();}}}),s.display&&o&&a){for(i.save(),i.lineWidth=o,i.strokeStyle=a,i.setLineDash&&(i.setLineDash(be([s.borderDash,p.borderDash,[]])),i.lineDashOffset=be([s.borderDashOffset,p.borderDashOffset,0])),t=d.chart.data.labels.length-1;0<=t;t--){u=d.getDistanceFromCenterForValue(n.ticks.reverse?d.min:d.max),e=d.getPointPosition(t,u),i.beginPath(),i.moveTo(d.xCenter,d.yCenter),i.lineTo(e.x,e.y),i.stroke();}i.restore();}},_drawLabels:function _drawLabels(){var i,n,t,s,o,a=this,r=a.ctx,l=a.options.ticks;l.display&&(t=a.getIndexAngle(0),s=B.options._parseFont(l),o=ge(l.fontColor,I.global.defaultFontColor),r.save(),r.font=s.string,r.translate(a.xCenter,a.yCenter),r.rotate(t),r.textAlign="center",r.textBaseline="middle",B.each(a.ticks,function(t,e){0===e&&!l.reverse||(i=a.getDistanceFromCenterForValue(a.ticksAsNumbers[e]),l.showLabelBackdrop&&(n=r.measureText(t).width,r.fillStyle=l.backdropColor,r.fillRect(-n/2-l.backdropPaddingX,-i-s.size/2-l.backdropPaddingY,n+2*l.backdropPaddingX,s.size+2*l.backdropPaddingY)),r.fillStyle=o,r.fillText(t,0,-i));}),r.restore());},_drawTitle:B.noop}),ye=(Ot._defaults=Mt,B._deprecated),xe=B.options.resolve,_e=B.valueOrDefault,ke=Number.MIN_SAFE_INTEGER||-9007199254740991,Te=Number.MAX_SAFE_INTEGER||9007199254740991,Ie={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},U=Object.keys(Ie);function ii(t,e){return t-e;}function ai(t){return B.valueOrDefault(t.time.min,t.ticks.min);}function ri(t){return B.valueOrDefault(t.time.max,t.ticks.max);}function oi(t,e,i,n){var s=function(t,e,i){for(var n,s,o,a=0,r=t.length-1;0<=a&&a<=r;){if(s=t[(n=a+r>>1)-1]||null,o=t[n],!s)return{lo:null,hi:o};if(o[e]<i)a=1+n;else{if(!(s[e]>i))return{lo:s,hi:o};r=n-1;}}return{lo:o,hi:null};}(t,e,i),o=s.lo?s.hi?s.lo:t[t.length-2]:t[0],s=s.lo?s.hi||t[t.length-1]:t[1],t=s[e]-o[e],i=t?(i-o[e])/t:0,e=(s[n]-o[n])*i;return o[n]+e;}function si(t,e){var i=t._adapter,t=t.options.time,n=t.parser,t=n||t.format,s=e;return"function"==typeof n&&(s=n(s)),null!==(s=B.isFinite(s)?s:"string"==typeof t?i.parse(s,t):i.parse(s))?+s:(n||"function"!=typeof t||(s=t(e),B.isFinite(s)||(s=i.parse(s))),s);}function li(t,e){if(B.isNullOrUndef(e))return null;var i=t.options.time,e=si(t,t.getRightValue(e));return null===e||i.round&&(e=+t._adapter.startOf(e,i.round)),e;}function ui(t,e,i,n){for(var s,o,a=U.length,r=U.indexOf(t);r<a-1;++r){if(o=(s=Ie[U[r]]).steps?s.steps:Te,s.common&&Math.ceil((i-e)/(o*s.size))<=n)return U[r];}return U[a-1];}function di(t,e,i){for(var n,s=[],o={},a=e.length,r=0;r<a;++r){o[n=e[r]]=r,s.push({value:n,major:!1});}if(0!==a&&i){for(var l,h=s,c=o,u=i,d=t._adapter,i=+d.startOf(h[0].value,u),p=h[h.length-1].value,f=i;f<=p;f=+d.add(f,1,u)){0<=(l=c[f])&&(h[l].major=!0);}return h;}return s;}var It=H.extend({initialize:function initialize(){this.mergeTicksOptions(),H.prototype.initialize.call(this);},update:function update(){var t=this.options,e=t.time||(t.time={}),t=this._adapter=new Jt._date(t.adapters.date);return ye("time scale",e.format,"time.format","time.parser"),ye("time scale",e.min,"time.min","ticks.min"),ye("time scale",e.max,"time.max","ticks.max"),B.mergeIf(e.displayFormats,t.formats()),H.prototype.update.apply(this,arguments);},getRightValue:function getRightValue(t){return t&&void 0!==t.t&&(t=t.t),H.prototype.getRightValue.call(this,t);},determineDataLimits:function determineDataLimits(){for(var t,e,i,n,s,o=this,a=o.chart,r=o._adapter,l=o.options,h=l.time.unit||"day",c=Te,u=ke,d=[],p=[],f=[],m=o._getLabels(),g=0,v=m.length;g<v;++g){f.push(li(o,m[g]));}for(g=0,v=(a.data.datasets||[]).length;g<v;++g){if(a.isDatasetVisible(g)){if(i=a.data.datasets[g].data,B.isObject(i[0]))for(p[g]=[],t=0,e=i.length;t<e;++t){n=li(o,i[t]),d.push(n),p[g][t]=n;}else p[g]=f.slice(0),s||(d=d.concat(f),s=!0);}else p[g]=[];}f.length&&(c=Math.min(c,f[0]),u=Math.max(u,f[f.length-1])),d.length&&(d=(1<v?function(t){for(var e,i={},n=[],s=0,o=t.length;s<o;++s){i[e=t[s]]||(i[e]=!0,n.push(e));}return n;}(d):d).sort(ii),c=Math.min(c,d[0]),u=Math.max(u,d[d.length-1])),c=li(o,ai(l))||c,u=li(o,ri(l))||u,c=c===Te?+r.startOf(Date.now(),h):c,u=u===ke?+r.endOf(Date.now(),h)+1:u,o.min=Math.min(c,u),o.max=Math.max(c+1,u),o._table=[],o._timestamps={data:d,datasets:p,labels:f};},buildTicks:function buildTicks(){var t,e,i,n,s,c=this,o=c.min,a=c.max,r=c.options,l=r.ticks,h=r.time,u=c._timestamps,d=[],p=c.getLabelCapacity(o),f=l.source,m=r.distribution,u="data"===f||"auto"===f&&"series"===m?u.data:"labels"===f?u.labels:function(t,e){var i,n=c._adapter,s=c.options,o=s.time,a=o.unit||ui(o.minUnit,t,e,p),r=xe([o.stepSize,o.unitStepSize,1]),o="week"===a&&o.isoWeekday,l=t,h=[];if(o&&(l=+n.startOf(l,"isoWeek",o)),l=+n.startOf(l,o?"day":a),n.diff(e,t,a)>1e5*r)throw t+" and "+e+" are too far apart with stepSize of "+r+" "+a;for(i=l;i<e;i=+n.add(i,r,a)){h.push(i);}return i!==e&&"ticks"!==s.bounds||h.push(i),h;}(o,a);for("ticks"===r.bounds&&u.length&&(o=u[0],a=u[u.length-1]),o=li(c,ai(r))||o,a=li(c,ri(r))||a,t=0,e=u.length;t<e;++t){(i=u[t])>=o&&i<=a&&d.push(i);}return c.min=o,c.max=a,c._unit=h.unit||(l.autoSkip?ui(h.minUnit,c.min,c.max,p):function(t,e,i,n,s){for(var o,a=U.length-1;a>=U.indexOf(i);a--){if(o=U[a],Ie[o].common&&t._adapter.diff(s,n,o)>=e-1)return o;}return U[i?U.indexOf(i):0];}(c,d.length,h.minUnit,c.min,c.max)),c._majorUnit=l.major.enabled&&"year"!==c._unit?function(t){for(var e=U.indexOf(t)+1,i=U.length;e<i;++e){if(Ie[U[e]].common)return U[e];}}(c._unit):void 0,c._table=function(t,e,i){if("linear"===m||!t.length)return[{time:e,pos:0},{time:i,pos:1}];for(var n,s,o,a=[],r=[e],l=0,h=t.length;l<h;++l){(s=t[l])>e&&s<i&&r.push(s);}for(r.push(i),l=0,h=r.length;l<h;++l){o=r[l+1],n=r[l-1],s=r[l],void 0!==n&&void 0!==o&&Math.round((o+n)/2)===s||a.push({time:s,pos:l/(h-1)});}return a;}(c._timestamps.data,o,a),c._offsets=(f=c._table,h=d,s=n=0,r.offset&&h.length&&(r=oi(f,"time",h[0],"pos"),n=1===h.length?1-r:(oi(f,"time",h[1],"pos")-r)/2,r=oi(f,"time",h[h.length-1],"pos"),s=1===h.length?r:(r-oi(f,"time",h[h.length-2],"pos"))/2),{start:n,end:s,factor:1/(n+1+s)}),l.reverse&&d.reverse(),di(c,d,c._majorUnit);},getLabelForIndex:function getLabelForIndex(t,e){var i=this._adapter,n=this.chart.data,s=this.options.time,o=n.labels&&t<n.labels.length?n.labels[t]:"",n=n.datasets[e].data[t];return B.isObject(n)&&(o=this.getRightValue(n)),s.tooltipFormat?i.format(si(this,o),s.tooltipFormat):"string"==typeof o?o:i.format(si(this,o),s.displayFormats.datetime);},tickFormatFunction:function tickFormatFunction(t,e,i,n){var s=this._adapter,o=this.options,a=o.time.displayFormats,r=a[this._unit],l=this._majorUnit,a=a[l],h=i[e],o=o.ticks,l=l&&a&&h&&h.major,h=s.format(t,n||(l?a:r)),s=l?o.major:o.minor,t=xe([s.callback,s.userCallback,o.callback,o.userCallback]);return t?t(h,e,i):h;},convertTicksToLabels:function convertTicksToLabels(t){for(var e=[],i=0,n=t.length;i<n;++i){e.push(this.tickFormatFunction(t[i].value,i,t));}return e;},getPixelForOffset:function getPixelForOffset(t){var e=this._offsets,t=oi(this._table,"time",t,"pos");return this.getPixelForDecimal((e.start+t)*e.factor);},getPixelForValue:function getPixelForValue(t,e,i){var n=null;if(null!==(n=null===(n=void 0!==e&&void 0!==i?this._timestamps.datasets[i][e]:n)?li(this,t):n))return this.getPixelForOffset(n);},getPixelForTick:function getPixelForTick(t){var e=this.getTicks();return 0<=t&&t<e.length?this.getPixelForOffset(e[t].value):null;},getValueForPixel:function getValueForPixel(t){var e=this._offsets,t=this.getDecimalForPixel(t)/e.factor-e.end,e=oi(this._table,"pos",t,"time");return this._adapter._create(e);},_getLabelSize:function _getLabelSize(t){var e=this.options.ticks,t=this.ctx.measureText(t).width,i=B.toRadians(this.isHorizontal()?e.maxRotation:e.minRotation),n=Math.cos(i),i=Math.sin(i),e=_e(e.fontSize,I.global.defaultFontSize);return{w:t*n+e*i,h:t*i+e*n};},getLabelWidth:function getLabelWidth(t){return this._getLabelSize(t).w;},getLabelCapacity:function getLabelCapacity(t){var e=this.options.time,i=e.displayFormats,e=i[e.unit]||i.millisecond,i=this.tickFormatFunction(t,0,di(this,[t],this._majorUnit),e),t=this._getLabelSize(i),e=Math.floor(this.isHorizontal()?this.width/t.w:this.height/t.h);return this.options.offset&&e--,0<e?e:1;}}),S=(It._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},{category:L,linear:T,logarithmic:$,radialLinear:Ot,time:It}),Me={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"},Oe=(Jt._date.override("function"==typeof o?{_id:"moment",formats:function formats(){return Me;},parse:function parse(t,e){return"string"==typeof t&&"string"==typeof e?t=o(t,e):t instanceof o||(t=o(t)),t.isValid()?t.valueOf():null;},format:function format(t,e){return o(t).format(e);},add:function add(t,e,i){return o(t).add(e,i).valueOf();},diff:function diff(t,e,i){return o(t).diff(o(e),i);},startOf:function startOf(t,e,i){return t=o(t),("isoWeek"===e?t.isoWeekday(i):t.startOf(e)).valueOf();},endOf:function endOf(t,e){return o(t).endOf(e).valueOf();},_create:function _create(t){return o(t);}}:{}),I._set("global",{plugins:{filler:{propagate:!0}}}),{dataset:function dataset(t){var e=t.fill,t=t.chart,i=t.getDatasetMeta(e),n=i&&t.isDatasetVisible(e)&&i.dataset._children||[],s=n.length||0;return s?function(t,e){return e<s&&n[e]._view||null;}:null;},boundary:function boundary(t){var i=t.boundary,e=i?i.x:null,n=i?i.y:null;return B.isArray(i)?function(t,e){return i[e];}:function(t){return{x:null===e?t.x:e,y:null===n?t.y:n};};}});function yi(t){return t&&!t.skip;}function _i(t,e,i,n,s){var o,a,r,l;if(n&&s){for(t.moveTo(e[0].x,e[0].y),o=1;o<n;++o){B.canvas.lineTo(t,e[o-1],e[o]);}if(void 0===i[0].angle)for(t.lineTo(i[s-1].x,i[s-1].y),o=s-1;0<o;--o){B.canvas.lineTo(t,i[o],i[o-1],!0);}else for(a=i[0].cx,r=i[0].cy,l=Math.sqrt(Math.pow(i[0].x-a,2)+Math.pow(i[0].y-r,2)),o=s-1;0<o;--o){t.arc(a,r,l,i[o].angle,i[o-1].angle,!0);}}}var Mt={id:"filler",afterDatasetsUpdate:function afterDatasetsUpdate(t,e){for(var i,n,s,o,a,r,l=(t.data.datasets||[]).length,h=e.propagate,c=[],u=0;u<l;++u){s=null,(n=(i=t.getDatasetMeta(u)).dataset)&&n._model&&n instanceof P.Line&&(s={visible:t.isDatasetVisible(u),fill:function(t,e,i){var n=(t=t._model||{}).fill;if(!1===(n=void 0===n?!!t.backgroundColor:n)||null===n)return!1;if(!0===n)return"origin";if(t=parseFloat(n,10),isFinite(t)&&Math.floor(t)===t)return!((t="-"!==n[0]&&"+"!==n[0]?t:e+t)===e||t<0||i<=t)&&t;switch(n){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return n;default:return!1;}}(n,u,l),chart:t,el:n}),i.$filler=s,c.push(s);}for(u=0;u<l;++u){(s=c[u])&&(s.fill=function(t,e,i){var n,s=t[e].fill,o=[e];if(!i)return s;for(;!1!==s&&-1===o.indexOf(s);){if(!isFinite(s))return s;if(!(n=t[s]))return!1;if(n.visible)return s;o.push(s),s=n.fill;}return!1;}(c,u,h),s.boundary=function(c){return((c.el._scale||{}).getPointPositionForValue?function(){var t,e,i,n,s,o=c.el._scale,a=o.options,r=o.chart.data.labels.length,l=c.fill,h=[];if(!r)return null;for(t=a.ticks.reverse?o.max:o.min,e=a.ticks.reverse?o.min:o.max,i=o.getPointPositionForValue(0,t),n=0;n<r;++n){s="start"===l||"end"===l?o.getPointPositionForValue(n,"start"===l?t:e):o.getBasePosition(n),a.gridLines.circular&&(s.cx=i.x,s.cy=i.y,s.angle=o.getIndexAngle(n)-Math.PI/2),h.push(s);}return h;}:function(){var t=c.el._model||{},e=c.el._scale||{},i=c.fill,n=null;if(isFinite(i))return null;if("start"===i?n=void 0===t.scaleBottom?e.bottom:t.scaleBottom:"end"===i?n=void 0===t.scaleTop?e.top:t.scaleTop:void 0!==t.scaleZero?n=t.scaleZero:e.getBasePixel&&(n=e.getBasePixel()),null!=n){if(void 0!==n.x&&void 0!==n.y)return n;if(B.isFinite(n))return{x:(i=e.isHorizontal())?n:null,y:i?null:n};}return null;})();}(s),s.mapper=(r=a=void 0,a=(o=s).fill,!(r="dataset")===a?null:(isFinite(a)||(r="boundary"),Oe[r](o))));}},beforeDatasetsDraw:function beforeDatasetsDraw(t){for(var e,i,n,s,o,a=t._getSortedVisibleDatasetMetas(),r=t.ctx,l=a.length-1;0<=l;--l){if((s=a[l].$filler)&&s.visible&&(i=(e=s.el)._view,n=e._children||[],s=s.mapper,o=i.backgroundColor||I.global.defaultColor,s&&o&&n.length)){B.canvas.clipArea(r,t.chartArea),T=k=S=$=_=x=w=C=y=b=v=b=g=m=f=p=d=u=c=h=void 0;var h=r,c=n,u=s,d=i,p=o,f=e._loop,m,g,v,b,y,C,w,x=c.length,_=d.spanGaps,$=[],S=[],k=0,T=0;for(h.beginPath(),m=0,g=x;m<g;++m){b=u(v=c[b=m%x]._view,b,d),y=yi(v),C=yi(b),f&&void 0===w&&y&&(g=x+(w=m+1)),y&&C?(k=$.push(v),T=S.push(b)):k&&T&&(_?(y&&$.push(v),C&&S.push(b)):(_i(h,$,S,k,T),k=T=0,$=[],S=[]));}_i(h,$,S,k,T),h.closePath(),h.fillStyle=p,h.fill(),B.canvas.unclipArea(r);}}}},Ne=B.rtl.getRtlAdapter,L=B.noop,q=B.valueOrDefault;function Pi(t,e){return t.usePointStyle&&t.boxWidth>e?e:t.boxWidth;}I._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function onClick(t,e){var e=e.datasetIndex,i=this.chart,n=i.getDatasetMeta(e);n.hidden=null===n.hidden?!i.data.datasets[e].hidden:null,i.update();},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function generateLabels(i){var n=i.data.datasets,t=i.options.legend||{},s=t.labels&&t.labels.usePointStyle;return i._getSortedDatasetMetas().map(function(t){var e=t.controller.getStyle(s?0:void 0);return{text:n[t.index].label,fillStyle:e.backgroundColor,hidden:!i.isDatasetVisible(t.index),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,pointStyle:e.pointStyle,rotation:e.rotation,datasetIndex:t.index};},this);}}},legendCallback:function legendCallback(t){var e,i,n,s=document.createElement("ul"),o=t.data.datasets;for(s.setAttribute("class",t.id+"-legend"),e=0,i=o.length;e<i;e++){(n=s.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[e].backgroundColor,o[e].label&&n.appendChild(document.createTextNode(o[e].label));}return s.outerHTML;}});var Le=E.extend({initialize:function initialize(t){B.extend(this,t),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1;},beforeUpdate:L,update:function update(t,e,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize;},afterUpdate:L,beforeSetDimensions:L,setDimensions:function setDimensions(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0};},afterSetDimensions:L,beforeBuildLabels:L,buildLabels:function buildLabels(){var e=this,i=e.options.labels||{},t=B.callback(i.generateLabels,[e.chart],e)||[];i.filter&&(t=t.filter(function(t){return i.filter(t,e.chart.data);})),e.options.reverse&&t.reverse(),e.legendItems=t;},afterBuildLabels:L,beforeFit:L,fit:function fit(){var i,n,s,o,a,r,l,h,t=this,e=t.options,c=e.labels,e=e.display,u=t.ctx,d=B.options._parseFont(c),p=d.size,f=t.legendHitBoxes=[],m=t.minSize,g=t.isHorizontal();g?(m.width=t.maxWidth,m.height=e?10:0):(m.width=e?10:0,m.height=t.maxHeight),e?(u.font=d.string,g?(i=t.lineWidths=[0],n=0,u.textAlign="left",u.textBaseline="middle",B.each(t.legendItems,function(t,e){t=Pi(c,p)+p/2+u.measureText(t.text).width;(0===e||i[i.length-1]+t+2*c.padding>m.width)&&(n+=p+c.padding,i[i.length-(0<e?0:1)]=0),f[e]={left:0,top:0,width:t,height:p},i[i.length-1]+=t+c.padding;}),m.height+=n):(s=c.padding,o=t.columnWidths=[],a=t.columnHeights=[],r=c.padding,h=l=0,B.each(t.legendItems,function(t,e){t=Pi(c,p)+p/2+u.measureText(t.text).width;0<e&&h+p+2*s>m.height&&(r+=l+c.padding,o.push(l),a.push(h),h=l=0),l=Math.max(l,t),h+=p+s,f[e]={left:0,top:0,width:t,height:p};}),r+=l,o.push(l),a.push(h),m.width+=r),t.width=m.width,t.height=m.height):t.width=m.width=t.height=m.height=0;},afterFit:L,isHorizontal:function isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position;},draw:function draw(){var d,p,t,f,m,g,v,b,y,C,w=this,i=w.options,x=i.labels,e=I.global,_=e.defaultColor,$=e.elements.line,S=w.height,k=w.columnHeights,T=w.width,E=w.lineWidths;i.display&&(d=Ne(i.rtl,w.left,w.minSize.width),p=w.ctx,e=q(x.fontColor,e.defaultFontColor),t=B.options._parseFont(x),f=t.size,p.textAlign=d.textAlign("left"),p.textBaseline="middle",p.lineWidth=.5,p.strokeStyle=e,p.fillStyle=e,p.font=t.string,m=Pi(x,f),g=w.legendHitBoxes,v=function v(t,e){switch(i.align){case"start":return x.padding;case"end":return t-e;default:return(t-e+x.padding)/2;}},b=w.isHorizontal(),y=b?{x:w.left+v(T,E[0]),y:w.top+x.padding,line:0}:{x:w.left+x.padding,y:w.top+v(S,k[0]),line:0},B.rtl.overrideTextDirection(w.ctx,i.textDirection),C=f+x.padding,B.each(w.legendItems,function(t,e){var i,n,s,o,a,r,l=p.measureText(t.text).width,h=m+f/2+l,c=y.x,u=y.y,c=(d.setWidth(w.minSize.width),b?0<e&&c+h+x.padding>w.left+w.minSize.width&&(u=y.y+=C,y.line++,c=y.x=w.left+v(T,E[y.line])):0<e&&u+C>w.top+w.minSize.height&&(c=y.x=c+w.columnWidths[y.line]+x.padding,y.line++,u=y.y=w.top+v(S,k[y.line])),d.x(c));i=c,n=u,s=t,isNaN(m)||m<=0||(p.save(),o=q(s.lineWidth,$.borderWidth),p.fillStyle=q(s.fillStyle,_),p.lineCap=q(s.lineCap,$.borderCapStyle),p.lineDashOffset=q(s.lineDashOffset,$.borderDashOffset),p.lineJoin=q(s.lineJoin,$.borderJoinStyle),p.lineWidth=o,p.strokeStyle=q(s.strokeStyle,_),p.setLineDash&&p.setLineDash(q(s.lineDash,$.borderDash)),x&&x.usePointStyle?(a=m*Math.SQRT2/2,r=d.xPlus(i,m/2),B.canvas.drawPoint(p,s.pointStyle,a,r,n+f/2,s.rotation)):(p.fillRect(d.leftForLtr(i,m),n,m,f),0!==o&&p.strokeRect(d.leftForLtr(i,m),n,m,f)),p.restore()),g[e].left=d.leftForLtr(c,g[e].width),g[e].top=u,a=u,r=t,s=l,o=f/2,i=d.xPlus(c,m+o),a+=o,p.fillText(r.text,i,a),r.hidden&&(p.beginPath(),p.lineWidth=2,p.moveTo(i,a),p.lineTo(d.xPlus(i,s),a),p.stroke()),b?y.x+=h+x.padding:y.y+=C;}),B.rtl.restoreTextDirection(w.ctx,i.textDirection));},_getLegendItemAt:function _getLegendItemAt(t,e){var i,n,s;if(t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom)for(s=this.legendHitBoxes,i=0;i<s.length;++i){if(t>=(n=s[i]).left&&t<=n.left+n.width&&e>=n.top&&e<=n.top+n.height)return this.legendItems[i];}return null;},handleEvent:function handleEvent(t){var e,i=this.options,n="mouseup"===t.type?"click":t.type;if("mousemove"===n){if(!i.onHover&&!i.onLeave)return;}else{if("click"!==n)return;if(!i.onClick)return;}e=this._getLegendItemAt(t.x,t.y),"click"===n?e&&i.onClick&&i.onClick.call(this,t.native,e):(i.onLeave&&e!==this._hoveredItem&&(this._hoveredItem&&i.onLeave.call(this,t.native,this._hoveredItem),this._hoveredItem=e),i.onHover&&e&&i.onHover.call(this,t.native,e));}});function Di(t,e){var i=new Le({ctx:t.ctx,options:e,chart:t});j.configure(t,i,e),j.addBox(t,i),t.legend=i;}var T={id:"legend",_element:Le,beforeInit:function beforeInit(t){var e=t.options.legend;e&&Di(t,e);},beforeUpdate:function beforeUpdate(t){var e=t.options.legend,i=t.legend;e?(B.mergeIf(e,I.global.legend),i?(j.configure(t,i,e),i.options=e):Di(t,e)):i&&(j.removeBox(t,i),delete t.legend);},afterEvent:function afterEvent(t,e){t=t.legend;t&&t.handleEvent(e);}},$=B.noop,Re=(I._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}}),E.extend({initialize:function initialize(t){B.extend(this,t),this.legendHitBoxes=[];},beforeUpdate:$,update:function update(t,e,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize;},afterUpdate:$,beforeSetDimensions:$,setDimensions:function setDimensions(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0};},afterSetDimensions:$,beforeBuildLabels:$,buildLabels:$,afterBuildLabels:$,beforeFit:$,fit:function fit(){var t=this.options,e=this.minSize={},i=this.isHorizontal();t.display?(t=(B.isArray(t.text)?t.text.length:1)*B.options._parseFont(t).lineHeight+2*t.padding,this.width=e.width=i?this.maxWidth:t,this.height=e.height=i?t:this.maxHeight):this.width=e.width=this.height=e.height=0;},afterFit:$,isHorizontal:function isHorizontal(){var t=this.options.position;return"top"===t||"bottom"===t;},draw:function draw(){var t=this.ctx,e=this.options;if(e.display){var i,n,s,o=B.options._parseFont(e),a=o.lineHeight,r=a/2+e.padding,l=0,h=this.top,c=this.left,u=this.bottom,d=this.right,p=(t.fillStyle=B.valueOrDefault(e.fontColor,I.global.defaultFontColor),t.font=o.string,this.isHorizontal()?(n=c+(d-c)/2,s=h+r,i=d-c):(n="left"===e.position?c+r:d-r,s=h+(u-h)/2,i=u-h,l=Math.PI*("left"===e.position?-.5:.5)),t.save(),t.translate(n,s),t.rotate(l),t.textAlign="center",t.textBaseline="middle",e.text);if(B.isArray(p))for(var f=0,m=0;m<p.length;++m){t.fillText(p[m],0,f,i),f+=a;}else t.fillText(p,0,0,i);t.restore();}}}));function Oi(t,e){var i=new Re({ctx:t.ctx,options:e,chart:t});j.configure(t,i,e),j.addBox(t,i),t.titleBlock=i;}var Fe,G={},Ot=T,It={id:"title",_element:Re,beforeInit:function beforeInit(t){var e=t.options.title;e&&Oi(t,e);},beforeUpdate:function beforeUpdate(t){var e=t.options.title,i=t.titleBlock;e?(B.mergeIf(e,I.global.title),i?(j.configure(t,i,e),i.options=e):Oi(t,e)):i&&(j.removeBox(t,i),delete t.titleBlock);}};for(Fe in G.filler=Mt,G.legend=Ot,G.title=It,(z.helpers=B).where=function(t,e){if(B.isArray(t)&&Array.prototype.filter)return t.filter(e);var i=[];return B.each(t,function(t){e(t)&&i.push(t);}),i;},B.findIndex=Array.prototype.findIndex?function(t,e,i){return t.findIndex(e,i);}:function(t,e,i){i=void 0===i?t:i;for(var n=0,s=t.length;n<s;++n){if(e.call(i,t[n],n,t))return n;}return-1;},B.findNextWhere=function(t,e,i){for(var n=(i=B.isNullOrUndef(i)?-1:i)+1;n<t.length;n++){var s=t[n];if(e(s))return s;}},B.findPreviousWhere=function(t,e,i){for(var n=(i=B.isNullOrUndef(i)?t.length:i)-1;0<=n;n--){var s=t[n];if(e(s))return s;}},B.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t);},B.almostEquals=function(t,e,i){return Math.abs(t-e)<i;},B.almostWhole=function(t,e){var i=Math.round(t);return i-e<=t&&t<=i+e;},B.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e);},Number.NEGATIVE_INFINITY);},B.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e);},Number.POSITIVE_INFINITY);},B.sign=Math.sign?function(t){return Math.sign(t);}:function(t){return 0==(t=+t)||isNaN(t)?t:0<t?1:-1;},B.toRadians=function(t){return t*(Math.PI/180);},B.toDegrees=function(t){return t*(180/Math.PI);},B._decimalPlaces=function(t){if(B.isFinite(t)){for(var e=1,i=0;Math.round(t*e)/e!==t;){e*=10,i++;}return i;}},B.getAngleFromPoint=function(t,e){var i=e.x-t.x,e=e.y-t.y,t=Math.sqrt(i*i+e*e),e=Math.atan2(e,i);return e<-.5*Math.PI&&(e+=2*Math.PI),{angle:e,distance:t};},B.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));},B.aliasPixel=function(t){return t%2==0?0:.5;},B._alignPixel=function(t,e,i){t=t.currentDevicePixelRatio,i/=2;return Math.round((e-i)*t)/t+i;},B.splineCurve=function(t,e,i,n){var t=t.skip?e:t,s=e,e=i.skip?e:i,i=Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2)),o=Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2)),a=i/(i+o),i=o/(i+o),o=n*(a=isNaN(a)?0:a),a=n*(i=isNaN(i)?0:i);return{previous:{x:s.x-o*(e.x-t.x),y:s.y-o*(e.y-t.y)},next:{x:s.x+a*(e.x-t.x),y:s.y+a*(e.y-t.y)}};},B.EPSILON=Number.EPSILON||1e-14,B.splineCurveMonotone=function(t){for(var e,i,n,s,o,a,r,l,h=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0};}),c=h.length,u=0;u<c;++u){(e=h[u]).model.skip||(l=0<u?h[u-1]:null,(i=u<c-1?h[u+1]:null)&&!i.model.skip&&(r=i.model.x-e.model.x,e.deltaK=0!=r?(i.model.y-e.model.y)/r:0),!l||l.model.skip?e.mK=e.deltaK:!i||i.model.skip?e.mK=l.deltaK:this.sign(l.deltaK)!==this.sign(e.deltaK)?e.mK=0:e.mK=(l.deltaK+e.deltaK)/2);}for(u=0;u<c-1;++u){e=h[u],i=h[u+1],e.model.skip||i.model.skip||(B.almostEquals(e.deltaK,0,this.EPSILON)?e.mK=i.mK=0:(n=e.mK/e.deltaK,s=i.mK/e.deltaK,(o=Math.pow(n,2)+Math.pow(s,2))<=9||(o=3/Math.sqrt(o),e.mK=n*o*e.deltaK,i.mK=s*o*e.deltaK)));}for(u=0;u<c;++u){(e=h[u]).model.skip||(l=0<u?h[u-1]:null,i=u<c-1?h[u+1]:null,l&&!l.model.skip&&(a=(e.model.x-l.model.x)/3,e.model.controlPointPreviousX=e.model.x-a,e.model.controlPointPreviousY=e.model.y-a*e.mK),i&&!i.model.skip&&(a=(i.model.x-e.model.x)/3,e.model.controlPointNextX=e.model.x+a,e.model.controlPointNextY=e.model.y+a*e.mK));}},B.nextItem=function(t,e,i){return i?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1];},B.previousItem=function(t,e,i){return i?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1];},B.niceNum=function(t,e){var i=Math.floor(B.log10(t)),t=t/Math.pow(10,i);return(e?t<1.5?1:t<3?2:t<7?5:10:t<=1?1:t<=2?2:t<=5?5:10)*Math.pow(10,i);},B.requestAnimFrame="undefined"==typeof window?function(t){t();}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60);},B.getRelativePosition=function(t,e){var i,n=t.originalEvent||t,t=t.target||t.srcElement,s=t.getBoundingClientRect(),o=n.touches,o=o&&0<o.length?(i=o[0].clientX,o[0].clientY):(i=n.clientX,n.clientY),n=parseFloat(B.getStyle(t,"padding-left")),a=parseFloat(B.getStyle(t,"padding-top")),r=parseFloat(B.getStyle(t,"padding-right")),l=parseFloat(B.getStyle(t,"padding-bottom")),r=s.right-s.left-n-r,l=s.bottom-s.top-a-l;return{x:i=Math.round((i-s.left-n)/r*t.width/e.currentDevicePixelRatio),y:o=Math.round((o-s.top-a)/l*t.height/e.currentDevicePixelRatio)};},B.getConstraintWidth=function(t){return n(t,"max-width","clientWidth");},B.getConstraintHeight=function(t){return n(t,"max-height","clientHeight");},B._calculatePadding=function(t,e,i){return-1<(e=B.getStyle(t,e)).indexOf("%")?i*parseInt(e,10)/100:parseInt(e,10);},B._getParentNode=function(t){t=t.parentNode;return t=t&&"[object ShadowRoot]"===t.toString()?t.host:t;},B.getMaximumWidth=function(t){var e=B._getParentNode(t);if(!e)return t.clientWidth;var i=e.clientWidth,e=i-B._calculatePadding(e,"padding-left",i)-B._calculatePadding(e,"padding-right",i),i=B.getConstraintWidth(t);return isNaN(i)?e:Math.min(e,i);},B.getMaximumHeight=function(t){var e=B._getParentNode(t);if(!e)return t.clientHeight;var i=e.clientHeight,e=i-B._calculatePadding(e,"padding-top",i)-B._calculatePadding(e,"padding-bottom",i),i=B.getConstraintHeight(t);return isNaN(i)?e:Math.min(e,i);},B.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e);},B.retinaScale=function(t,e){var i,n,s,e=t.currentDevicePixelRatio=e||"undefined"!=typeof window&&window.devicePixelRatio||1;1!==e&&(i=t.canvas,n=t.height,s=t.width,i.height=n*e,i.width=s*e,t.ctx.scale(e,e),i.style.height||i.style.width||(i.style.height=n+"px",i.style.width=s+"px"));},B.fontString=function(t,e,i){return e+" "+t+"px "+i;},B.longestText=function(t,e,i,n){var s=(n=n||{}).data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(s=n.data={},o=n.garbageCollect=[],n.font=e),t.font=e;for(var a,r,l,h,c=0,u=i.length,d=0;d<u;d++){if(null!=(l=i[d])&&!0!==B.isArray(l))c=B.measureText(t,s,o,c,l);else if(B.isArray(l))for(a=0,r=l.length;a<r;a++){null==(h=l[a])||B.isArray(h)||(c=B.measureText(t,s,o,c,h));}}var p=o.length/2;if(p>i.length){for(d=0;d<p;d++){delete s[o[d]];}o.splice(0,p);}return c;},B.measureText=function(t,e,i,n,s){var o=e[s];return o||(o=e[s]=t.measureText(s).width,i.push(s)),n=n<o?o:n;},B.numberOfLabelLines=function(t){var e=1;return B.each(t,function(t){B.isArray(t)&&t.length>e&&(e=t.length);}),e;},B.color=Z?function(t){return t instanceof CanvasGradient&&(t=I.global.defaultColor),Z(t);}:function(t){return console.error("Color.js not found!"),t;},B.getHoverColor=function(t){return t instanceof CanvasPattern||t instanceof CanvasGradient?t:B.color(t).saturate(.5).darken(.1).rgbString();},z._adapters=Jt,z.Animation=ct,z.animationService=ut,z.controllers=Nt,z.DatasetController=A,z.defaults=I,z.Element=E,z.elements=P,z.Interaction=Dt,z.layouts=j,z.platform=Wt,z.plugins=R,z.Scale=H,z.scaleService=Ut,z.Ticks=a,z.Tooltip=Yt,z.helpers.each(S,function(t,e){z.scaleService.registerScaleType(e,t,t._defaults);}),G){G.hasOwnProperty(Fe)&&z.plugins.register(G[Fe]);}function t(t,e,i){var n;return"string"==typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n;}function e(t){return null!=t&&"none"!==t;}function n(i,n,s){var o=document.defaultView,a=B._getParentNode(i),r=o.getComputedStyle(i)[n],o=o.getComputedStyle(a)[n],n=e(r),l=e(o),h=Number.POSITIVE_INFINITY;return n||l?Math.min(n?t(r,i,s):h,l?t(o,a,s):h):"none";}z.platform.initialize();L=z;return"undefined"!=typeof window&&(window.Chart=z),(z.Chart=z).Legend=G.legend._element,z.Title=G.title._element,z.pluginService=z.plugins,z.PluginBase=z.Element.extend({}),z.canvasHelpers=z.helpers.canvas,z.layoutService=z.layouts,z.LinearScaleBase=pe,z.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(i){z[i]=function(t,e){return new z(t,z.helpers.merge(e||{},{type:i.charAt(0).toLowerCase()+i.slice(1)}));};}),L;}),!function(t,e){"function"==typeof define&&define.amd?define(["exports"],e):"undefined"!=typeof exports?e(exports):(e(e={}),t.bodyScrollLock=e);}(this,function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function SDa(e){return o.some(function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e));});}function TDa(t){return t=t||window.event,!!SDa(t.target)||1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1);}function UDa(){void 0!==c&&(document.body.style.paddingRight=c,c=void 0),void 0!==l&&(document.body.style.overflow=l,l=void 0);}function VDa(){var t,e;void 0!==h&&(t=-parseInt(document.body.style.top,10),e=-parseInt(document.body.style.left,10),document.body.style.position=h.position,document.body.style.top=h.top,document.body.style.left=h.left,window.scrollTo(e,t),h=void 0);}var e,i=!1,s=("undefined"!=typeof window&&(window.addEventListener("testPassive",null,e={get passive(){i=!0;}}),window.removeEventListener("testPassive",null,e)),"undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&1<window.navigator.maxTouchPoints)),o=[],a=!1,r=-1,l=void 0,h=void 0,c=void 0;t.disableBodyScroll=function(n,t){var e;n?o.some(function(t){return t.targetElement===n;})||(e={targetElement:n,options:t||{}},o=[].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++){i[e]=t[e];}return i;}return Array.from(t);}(o),[e]),s?window.requestAnimationFrame(function(){var t,e,i,n;void 0===h&&(h={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left},t=window,e=t.scrollY,i=t.scrollX,n=t.innerHeight,document.body.style.position="fixed",document.body.style.top=-e,document.body.style.left=-i,setTimeout(function(){return window.requestAnimationFrame(function(){var t=n-window.innerHeight;t&&n<=e&&(document.body.style.top=-(e+t));});},300));}):(void 0===c&&(e=!!t&&!0===t.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth,e&&0<t&&(e=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10),c=document.body.style.paddingRight,document.body.style.paddingRight=e+t+"px")),void 0===l&&(l=document.body.style.overflow,document.body.style.overflow="hidden")),s&&(n.ontouchstart=function(t){1===t.targetTouches.length&&(r=t.targetTouches[0].clientY);},n.ontouchmove=function(t){var e,i;1===t.targetTouches.length&&(e=n,i=(t=t).targetTouches[0].clientY-r,SDa(t.target)||(e&&0===e.scrollTop&&0<i||e&&e.scrollHeight-e.scrollTop<=e.clientHeight&&i<0?TDa(t):t.stopPropagation()));},a||(document.addEventListener("touchmove",TDa,i?{passive:!1}:void 0),a=!0))):console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");},t.clearAllBodyScrollLocks=function(){s&&(o.forEach(function(t){t.targetElement.ontouchstart=null,t.targetElement.ontouchmove=null;}),a&&(document.removeEventListener("touchmove",TDa,i?{passive:!1}:void 0),a=!1),r=-1),(s?VDa:UDa)(),o=[];},t.enableBodyScroll=function(e){e?(o=o.filter(function(t){return t.targetElement!==e;}),s&&(e.ontouchstart=null,e.ontouchmove=null,a&&0===o.length&&(document.removeEventListener("touchmove",TDa,i?{passive:!1}:void 0),a=!1)),(s?VDa:UDa)()):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");};}),!function(){this.ui=this.ui||{},ui.cssSupports=function(t){var e=(document.body||document.documentElement).style;if("string"==typeof e[t])return!0;var i=["Moz","webkit","Webkit","Khtml","O","ms"];t=t.charAt(0).toUpperCase()+t.substr(1);for(var n=0;n<i.length;n++){if("string"==typeof e[i[n]+t])return!0;}return!1;},ui.scrollbarTakesWidth=function(){return window.innerWidth>document.documentElement.clientWidth;},ui.scrollbarWidth=function(){return window.innerWidth-document.documentElement.clientWidth;};}.call(this),!function(){"use strict";this.ui=this.ui||{},this.ui=Exoskeleton.utils.extend({},this.ui,this.Exoskeleton),ui.data=ui.data||{},ui.version="0.40.4",ui.ComponentCollection=Exoskeleton.Collection.extend({name:"ui.ComponentCollection",toString:function toString(){return this.name;}}),ui.ComponentModel=Exoskeleton.Model.extend({name:"ui.ComponentModel",toString:function toString(){return this.name;}}),ui.ComponentView=Exoskeleton.View.extend({name:"ui.ComponentView",defaults:{},setup:{},constructor:function constructor(t){this.setup=Exoskeleton.utils.extend({},this.defaults,t),this.name=this.setup.name||this.name,Exoskeleton.View.apply(this,arguments);},toString:function toString(){return this.name;}}),ui.ComponentClass=function(t){this.initialize.apply(this,arguments);};ui.utils.extend(ui.ComponentClass.prototype,{name:"ui.ComponentClass",initialize:function initialize(){},toString:function toString(){return this.name;}}),ui.ComponentClass.extend=ui.extend,ui.formSubmitHandler=function(t){var e,i=t.isSubmitted,n=t.uiSubmitConditions;if(n&&"object"==(typeof n==="undefined"?"undefined":_typeof(n)))for(var s in n){n.hasOwnProperty(s)&&"progress"===n[s]&&(i=!0);}i||((e=$(t)).hasClass("ui-js-file-spinner")?e.find(".ui-upload-spinner").hasClass("in")||(e.find(".ui-js-file-upload-modal").click(),e.find(".ui-upload-spinner").addClass("in"),e.find(".ui-upload-spinner").css("display","block"),setTimeout(function(){ui.deleteSavedFields(),window.history.replaceState(null,null,window.location.href.split("?")[0]),t.submit(),t.isSubmitted=!0;},500)):(ui.deleteSavedFields(),window.history.replaceState(null,null,window.location.href.split("?")[0]),t.submit(),t.isSubmitted=!0));},ui.deleteSavedFields=function(){var t=window.deleteSavedFields;if(void 0!==t)for(var e=0;e<t.length;e++){window.sessionStorage.removeItem(t[e]);}},ui.consts=ui.consts||{},ui.consts.ON_TRANSITION_END=function(){var t,e=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i){if(void 0!==e.style[t])return i[t];}}();ui.bootstrapper={reinitialize:function reinitialize(t){var e,i,n=t.context;for(e in ui){(i=ui.hasOwnProperty(e)&&"function"==typeof ui[e]&&(void 0===ui[e].reinitializable||!0===ui[e].reinitializable)&&0===e.indexOf("bootstrapVendor"))&&n?ui[e](n):!i&&ui.hasOwnProperty(e)&&"function"==typeof ui[e]&&ui[e].reinitializable&&0===e.indexOf("bootstrap")&&n&&ui[e]({context:n})();}},defuse:function defuse(e){var t=e.context;$(t).find("[data-setup]").each(function(){var t=$(this);"function"==typeof e.customDefuse&&e.customDefuse.call(this,t),t.prop("Component")&&"function"==typeof t.prop("Component").undelegateEvents&&t.prop("Component").undelegateEvents(),t.prop("View")&&"function"==typeof t.prop("View").undelegateEvents&&t.prop("View").undelegateEvents(),t.prop("View")&&"function"==typeof t.prop("View").closeView&&t.prop("View").closeView();});}};var r=ui.getElementSetup=function(t){var e=t.el||this,i=$(e).data("setup");if(i&&"string"==typeof i){i=i.replace(/\\'/g,"'").replace(/'/g,'"');try{i=JSON.parse(i);}catch(t){console.error("ERROR >> getElementSetup","el",e),console.error("ERROR >> getElementSetup","dataSetup",i),console.error("ERROR >> getElementSetup","error :",t);}}return(i=Exoskeleton.utils.extend({},i,t||{})).el=e,i;};ui.ComponentFactory={createPlugin:function createPlugin(t){var n=this,s=t.pluginMethodName,o=t.View,a=t.selector,e="bootstrap",t=!1!==t.reinitialize;if($.fn["ui"+s])throw new Error("Plugin method ui"+s+" already exists.");if($.fn["ui"+s]=function(i){return this.each(function(){var t=r.call(this,i),e=$(this);n.View=new o(t),n.View.render(),e.prop("View",n.View);});},ui[e+s])throw new Error("Initializer method "+e+s+" already exists.");ui[e+s]=function(t,e,i){var n;return"object"==(typeof t==="undefined"?"undefined":_typeof(t))&&!t.jquery&&!t.style&&(t=(n=t).selector,e=n.context,i=n.options),t=t||a,i=i||{},function(){return $(t,e)["ui"+s](i).prop("View");};},ui[e+s].reinitializable=t;}};}.call(this),$(function(){var i=$("body"),n=$(".ui-mediaquery-js-provider");function provideMediaQuery(){var t=ui.Bootstrap&&ui.Bootstrap.activeView||"",e=window.getComputedStyle(n,":after");e?e=e.getPropertyValue("content").replace(/"|'/g,"")||"xs":$(window).trigger("retry"),i.attr("data-bootstrap-activemediaquery",e),t!==e&&(ui.Bootstrap=ui.Bootstrap||{},ui.Bootstrap.previousView=ui.Bootstrap.activeView,ui.Bootstrap.activeView=e,ui.trigger("bootstrap.activemediaquery.changed",e));}n&&0!==n.length||(i.append('<div class="ui-mediaquery-js-provider" aria-hidden="true"></div>'),n=$(".ui-mediaquery-js-provider")),n=n[0],provideMediaQuery(),$(window).on("load resize orientationchange retry",_.throttle(function(){return provideMediaQuery();},200,{leading:!0}));}),/**
 *  Ajax Autocomplete for jQuery, version 1.4.11
 *  (c) 2017 Tomas Kirda
 *
 *  Ajax Autocomplete for jQuery is freely distributable under the terms of an MIT-style license.
 *  For details, see the web site: https://github.com/devbridge/jQuery-Autocomplete
 */!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))&&"function"==typeof require?t(require("jquery")):t(jQuery);}(function(d){"use strict";var i={escapeRegExChars:function escapeRegExChars(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");},createNode:function createNode(t){var e=document.createElement("div");return e.className=t,e.style.position="absolute",e.style.display="none",e;}},n=27,s=9,o=13,a=38,r=39,l=40,t=d.noop;function Autocomplete(t,e){var i=this;i.element=t,i.el=d(t),i.suggestions=[],i.badQueries=[],i.selectedIndex=-1,i.currentValue=i.element.value,i.timeoutId=null,i.cachedResponse={},i.onChangeTimeout=null,i.onChange=null,i.isLocal=!1,i.suggestionsContainer=null,i.noSuggestionsContainer=null,i.options=d.extend(!0,{},Autocomplete.defaults,e),i.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},i.hint=null,i.hintValue="",i.selection=null,i.initialize(),i.setOptions(e);}Autocomplete.utils=i,(d.Autocomplete=Autocomplete).defaults={ajaxSettings:{},autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:function formatResult(t,e){if(!e)return t.value;e="("+i.escapeRegExChars(e)+")";return t.value.replace(new RegExp(e,"gi"),"<strong>$1</strong>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>");},formatGroup:function formatGroup(t,e){return'<div class="autocomplete-group">'+e+"</div>";},delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:t,onSearchComplete:t,onSearchError:t,preserveInput:!1,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function lookupFilter(t,e,i){return-1!==t.value.toLowerCase().indexOf(i);},paramName:"query",transformResult:function transformResult(t){return"string"==typeof t?d.parseJSON(t):t;},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1},Autocomplete.prototype={initialize:function initialize(){var t,e=this,i="."+e.classes.suggestion,n=e.classes.selected,s=e.options;e.element.setAttribute("autocomplete","off"),e.noSuggestionsContainer=d('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0),e.suggestionsContainer=Autocomplete.utils.createNode(s.containerClass),(t=d(e.suggestionsContainer)).appendTo(s.appendTo||"body"),"auto"!==s.width&&t.css("width",s.width),t.on("mouseover.autocomplete",i,function(){e.activate(d(this).data("index"));}),t.on("mouseout.autocomplete",function(){e.selectedIndex=-1,t.children("."+n).removeClass(n);}),t.on("click.autocomplete",i,function(){e.select(d(this).data("index"));}),t.on("click.autocomplete",function(){clearTimeout(e.blurTimeoutId);}),e.fixPositionCapture=function(){e.visible&&e.fixPosition();},d(window).on("resize.autocomplete",e.fixPositionCapture),e.el.on("keydown.autocomplete",function(t){e.onKeyPress(t);}),e.el.on("keyup.autocomplete",function(t){e.onKeyUp(t);}),e.el.on("blur.autocomplete",function(){e.onBlur();}),e.el.on("focus.autocomplete",function(){e.onFocus();}),e.el.on("change.autocomplete",function(t){e.onKeyUp(t);}),e.el.on("input.autocomplete",function(t){e.onKeyUp(t);});},onFocus:function onFocus(){this.disabled||(this.fixPosition(),this.el.val().length>=this.options.minChars&&this.onValueChange());},onBlur:function onBlur(){var t=this,e=t.options,i=t.el.val(),n=t.getQuery(i);t.blurTimeoutId=setTimeout(function(){t.hide(),t.selection&&t.currentValue!==n&&(e.onInvalidateSelection||d.noop).call(t.element);},200);},abortAjax:function abortAjax(){this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null);},setOptions:function setOptions(t){t=d.extend({},this.options,t);this.isLocal=Array.isArray(t.lookup),this.isLocal&&(t.lookup=this.verifySuggestionsFormat(t.lookup)),t.orientation=this.validateOrientation(t.orientation,"bottom"),d(this.suggestionsContainer).css({"max-height":t.maxHeight+"px",width:t.width+"px","z-index":t.zIndex}),this.options=t;},clearCache:function clearCache(){this.cachedResponse={},this.badQueries=[];},clear:function clear(){this.clearCache(),this.currentValue="",this.suggestions=[];},disable:function disable(){this.disabled=!0,clearTimeout(this.onChangeTimeout),this.abortAjax();},enable:function enable(){this.disabled=!1;},fixPosition:function fixPosition(){var t,e,i,n,s,o,a,r,l=d(this.suggestionsContainer),h=l.parent().get(0);h!==document.body&&!this.options.forceFixPosition||(o=this.options.orientation,t=l.outerHeight(),e=this.el.outerHeight(),i={top:(r=this.el.offset()).top,left:r.left},"auto"===o&&(a=d(window).height(),n=-(s=d(window).scrollTop())+r.top-t,s=s+a-(r.top+e+t),o=Math.max(n,s)===n?"top":"bottom"),i.top+="top"===o?-t:e,h!==document.body&&(a=l.css("opacity"),this.visible||l.css("opacity",0).show(),r=l.offsetParent().offset(),i.top-=r.top,i.top+=h.scrollTop,i.left-=r.left,this.visible||l.css("opacity",a).hide()),"auto"===this.options.width&&(i.width=this.el.outerWidth()+"px"),l.css(i));},isCursorAtEnd:function isCursorAtEnd(){var t=this.el.val().length,e=this.element.selectionStart;return"number"==typeof e?e===t:!document.selection||((e=document.selection.createRange()).moveStart("character",-t),t===e.text.length);},onKeyPress:function onKeyPress(t){var e=this;if(e.disabled||e.visible||t.which!==l||!e.currentValue){if(!e.disabled&&e.visible){switch(t.which){case n:e.el.val(e.currentValue),e.hide();break;case r:if(e.hint&&e.options.onHint&&e.isCursorAtEnd()){e.selectHint();break;}return;case s:if(e.hint&&e.options.onHint)return void e.selectHint();if(-1===e.selectedIndex)return void e.hide();if(e.select(e.selectedIndex),!1===e.options.tabDisabled)return;break;case o:if(-1===e.selectedIndex)return void e.hide();e.select(e.selectedIndex);break;case a:e.moveUp();break;case l:e.moveDown();break;default:return;}t.stopImmediatePropagation(),t.preventDefault();}}else e.suggest();},onKeyUp:function onKeyUp(t){var e=this;if(!e.disabled){switch(t.which){case a:case l:return;}clearTimeout(e.onChangeTimeout),e.currentValue!==e.el.val()&&(e.findBestHint(),0<e.options.deferRequestBy?e.onChangeTimeout=setTimeout(function(){e.onValueChange();},e.options.deferRequestBy):e.onValueChange());}},onValueChange:function onValueChange(){var t,e,i,n;this.ignoreValueChange?this.ignoreValueChange=!1:(e=(t=this).options,i=t.el.val(),n=t.getQuery(i),t.selection&&t.currentValue!==n&&(t.selection=null,(e.onInvalidateSelection||d.noop).call(t.element)),clearTimeout(t.onChangeTimeout),t.currentValue=i,t.selectedIndex=-1,e.triggerSelectOnValidInput&&t.isExactMatch(n)?t.select(0):n.length<e.minChars?t.hide():t.getSuggestions(n));},isExactMatch:function isExactMatch(t){var e=this.suggestions;return 1===e.length&&e[0].value.toLowerCase()===t.toLowerCase();},getQuery:function getQuery(t){var e=this.options.delimiter;return e?(e=t.split(e),d.trim(e[e.length-1])):t;},getSuggestionsLocal:function getSuggestionsLocal(e){var t=this.options,i=e.toLowerCase(),n=t.lookupFilter,s=parseInt(t.lookupLimit,10),t={suggestions:d.grep(t.lookup,function(t){return n(t,e,i);})};return s&&t.suggestions.length>s&&(t.suggestions=t.suggestions.slice(0,s)),t;},getSuggestions:function getSuggestions(n){var t,e,i,s=this,o=s.options,a=o.serviceUrl;o.params[o.paramName]=n,!1!==o.onSearchStart.call(s.element,o.params)&&(t=o.ignoreParams?null:o.params,d.isFunction(o.lookup)?o.lookup(n,function(t){s.suggestions=t.suggestions,s.suggest(),o.onSearchComplete.call(s.element,n,t.suggestions);}):(i=s.isLocal?s.getSuggestionsLocal(n):(d.isFunction(a)&&(a=a.call(s.element,n)),e=a+"?"+d.param(t||{}),s.cachedResponse[e]))&&Array.isArray(i.suggestions)?(s.suggestions=i.suggestions,s.suggest(),o.onSearchComplete.call(s.element,n,i.suggestions)):s.isBadQuery(n)?o.onSearchComplete.call(s.element,n,[]):(s.abortAjax(),i={url:a,data:t,type:o.type,dataType:o.dataType},d.extend(i,o.ajaxSettings),s.currentRequest=d.ajax(i).done(function(t){s.currentRequest=null,t=o.transformResult(t,n),s.processResponse(t,n,e),o.onSearchComplete.call(s.element,n,t.suggestions);}).fail(function(t,e,i){o.onSearchError.call(s.element,n,t,e,i);})));},isBadQuery:function isBadQuery(t){if(!this.options.preventBadQueries)return!1;for(var e=this.badQueries,i=e.length;i--;){if(0===t.indexOf(e[i]))return!0;}return!1;},hide:function hide(){var t=this,e=d(t.suggestionsContainer);d.isFunction(t.options.onHide)&&t.visible&&t.options.onHide.call(t.element,e),t.visible=!1,t.selectedIndex=-1,clearTimeout(t.onChangeTimeout),d(t.suggestionsContainer).hide(),t.signalHint(null);},suggest:function suggest(){var t,s,o,a,r,l,e,i,n,h,c,u;this.suggestions.length?(s=(t=this).options,o=s.groupBy,a=s.formatResult,r=t.getQuery(t.currentValue),l=t.classes.suggestion,e=t.classes.selected,i=d(t.suggestionsContainer),n=d(t.noSuggestionsContainer),h=s.beforeRender,c="",s.triggerSelectOnValidInput&&t.isExactMatch(r)?t.select(0):(d.each(t.suggestions,function(t,e){var i,n;o&&(c+=(n=(i=e).data[o],u===n?"":(u=n,s.formatGroup(i,u)))),c+='<div class="'+l+'" data-index="'+t+'">'+a(e,r,t)+"</div>";}),this.adjustContainerWidth(),n.detach(),i.html(c),d.isFunction(h)&&h.call(t.element,i,t.suggestions),t.fixPosition(),i.show(),s.autoSelectFirst&&(t.selectedIndex=0,i.scrollTop(0),i.children("."+l).first().addClass(e)),t.visible=!0,t.findBestHint())):this.options.showNoSuggestionNotice?this.noSuggestions():this.hide();},noSuggestions:function noSuggestions(){var t=this.options.beforeRender,e=d(this.suggestionsContainer),i=d(this.noSuggestionsContainer);this.adjustContainerWidth(),i.detach(),e.empty(),e.append(i),d.isFunction(t)&&t.call(this.element,e,this.suggestions),this.fixPosition(),e.show(),this.visible=!0;},adjustContainerWidth:function adjustContainerWidth(){var t,e=this.options,i=d(this.suggestionsContainer);"auto"===e.width?(t=this.el.outerWidth(),i.css("width",0<t?t:300)):"flex"===e.width&&i.css("width","");},findBestHint:function findBestHint(){var n=this.el.val().toLowerCase(),s=null;n&&(d.each(this.suggestions,function(t,e){var i=0===e.value.toLowerCase().indexOf(n);return i&&(s=e),!i;}),this.signalHint(s));},signalHint:function signalHint(t){var e="";t&&(e=this.currentValue+t.value.substr(this.currentValue.length)),this.hintValue!==e&&(this.hintValue=e,this.hint=t,(this.options.onHint||d.noop)(e));},verifySuggestionsFormat:function verifySuggestionsFormat(t){return t.length&&"string"==typeof t[0]?d.map(t,function(t){return{value:t,data:null};}):t;},validateOrientation:function validateOrientation(t,e){return t=d.trim(t||"").toLowerCase(),t=-1===d.inArray(t,["auto","bottom","top"])?e:t;},processResponse:function processResponse(t,e,i){var n=this.options;t.suggestions=this.verifySuggestionsFormat(t.suggestions),n.noCache||(this.cachedResponse[i]=t,n.preventBadQueries&&!t.suggestions.length&&this.badQueries.push(e)),e===this.getQuery(this.currentValue)&&(this.suggestions=t.suggestions,this.suggest());},activate:function activate(t){var e=this.classes.selected,i=d(this.suggestionsContainer),n=i.find("."+this.classes.suggestion);return i.find("."+e).removeClass(e),this.selectedIndex=t,-1!==this.selectedIndex&&n.length>this.selectedIndex?(i=n.get(this.selectedIndex),d(i).addClass(e),i):null;},selectHint:function selectHint(){var t=d.inArray(this.hint,this.suggestions);this.select(t);},select:function select(t){this.hide(),this.onSelect(t);},moveUp:function moveUp(){var t=this;if(-1!==t.selectedIndex)return 0===t.selectedIndex?(d(t.suggestionsContainer).children("."+t.classes.suggestion).first().removeClass(t.classes.selected),t.selectedIndex=-1,t.ignoreValueChange=!1,t.el.val(t.currentValue),void t.findBestHint()):void t.adjustScroll(t.selectedIndex-1);},moveDown:function moveDown(){this.selectedIndex!==this.suggestions.length-1&&this.adjustScroll(this.selectedIndex+1);},adjustScroll:function adjustScroll(t){var e,i,n,s=this,o=s.activate(t);o&&(e=d(o).outerHeight(),o=o.offsetTop,n=(i=d(s.suggestionsContainer).scrollTop())+s.options.maxHeight-e,o<i?d(s.suggestionsContainer).scrollTop(o):n<o&&d(s.suggestionsContainer).scrollTop(o-s.options.maxHeight+e),s.options.preserveInput||(s.ignoreValueChange=!0,s.el.val(s.getValue(s.suggestions[t].value))),s.signalHint(null));},onSelect:function onSelect(t){var e=this,i=e.options.onSelect,t=e.suggestions[t];e.currentValue=e.getValue(t.value),e.currentValue===e.el.val()||e.options.preserveInput||e.el.val(e.currentValue),e.signalHint(null),e.suggestions=[],e.selection=t,d.isFunction(i)&&i.call(e.element,t);},getValue:function getValue(t){var e,i=this.options.delimiter;return!i||1===(i=(e=this.currentValue).split(i)).length?t:e.substr(0,e.length-i[i.length-1].length)+t;},dispose:function dispose(){this.el.off(".autocomplete").removeData("autocomplete"),d(window).off("resize.autocomplete",this.fixPositionCapture),d(this.suggestionsContainer).remove();}},d.fn.devbridgeAutocomplete=function(i,n){var s="autocomplete";return arguments.length?this.each(function(){var t=d(this),e=t.data(s);"string"==typeof i?e&&"function"==typeof e[i]&&e[i](n):(e&&e.dispose&&e.dispose(),e=new Autocomplete(this,i),t.data(s,e));}):this.first().data(s);},d.fn.autocomplete||(d.fn.autocomplete=d.fn.devbridgeAutocomplete);}),!function(n,t){"use strict";var s;n?(t.logTracking="true"===localStorage.getItem("logTracking")||t.logTracking||!1,t.logTracking&&console.log("Tracking Lib initialized..."),s=[],ui.tracking={createOneTrackingHandler:function createOneTrackingHandler(t,e){return{eventName:t.eventName,reduceSelector:t.reduceSelector,callback:e};},createAllTrackingHandlers:function createAllTrackingHandlers(t,e){for(var i=0,n=t.length;i<n;i++){s.push(this.createOneTrackingHandler(t[i],e));}return s;},getTrackingHandlers:function getTrackingHandlers(){return s;},registerEvent:function registerEvent(e){"ready"===e.eventName?n(document).ready(function(t){t=t(e.reduceSelector);t&&t.length&&e.callback({type:e.eventName,currentTarget:t.get(0)});}):n(document).on(e.eventName,e.reduceSelector,e.callback);},applyTrackingListener:function applyTrackingListener(t,e){this.createAllTrackingHandlers(t,e);for(var i=this.getTrackingHandlers(),n=0,s=i.length;n<s;n++){this.registerEvent(i[n]);}},estimatePageQuadrant:function estimatePageQuadrant(t){var e,t=n(t),i=n(document).height(),t=t.offset().top,i=i/4;switch(!0){case 3*i<t:e=4;break;case 2*i<t:e=3;break;case i<t:e=2;break;case t<i:e=1;}return e;},findAncestorByTagName:function findAncestorByTagName(t,e){var t=n(t),e=e.join(", ");return t.is(e)||(t=t.parents(e))&&t.length?t.get(0):null;},extractHref:function extractHref(t){var t=n(t),e=null;return e=t.attr("href")?t.attr("href"):e;},stripHTMLTags:function stripHTMLTags(t){return t.replace(/<\/?[^>]+(>|$)/g," ").replace(/\s\s+/g," ");}}):console.log("No jQuery available for tracking");}(jQuery,window),!function(r,o){"use strict";o.dataLayer=o.dataLayer||[],ui.trackingStrategy={finalCallback:null,TYPES:{promoclick:"promotionClick",promoview:"promoView",addtocart:"addToCart"},TRACKING_SETUP_NAME:"data",TRACKING_ATTRIBUTES:{currentPage:"pageSelected",sortBy:"sortBy",filterSelected:"filterSelected",filterName:"filterName",pageQuadrant:"dimension136",sliderDirection:"sliderMovement",sliderType:"sliderType"},elTrackingOfTypeLimit:[],init:function init(t,e){var i,n,s=this.getTrackingDataSetup(e||t);switch(!0){case this.isSafetyTeaserTracking(t,s):i=this.trackElementInview(t,s);break;case this.isModalTracking(t,s):i=this.trackModal(t,s);break;case this.isPopoverTracking(t,s):i=this.trackPopover(t,s,e);break;case this.isFormStepSubmitTracking(t,s):i=this.trackFormStepSubmit(t,s);break;case this.isFormStepChangeTracking(t,s):i=this.trackFormStepChange(t,s);break;case this.isFormSubmitTracking(t,s):i=this.trackFormSubmit(t,s);break;case this.isSliderTracking(t,s):i=this.trackSliderMovement(t,s,e);break;case this.isAutoSliderTracking(t,s):i=this.trackAutoSliderMovement(t,s,e);break;case this.isAddToCartClickTracking(t,s):i=this.trackAddToCartElementClick(t,s,["BUTTON","A"]);break;case this.isInviewTracking(t,s):i=this.trackElementInview(t,s);break;case this.isPromotionClickTracking(t,s):i=this.trackPromotionElementClick(t,s,["BUTTON","A"]);break;case this.isPaginationTracking(t,s):i=this.trackPaginationClick(t,s);break;case this.isSortFilterTracking(t,s):i=this.trackSortFilterClick(t,s);break;case this.isFilterTracking(t,s):i=this.trackFilterClick(t,s);break;case this.isClickTracking(t,s):i=this.trackElementClick(t,s);break;default:o.logTracking&&console.log("do nothing",t,s);}i&&dataLayer&&dataLayer instanceof Array&&(dataLayer.push(i),o.logTracking&&(console.info("added dataLayer data:",JSON.stringify(i),"has callback:",!!i.eventCallback||!!this.finalCallback),console.info("Tracking Obj",i))),this.finalCallback&&(n=this.finalCallback,this.finalCallback=null,n());},isSafetyTeaserTracking:function isSafetyTeaserTracking(t,e){return!!("safety-teaser:open"===t.type&&e&&e.data&&e.data.promotions&&e.data.promotions[0]);},isModalTracking:function isModalTracking(t,e){return!("modal:show"!==t.type||!e||!e.data);},isPopoverTracking:function isPopoverTracking(t,e){return!("popover:show"!==t.type);},isFormStepChangeTracking:function isFormStepChangeTracking(t,e){return!("form:stepchange"!==t.type||!e);},isFormStepSubmitTracking:function isFormStepSubmitTracking(t,e){return!("submit"!==t.type||!t.currentTarget.querySelector(".ui-js-data-layer-step-change"));},isFormSubmitTracking:function isFormSubmitTracking(t,e){return!("submit"!==t.type||!e||!e.data||"formular"!==e.data.event);},isSliderTracking:function isSliderTracking(t,e){return!!("carousel:slid-manually"===t.type&&e&&e.data&&e.onclick);},isAutoSliderTracking:function isAutoSliderTracking(t,e){return!("carousel:slid-auto"!==t.type||!e||!e.data);},isInviewTrackingInMenu:function isInviewTrackingInMenu(t,e){return!!("scrollhandler:inview-once"===t.type&&e&&e.data&&e.onview);},isAddToCartClickTracking:function isAddToCartClickTracking(t,e){return!!(this.isClickTracking(t,e)&&e.data.add&&e.data.currencyCode);},isInviewTracking:function isInviewTracking(t,e){return!!("scrollhandler:inview-once"===t.type&&e&&e.data&&e.onview);},isPromotionClickTracking:function isPromotionClickTracking(t,e){return!!(this.isClickTracking(t,e)&&e.data.promotions&&e.data.promotions[0]);},isPaginationTracking:function isPaginationTracking(t,e){return!(!this.isClickTracking(t,e)||!e.data.event||"pagination"!==e.data.event);},isSortFilterTracking:function isSortFilterTracking(t,e){return!(!this.isClickTracking(t,e)||!e.data.event||"sortierung"!==e.data.event);},isFilterTracking:function isFilterTracking(t,e){return!(!this.isClickTracking(t,e)||!e.data.event||"filterField"!==e.data.event);},isClickTracking:function isClickTracking(t,e){return!!("click"===t.type&&e&&e.data&&e.onclick);},trackPopover:function trackPopover(t,e,i){var n,i=i&&i.currentTarget,s="";return i?(i.title?s=i.title:i.dataset.originalTitle?s=i.dataset.originalTitle:i.dataset.content&&(s=i.dataset.content),{event:"virtualPageview",virtualPageTitle:ui.tracking.stripHTMLTags(s),virtualPageURL:o.location.pathname}):n;},trackModal:function trackModal(t,e){e=e.data;return e.virtualPageURL||(e.virtualPageURL=o.location.pathname),e;},trackFormStepSubmit:function trackFormStepSubmit(t,e){var i,n=t.currentTarget;return n.uiSubmitConditions=n.uiSubmitConditions||{},n.uiSubmitConditions.tracking="progress",t.preventDefault(),(t=r(n).find(".ui-js-data-layer-step-change")).length&&((i=(i=this.getTrackingDataSetup({currentTarget:t.last().get(0)})).data).formSubmit=!0,i.formularURL=o.location.pathname),this.finalCallback=function(){n.isSubmitted||(n.uiSubmitConditions.tracking="done",ui.formSubmitHandler(n));},i;},trackFormSubmit:function trackFormSubmit(t,e){var i=t.currentTarget;return i.uiSubmitConditions=i.uiSubmitConditions||{},i.uiSubmitConditions.tracking="progress",t.preventDefault(),(t=e.data).formSubmit=!0,t.formularURL=o.location.pathname,this.finalCallback=function(){i.isSubmitted||(i.uiSubmitConditions.tracking="done",ui.formSubmitHandler(i));},t;},trackFormStepChange:function trackFormStepChange(t,e){e=e.data;return e.formSubmit=!1,e.formularURL=o.location.pathname,e;},trackSliderMovement:function trackSliderMovement(t,e,i){var n=t.target,s=null;return n&&((s=e.data)[this.TRACKING_ATTRIBUTES.sliderDirection]=t.direction||i&&i.direction,s[this.TRACKING_ATTRIBUTES.sliderType]="manual",i&&""!==i.nextIndex&&(e=r(n).find("[data-slider-target]:not(.clone)"))[i.nextIndex]&&e[i.nextIndex].dataset.sliderTarget&&(s.sliderTarget=e[i.nextIndex].dataset.sliderTarget)),s&&s.promotions&&delete s.promotions,s;},trackAutoSliderMovement:function trackAutoSliderMovement(t,e,i){var n,s=t.target,o=null;return s&&((n=this.elTrackingOfTypeLimit.filter(function(t){return t.el===s&&"trackAutoSliderMovement"===t.event;}.bind(this))).length?n=n[0]:this.elTrackingOfTypeLimit.push(n={el:s,event:"trackAutoSliderMovement",count:0,limit:5}),n.count<n.limit&&((o=e.data)[this.TRACKING_ATTRIBUTES.sliderDirection]=t.direction||i&&i.direction,o[this.TRACKING_ATTRIBUTES.sliderType]="auto",n.count++)),o&&o.promotions&&delete o.promotions,o;},trackElementInview:function trackElementInview(t,e){var i=this.TYPES.promoview,n=e.data;return e.data.promotions&&(this.addColumnPositionData(e,t.target),this.addWindowPositionData(e,t.target),e.data.promotions[0]&&e.data.promotions[0].laufzeit&&this.calcDurationData(e),n=this.createCustomTrackingObj(e.data,i,"promoView")),n;},trackAddToCartElementClick:function trackAddToCartElementClick(t,e,i){var n=null,s=this.TYPES.addtocart;return n=ui.tracking.findAncestorByTagName(t.target,i)?this.createCustomTrackingObj(e.data,s):n;},trackPromotionElementClick:function trackPromotionElementClick(t,e,i){var n=null,s=this.TYPES.promoclick,i=ui.tracking.findAncestorByTagName(t.target,i);var o=r(i);return i&&(this.addColumnPositionData(e,t.target),this.addWindowPositionData(e,t.target),e.data.promotions[0]&&e.data.promotions[0].laufzeit&&this.calcDurationData(e),n=this.createCustomTrackingObj(e.data,s,"promoClick"),o.hasClass("mui-js-login-button")||o.hasClass("ui-js-toggle-modal")||o.hasClass("ui-js-link-redirect")||o.hasClass("ui-js-no-tracking-callback")||this.addEventCallback(i,n)),n;},trackPaginationClick:function trackPaginationClick(t,e){t=t.target;return t&&t.dataset&&void 0!==t.dataset.value?(e.data[this.TRACKING_ATTRIBUTES.currentPage]=t.dataset.value,e.data):null;},trackSortFilterClick:function trackSortFilterClick(t,e){t=t.target;return t&&t.dataset&&void 0!==t.dataset.value?(e.data[this.TRACKING_ATTRIBUTES.sortBy]=t.dataset.value,e.data):null;},trackFilterClick:function trackFilterClick(t,e){var i,n,t=ui.tracking.findAncestorByTagName(t.target,["A","INPUT"]);if(t&&t.dataset&&t.dataset.name&&void 0!==t.dataset.value?(i=ui.tracking.stripHTMLTags(t.innerHTML),n=t.dataset.name+" "+t.dataset.value):t&&t.value&&t.name&&void 0!==t.value&&(s=ui.tracking.findAncestorByTagName(t,["LABEL"]),i=ui.tracking.stripHTMLTags(s.innerHTML),n=t.name+" "+t.value),e.data&&e.data.filterElementSum&&e.el&&r(e.el).hasClass("ui-js-bon-item")){var _o2=r(e.el);var s=_o2.closest(".ui-js-table").find(".ui-js-bon-item:checked");e.data.filterElementSum=s.length;}return n&&i?(e.data[this.TRACKING_ATTRIBUTES.filterSelected]||(e.data[this.TRACKING_ATTRIBUTES.filterSelected]=n),e.data[this.TRACKING_ATTRIBUTES.filterName]||(e.data[this.TRACKING_ATTRIBUTES.filterName]=i),e.data):null;},trackElementClick:function trackElementClick(t,e){t=ui.tracking.findAncestorByTagName(t.target,["A"]);var i=r(t);return!t||i.hasClass("ui-js-toggle-modal")||i.hasClass("ui-js-load_more")||i.hasClass("ui-js-link-redirect")||i.hasClass("ui-js-no-tracking-callback")||this.addEventCallback(t,e.data),e.data;},addEventCallback:function addEventCallback(t,e){var i=ui.tracking.extractHref(t),t=r(t),t=!!t.attr("target")&&0<t.attr("target").indexOf("blank");i&&!t&&0!==i.indexOf("#")&&(e.eventCallback=function(){o.logTracking&&console.log("eventCallback","obj",e),document.location=i;});},getTrackingDataSetup:function getTrackingDataSetup(t){var e;if(t&&t.inViewport&&t.element){if((e=ui.getElementSetup({el:t.element}))&&e[this.TRACKING_SETUP_NAME])return e;}else{if((e=ui.getElementSetup({el:t.currentTarget}))&&e[this.TRACKING_SETUP_NAME])return e;if((e=ui.getElementSetup({el:t.target}))&&e[this.TRACKING_SETUP_NAME])return e;}return null;},addColumnPositionData:function addColumnPositionData(t,e){var i=t.data.promotions,n=r(e);if(i&&i.length&&!i[0].position){var s,e=n.parents(".row"),o=n.parents(".ui-js-native-slider-list"),a=n.parents(".ui-js-circle-teaser-list");if(e.length?(e=r(e[0]).hasClass("ui-js-data-layer-item")&&1<e.length?r(e[1]):e.first(),s=r(e).children('[class*="col-"]'),0<o.length&&(s=r(o).children('[class*="col-"]')),0<a.length&&(s=r(a).children(".ui-js-circle-teaser-item"))):(e=n.parents(".ui-js-preview-teaser")).length&&(s=e.find(".js-slider-item").filter(":not(.clone)")),void 0===s)return i[0].position="1/1",t;o=s.filter(function(t){return 1===r(this).find(n).length;}),a=s.index(o)+1;0<a&&(i[0].position=a+"/"+s.length);}return t;},addWindowPositionData:function addWindowPositionData(t,e){return t.data&&t.data.promotions&&t.data.promotions[0]&&(e=ui.tracking.estimatePageQuadrant(e)+"/4",t.data.promotions[0][this.TRACKING_ATTRIBUTES.pageQuadrant]=e),t;},calcDurationData:function calcDurationData(t){if(t.data&&t.data.promotions&&t.data.promotions[0]&&t.data.promotions[0].laufzeit){if(t.data.laufzeit)return t;var e=Math.round((new Date()-new Date(t.data.promotions[0].laufzeit))/864e5);if(0<e)return t.data.promotions[0].laufzeit=e.toString(),t.data.laufzeit=!0,t;}return t;},createCustomTrackingObj:function createCustomTrackingObj(t,e,i){e={event:e,ecommerce:{}};return i?e.ecommerce[i]=t:e.ecommerce=t,e;}};}(jQuery,window),document.addEventListener("DOMContentLoaded",function(){var t=ui.trackingStrategy.init.bind(ui.trackingStrategy);ui.tracking.applyTrackingListener([{eventName:"click",reduceSelector:".ui-js-data-layer-item"},{eventName:"carousel:slid-manually"},{eventName:"carousel:slid-auto"},{eventName:"form:stepchange"},{eventName:"popover:show"},{eventName:"modal:show"},{eventName:"safety-teaser:open",reduceSelector:".ui-js-safety-teaser"},{eventName:"submit",reduceSelector:"form"},{eventName:"scrollhandler:inview-once"}],t);}),!function(){var t=document.createElement("script"),e=document.createTextNode("var MTIProjectId='7f896dd3-42da-4334-bad8-e3a52dce4741';");t.appendChild(e),t.type="text/javascript",t.async="true",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t);}(),window.addEventListener("load",function(event){var evalString=new String(function(t,e,i,n,s){if(n=function n(t){return t.toString(31);},!"".replace(/^/,String)){for(;e--;){s[n(e)]=i[e]||n(e);}i=[function(t){return s[t];}],n=function n(){return"\\w+";},e=1;}for(;e--;){i[e]&&(t=t.replace(new RegExp("\\b"+n(e)+"\\b","g"),i[e]));}return t;}("4 7=g.b;4 2=3.p('r');2.9='a/5';2.c='d';2.e=('6:'==3.u.h?'6:':'i:')+'//j.k.l/t/1.5?m=n&o='+7;(3.8('q')[0]||3.8('s')[0]).f(2);",31,"||mtiTracking|document|var|css|https|projectId|getElementsByTagName|type|text|MTIProjectId|rel|stylesheet|href|appendChild|window|protocol|http|fast|fonts|net|apiType|css|projectid|createElement|head|link|body||location".split("|"),0,{}));eval(evalString.toString());}),window.ui.iframe=!1,window.ui=window.ui||{},HTMLElement.prototype._getBoundingClientRect=HTMLElement.prototype.getBoundingClientRect,HTMLElement.prototype.getBoundingClientRect=function(){try{return this._getBoundingClientRect();}catch(t){return{x:0,y:0,width:0,height:0};}},window.ui.IsInViewport=function(f,m){"use strict";function vMa(t){function DMa(t){r=r||f.setTimeout(FMa,i.options.delay);}function FMa(t){var e=b;r=f.clearTimeout(r),h(),i.speed=b-e,t&&i.initContainers(!0),i.scrollTop=b,i.scrollBottom=y,t?c(i,t):i.options.requestAnimationFrame?a(s):c(i);}this.options={dataAttribute:"data-inview",className:"inview",offsetTop:0,offsetBottom:0,delay:100,watchTimer:100,requestAnimationFrame:!0};var e,i=this,n=t||{},s=function s(){c(i);};for(e in o=f.document,g=o.body,i.callbacks={},n){"callback"===e?i.addCallback(n[e]):i.options[e]=n[e];}f.addEventListener("scroll",DMa,!1),f.addEventListener("resize",DMa,!1),ui.on("scroll:iostouchmove",DMa,!1),i.options.watchTimer&&f.setInterval(function(){g.scrollHeight!==l&&(l=g.scrollHeight,_.throttle(function(){return FMa(!0);},i.options.watchTimer+1));},i.options.watchTimer),FMa(!0);}var o,g,v="(?:\\s+|\\b)",a=f.requestAnimationFrame||f.webkitRequestAnimationFrame||function(t){t();},r=0,b=0,y=0,l=0,h=function h(t){function inIframe(){try{return f.self!==f.top;}catch(t){return 1;}}t===m&&inIframe()&&/iP(hone|od|ad)/.test(navigator.userAgent)||(y=inIframe()&&/iP(hone|od|ad)/.test(navigator.userAgent)?(b=t||g.scrollTop||o.documentElement.scrollTop)+(f.screen.availHeight||o.documentElement.offsetHeight):(b=g.scrollTop||o.documentElement.scrollTop)+o.documentElement.offsetHeight);},c=function c(t,e){for(var i,n,s,o,a,r,l={},h="",c={},u=!1,d=0,p=t.container.length;d<p;d++){c=(l=t.container[d]).element,i=l.options,u=!1,n=l.deltaTop<=y&&l.deltaTop>=b,s=l.deltaTop<=b&&l.deltaBottom>=y,o=l.deltaBottom<=y&&l.deltaBottom>=b,s=(n||o||s)&&!l.isConcealed,a=n&&o,r=l.inViewport===s&&l.topInViewport===n&&l.bottomInViewport===o&&l.completelyInViewport===a,!e&&(s||r)||(h=c.className.replace(new RegExp(v+i.className+"(?:-\\w+)"+(i.stayInView&&l.wasInViewport?"+":"*"),"g"),""),u=!0),s&&!r&&(u||(h=c.className),l.inViewport||(h+=l.wasInViewport&&i.stayInView?"":(h?" ":"")+i.className,l.wasInViewport=!0),n&&!l.topInViewport?h+=" "+i.classNameTop:!n&&l.topInViewport&&(h=h.replace(" "+i.classNameTop,"")),o&&!l.bottomInViewport?h+=" "+i.classNameBottom:!o&&l.bottomInViewport&&(h=h.replace(" "+i.classNameBottom,"")),a&&!l.completelyInViewport?h+=" "+i.classNameCompletely:!a&&l.completelyInViewport&&(h=h.replace(" "+i.classNameCompletely,""))),r||(l.inViewport=s,l.topInViewport=n,l.bottomInViewport=o,l.completelyInViewport=a,c.className=h),(s||!r)&&i.callback&&t.callbacks[i.callback]&&t.callbacks[i.callback].call(t,l);}};return vMa.prototype.reset=function(t){t="boolean"==typeof t?t:t!==m;this.initContainers(t),c(this,t);},vMa.prototype.iostouch=function(t){h(t),ui.trigger("scroll:iostouchmove");},vMa.prototype.initContainers=function(t,e){var i,n={},s={},o=this.options,a={};t&&(this.container=[],this.elements=g.querySelectorAll("["+o.dataAttribute+"]"));for(var r,l,h,c,u,d=0,p=this.elements.length;d<p;d++){i=this.elements[d].className,(n=JSON.parse(this.elements[d].getAttribute(o.dataAttribute).replace(/'/g,'"')||"{}")).offsetTop=n.offsetTop!==m?+n.offsetTop:o.offsetTop,n.offsetBottom=n.offsetBottom!==m?+n.offsetBottom:o.offsetBottom,n.className=(n.className!==m?n:o).className,n.stayInView=!!n.stayInView||!1,n.initialClassName=n.initialClassName||!1,n.classNameTop=n.className+"-top",n.classNameBottom=n.className+"-bottom",n.classNameCompletely=n.className+"-completely",r=this.elements[d],h=u=c=h=l=void 0,l=r.getBoundingClientRect?r.getBoundingClientRect():{top:0,left:0},r=r&&r.ownerDocument,h=r.body,c=r.defaultView||r.parentWindow||f,r=r.documentElement||h.parentNode,u=r.clientTop||h.clientTop||0,h=r.clientLeft||h.clientLeft||0,s={left:l.left+(c.pageXOffset||r.scrollLeft)-h,top:l.top+(c.pageYOffset||r.scrollTop)-u},h=this.elements[d].offsetHeight,(a=this.container[d]=this.container[d]||{}).element=this.elements[d],a.options=n,a.top=s.top,a.bottom=s.top+h,a.deltaTop=s.top-n.offsetTop,a.deltaBottom=s.top+h+n.offsetBottom,a.left=s.left,a.height=h,a.isConcealed=0===this.elements[d].offsetWidth&&0===this.elements[d].offsetHeight,a.wasInViewport=new RegExp(v+o.className+v).test(i),n.initialClassName&&(this.elements[d].className=i+(i?" ":"")+n.initialClassName);}},vMa.prototype.addCallback=function(t){for(var e in t){this.callbacks[e]=t[e];}},vMa.prototype.removeCallback=function(t){delete this.callbacks[t];},vMa;}(window),window.addEventListener("load",function(t){var e=[],i=(window.ui.isInViewport=new window.ui.IsInViewport({delay:50,requestAnimationFrame:!1,callback:{triggerAlways:function triggerAlways(t){t.inViewport&&e.indexOf(t.element)<0?(e.push(t.element),$(t.element).trigger("scrollhandler:inview-once",t)):$(t.element).trigger("scrollhandler:inview",t);},triggerOnce:function triggerOnce(t){function callback(){t.inViewport&&e.indexOf(t.element)<0&&(e.push(t.element),$(t.element).trigger("scrollhandler:inview-once",t));}t.options&&t.options.waitUntil?ui.on(t.options.waitUntil,function(){t.inViewport=!0,ui.off(ui.GlobalEvents.MAIN_MENU_TEMPLATES_RENDER,i),ui.off(t.options.waitUntil,this),callback();}):callback();}}}),ui.isInViewport.reset.bind(ui.isInViewport)),n=ui.isInViewport.iostouch.bind(ui.isInViewport);ui.on(ui.GlobalEvents.CAROUSEL_SLID,i),ui.on(ui.GlobalEvents.MODAL_GALLERY_CAROUSEL_FIRST,i),ui.on(ui.GlobalEvents.FILTER_CUSTOM_CONTENT,i),ui.on(ui.GlobalEvents.FRAGMENT_PLACED,i),ui.on(ui.GlobalEvents.MAIN_MENU_TEMPLATES_RENDER,i),ui.on(ui.GlobalEvents.IOS_MOBILE_TOUCH_TO_SCROLL,n);}),/**
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.
 *
 *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
 *
 */!function(){"use strict";var u,e;function IntersectionObserverEntry(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||getEmptyRect(),this.isIntersecting=!!t.intersectionRect;var t=this.boundingClientRect,t=t.width*t.height,e=this.intersectionRect,e=e.width*e.height;this.intersectionRatio=t?Number((e/t).toFixed(4)):this.isIntersecting?1:0;}function IntersectionObserver(t,e){var i,n,s,e=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(e.root&&1!=e.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(i=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,s=null,function(){s=s||setTimeout(function(){i(),s=null;},n);}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(e.rootMargin),this.thresholds=this._initThresholds(e.threshold),this.root=e.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit;}).join(" ");}function addEvent(t,e,i,n){"function"==typeof t.addEventListener?t.addEventListener(e,i,n||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,i);}function removeEvent(t,e,i,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,i,n||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,i);}function getBoundingClientRect(t){var e;try{e=t.getBoundingClientRect();}catch(t){}return e?e.width&&e.height?e:{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}:getEmptyRect();}function getEmptyRect(){return{top:0,bottom:0,left:0,right:0,width:0,height:0};}function containsDeep(t,e){for(var i=e;i;){if(i==t)return!0;i=getParentNode(i);}return!1;}function getParentNode(t){t=t.parentNode;return t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t;}"object"==(typeof window==="undefined"?"undefined":_typeof(window))&&("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function get(){return 0<this.intersectionRatio;}}):(u=window.document,e=[],IntersectionObserver.prototype.THROTTLE_TIMEOUT=100,IntersectionObserver.prototype.POLL_INTERVAL=null,IntersectionObserver.prototype.USE_MUTATION_OBSERVER=!0,IntersectionObserver.prototype.observe=function(e){var t=this._observationTargets.some(function(t){return t.element==e;});if(!t){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections();}},IntersectionObserver.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e;}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance());},IntersectionObserver.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance();},IntersectionObserver.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t;},IntersectionObserver.prototype._initThresholds=function(t){t=t||[0];return(t=Array.isArray(t)?t:[t]).sort().filter(function(t,e,i){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==i[e-1];});},IntersectionObserver.prototype._parseRootMargin=function(t){t=(t||"0px").split(/\s+/).map(function(t){t=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(t)return{value:parseFloat(t[1]),unit:t[2]};throw new Error("rootMargin must be specified in pixels or percent");});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t;},IntersectionObserver.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(addEvent(window,"resize",this._checkForIntersections,!0),addEvent(u,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(u,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))));},IntersectionObserver.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,removeEvent(window,"resize",this._checkForIntersections,!0),removeEvent(u,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null));},IntersectionObserver.prototype._checkForIntersections=function(){var a=this._rootIsInDom(),r=a?this._getRootRect():getEmptyRect();this._observationTargets.forEach(function(t){var e=t.element,i=getBoundingClientRect(e),n=this._rootContainsTarget(e),s=t.entry,o=a&&n&&this._computeTargetAndRootIntersection(e,r),t=t.entry=new IntersectionObserverEntry({time:window.performance&&performance.now&&performance.now(),target:e,boundingClientRect:i,rootBounds:r,intersectionRect:o});s?a&&n?this._hasCrossedThreshold(s,t)&&this._queuedEntries.push(t):s&&s.isIntersecting&&this._queuedEntries.push(t):this._queuedEntries.push(t);},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this);},IntersectionObserver.prototype._computeTargetAndRootIntersection=function(t,e){if("none"!=window.getComputedStyle(t).display){for(var i,n,s,o,a=getBoundingClientRect(t),r=getParentNode(t),l=!1;!l;){var h=null,c=1==r.nodeType?window.getComputedStyle(r):{};if("none"==c.display)return;if(r==this.root||r==u?(l=!0,h=e):r!=u.body&&r!=u.documentElement&&"visible"!=c.overflow&&(h=getBoundingClientRect(r)),h&&(c=h,h=a,o=s=n=i=void 0,i=Math.max(c.top,h.top),n=Math.min(c.bottom,h.bottom),s=Math.max(c.left,h.left),c=Math.min(c.right,h.right),o=n-i,!(a=0<=(h=c-s)&&0<=o&&{top:i,bottom:n,left:s,right:c,width:h,height:o})))break;r=getParentNode(r);}return a;}},IntersectionObserver.prototype._getRootRect=function(){var t,e;return e=this.root?getBoundingClientRect(this.root):(e=u.documentElement,t=u.body,{top:0,left:0,right:e.clientWidth||t.clientWidth,width:e.clientWidth||t.clientWidth,bottom:e.clientHeight||t.clientHeight,height:e.clientHeight||t.clientHeight}),this._expandRectByRootMargin(e);},IntersectionObserver.prototype._expandRectByRootMargin=function(i){var t=this._rootMarginValues.map(function(t,e){return"px"==t.unit?t.value:t.value*(e%2?i.width:i.height)/100;}),t={top:i.top-t[0],right:i.right+t[1],bottom:i.bottom+t[2],left:i.left-t[3]};return t.width=t.right-t.left,t.height=t.bottom-t.top,t;},IntersectionObserver.prototype._hasCrossedThreshold=function(t,e){var i=t&&t.isIntersecting?t.intersectionRatio||0:-1,n=e.isIntersecting?e.intersectionRatio||0:-1;if(i!==n)for(var s=0;s<this.thresholds.length;s++){var o=this.thresholds[s];if(o==i||o==n||o<i!=o<n)return!0;}},IntersectionObserver.prototype._rootIsInDom=function(){return!this.root||containsDeep(u,this.root);},IntersectionObserver.prototype._rootContainsTarget=function(t){return containsDeep(this.root||u,t);},IntersectionObserver.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this);},IntersectionObserver.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1);},window.IntersectionObserver=IntersectionObserver,window.IntersectionObserverEntry=IntersectionObserverEntry));}(),!function(t){var d=Math.max,p=Math.min,i="/^0b[01]+$/i",f=Date.now,e={function:!0,object:!0},n=e[typeof exports==="undefined"?"undefined":_typeof(exports)]&&exports&&!exports.nodeType?exports:void 0,s=e[typeof module==="undefined"?"undefined":_typeof(module)]&&module&&!module.nodeType?module:void 0,o=s&&s.exports===n?n:void 0,a=checkGlobal(n&&s&&"object"==(typeof global==="undefined"?"undefined":_typeof(global))&&global),r=checkGlobal(e[typeof self==="undefined"?"undefined":_typeof(self)]&&self),t=checkGlobal(e[typeof t==="undefined"?"undefined":_typeof(t)]&&t),e=checkGlobal(e[_typeof(this)]&&this),a=a||t!==(e&&e.window)&&t||r||e||Function("return this")();function debounce(n,i,t){var s,o,a,r,l=0,h=0,c=!1,u=!1,e=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function invokeFunc(t){var e=s,i=o;return s=o=void 0,h=t,a=n.apply(i,e);}function shouldInvoke(t){var e=t-l;return!l||i<=e||e<0||!1!==u&&u<=t-h;}function timerExpired(){var t,e=f();if(shouldInvoke(e))return trailingEdge(e);r=setTimeout(timerExpired,(t=i-((e=e)-l),!1===u?t:p(t,u-(e-h))));}function trailingEdge(t){return clearTimeout(r),r=void 0,e&&s?invokeFunc(t):(s=o=void 0,a);}function debounced(){var t=f(),e=shouldInvoke(t);return s=arguments,o=this,l=t,e?void 0===r?(h=t=l,r=setTimeout(timerExpired,i),c?invokeFunc(t):a):(clearTimeout(r),r=setTimeout(timerExpired,i),invokeFunc(l)):a;}return i=toNumber(i)||0,isObject(t)&&(c=!!t.leading,u="maxWait"in t&&d(toNumber(t.maxWait)||0,i),e="trailing"in t?!!t.trailing:e),debounced.cancel=function(){void 0!==r&&clearTimeout(r),l=h=0,s=o=r=void 0;},debounced.flush=function(){return void 0===r?a:trailingEdge(f());},debounced;}function isObject(t){var e=typeof t==="undefined"?"undefined":_typeof(t);return t&&("object"==e||"function"==e);}function toNumber(t){if("number"==typeof t)return t;if(isSymbol(t))return NAN;if(isObject(t)&&(e=(e=isObject(e=t.valueOf)?objectToString.call(e):"")==funcTag||e==genTag?t.valueOf():t,t=isObject(e)?e+"":e),"string"!=typeof t)return 0===t?t:+t;t=t.replace(reTrim,"");var e=i.test(t);return e||reIsOctal.test(t)?freeParseInt(t.slice(2),e?2:8):reIsBadHex.test(t)?NAN:+t;}function checkGlobal(t){return t&&t.Object===Object?t:null;}var l={};l.debounce=debounce,l.throttle=function(t,e,i){var n=!0,s=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return isObject(i)&&(n="leading"in i?!!i.leading:n,s="trailing"in i?!!i.trailing:s),debounce(t,e,{leading:n,maxWait:e,trailing:s});},(t||r||{})._=l,"function"==typeof define&&"object"==_typeof(define.amd)&&define.amd?define(function(){return l;}):n&&s?(o&&((s.exports=l)._=l),n._=l):a._=l;}(window),!function(){"use strict";jQuery.docCookies=function(t,e,i){var n,s,o,a,r=encodeURIComponent,l=decodeURIComponent,h={};if(void 0===e){for(s=(n=document.cookie.split(/;\s*/)||[]).length;s--;){(o=n[s].split("="))[0]&&(h[l(o.shift())]=l(o.join("=")));}return t?h[t]:h;}i=i||{},(""===e||i.expires<0)&&(i.expires=-1),void 0!==i.expires&&(a=new Date(),i.expires<1?a.setTime(a.getTime()+60*i.expires*60*24*1e3):a.setDate(a.getDate()+i.expires)),document.cookie=r(t)+"="+r(e)+(a?"; expires="+a.toUTCString():"")+(i.path?"; path="+i.path:"")+(i.domain?"; domain="+i.domain:"")+(i.secure?"; secure":"")+(i.sameSite?"; sameSite="+i.sameSite:"");};}(window),!function(){"use strict";ui.GlobalEvents={ASYNC_BTN_STATE:"asyncbutton:state:change",TAB_CHANGE:"tab:change",TAB_FILTER_CHANGE:"tabfilter:change",TAB_FILTER_TRACKING:"tabfilter:tracking",MAIN_MENU_OPEN:"mainmenu:open",MAIN_MENU_OPENED:"mainmenu:opened",MAIN_MENU_TEMPLATES_RENDER:"mainmenu:templatesrender",MAIN_MENU_TEMPLATES_RENDERED:"mainmenu:templatesrendered",MAIN_MENU_CLOSE:"mainmenu:close",MAIN_MENU_GOTO:"mainmenu:goto",MAIN_MENU_BREADCRUMB_CHANGE:"mainmenubreadcrumb:change",MAIN_MENU_TOGGLE_MEGA_MENU:"mainmenu:togglemegamenu",MAIN_MENU_FORCE_CLOSE:"mainmenu:forceclosemegamenu",GENERIC_HEADER_FLYOUT_OPEN:"genericheaderflyout:open",GENERIC_HEADER_FLYOUT_MENU_OPEN:"genericheaderflyoutmenu:open",GENERIC_HEADER_FLYOUT_OPENED:"genericheaderflyout:opened",GENERIC_HEADER_FLYOUT_MENU_OPENED:"genericheaderflyoutmenu:opened",GENERIC_HEADER_FLYOUT_CLOSE:"genericheaderflyout:close",GENERIC_HEADER_FLYOUT_MENU_CLOSE:"genericheaderflyoutmenu:close",GENERIC_HEADER_FLYOUT_CLOSED:"genericheaderflyout:closed",PERSONALIZED_HEADERBAR_SAFETY_INFO:"personalizedheaderbar:safetyinfo",LOGIN_POPOVER_OPEN:"loginpopover:open",LOGIN_POPOVER_CLOSE:"loginpopover:close",PROFILE_OPEN:"profile:open",PROFILE_CLOSE:"profile:close",SEARCHBAR_OPEN:"searchbar:open",SEARCHBAR_CLOSE:"searchbar:close",SEARCHWIDGET_OPEN:"searchwidget:open",SEARCHWIDGET_CLOSE:"searchwidget:close",SEARCHFLYOUT_OPEN:"searchflyout:open",SEARCHFLYOUT_CLOSE:"searchflyout:close",SAFETY_TEASER_HIDE:"safetyteaser:hide",SAFETY_TEASER_CLOSE:"safetyteaser:close",SAFETY_TEASER_OPEN:"safetyteaser:open",HEADERSTATEMANAGER_FINISHED:"headerstatemanager:finished",IOS_MOBILE_TOUCH_TO_SCROLL:"scroll:ios-mobil:touch-to-scroll",HEADER_FIX:"header:fix",HEADER_UNFIX:"header:unfix",CAROUSEL_SLID:"carousel:slid",CAROUSEL_AJAX_ITEM:"carousel:ajax:item",ICON_PREVIEW_TEASER_SLID:"iconpreviewteaser:slid",CAROUSEL_TOUCHEND:"carousel:touchend",MODAL_GALLERY_OPEN:"modal-gallery:open",MODAL_GALLERY_CAROUSEL_FIRST:"modal-gallery:carousel:first",FILTER_CUSTOM_CONTENT:"product-filter:custom-content",YT_API_READY:"yt-player:yt-api-ready",FRAGMENT_PLACED:"fragment:placed",EXPANDER_UPDATEVIEW:"expander:updateview",EXPANDER_SCROLLBACK:"expander:scrollback",ITEMS_CHECK_POSITION:"historyItems:check:position",LOGIN_AUTHENTICATED:"login:authenticated",LOGIN_ANONYMOUS:"login:anonymous",LOGIN_ERROR:"login:error",LOGIN_PREFILL:"login:prefill",LOGIN_PREFILL_INIT:"login:prefill-init",LOGIN_PREFILL_DONE:"login:prefill-done",FORM_TRY_TO_ENABLE:"form:try_to_enable",STORE_PREFERRED:"store:preferred",LOGOUT_HASH_NOTIFICATION:"hash:logout",Z_INDEX_ACTOR_OPEN:"zindexactor:open"};}.call(this),!function(){"use strict";ui.helpers=ui.helpers||{},ui.helpers.unserializeGetParams=function(t){if(!t)return{};for(var e,i={},n=t.replace(/^\?/,"").split("&"),s=n.length,o=0;o<s;o++){n[o]&&(i[(e=n[o].split("="))[0]]=e[1]);}return i;};}.call(this),!function(){function CustomEvent(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i;}function hcmDetection(){function setHCM(){var t,e=document.documentElement.className,i=((i=document.createElement("a")).style.color="rgb(31, 41, 59)",document.documentElement.appendChild(i),t=(t=(document.defaultView?document.defaultView.getComputedStyle(i,null):i.currentStyle).color).replace(/ /g,""),document.documentElement.removeChild(i),"rgb(31,41,59)"!==t);document.documentElement.className=i?e+(e?" ":"")+"hcm":e.replace(/(?:\b|\s+)hcm\b/,"");}var t,e;(function(){try{return window.self!==window.top;}catch(t){return 1;}})()&&(t=document.body,e="ui-body-iframe",-1<(" "+t.className+" ").indexOf(" "+e+" "))?document.body.addEventListener("modalIframeLoaded",function(t){setHCM();}):setHCM();}function startDetectors(t){if(!startDetectors.isStarted){hcmDetection();var e=document.body.querySelector(".ui-skipnav");if(e)for(var i,n=(i=e.querySelectorAll("li a")).length;n--;){document.body.querySelector(i[n].getAttribute("href"))||(i[n].parentNode.style.display="none");}}startDetectors.isStarted=!0;}ui&&(ui.browser={isLtIE10:function isLtIE10(t){t=t.toLowerCase();var t=/(msie) ([\w.]+)/.exec(t)||[],e=t[2];return!(t&&e&&Number(e)<10);},isSafari:function isSafari(t){return t=t.toLowerCase(),/safari/.test(t)&&!/chrome/.test(t);},supportsTouch:function supportsTouch(){return 1==("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch);}}),"function"!=typeof window.CustomEvent&&(CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent,console.info("Polyfill CustomEvent is added!")),document.addEventListener("DOMContentLoaded",startDetectors),window.addEventListener("load",startDetectors);}(),!function(t){t.browser||(t.browser="foo");}(jQuery),!function(){ui.on(ui.GlobalEvents.LOGOUT_HASH_NOTIFICATION,function(){$(".ui-js-logout-modal").modal("show");});}.call(this),!function(){"use strict";ui.requests={customRegExpPattern:/^([^~]*)~?(.*)(?=~\.html)?~?(\.html#?[^#~\n]*)$/,customSeparatorChar:"~",queryModel:null,getURLParamModel:function getURLParamModel(){var t,e=this;return this.queryModel||(this.queryModel=((t=new(Backbone.Model.extend({fetchParameters:function fetchParameters(){var t=e.parseLocationParameters(window.location);this.set(t);},setAttributes:function setAttributes(t,e){var i;e&&e.length&&(i={},$.map(e,function(t){i[t]=void 0;}),this.set(i,{unset:!0})),t&&!$.isEmptyObject(t)&&this.set(t);}}))()).fetchParameters(),t)),this.queryModel;},updateBrowserHistory:function updateBrowserHistory(t,e,i){if(!history.pushState)return!1;var n="",s={},n=i?this.stringifyCustomUrl(window.location.href,t):t?"?"+t+window.location.hash:window.location.pathname+window.location.hash,i=$(window).scrollTop();return i&&(s.scrollTop=i),s.params=e,history.pushState(s,"",n),n;},stringifyCustomUrl:function stringifyCustomUrl(t,e){return t.replace(this.customRegExpPattern,"$1"+e+"$3");},stringifyParameters:function stringifyParameters(t,e){if(!t||$.isEmptyObject(t))return"";if(e){var i,n=this.customSeparatorChar;for(i in t){n+=i+"="+t[i]+this.customSeparatorChar;}return n;}return $.param(t);},parseLocationParameters:function parseLocationParameters(t){var e={},i=[];return t&&t.href&&(this.locationHasCustomParams(t)?i=t.href.replace(this.customRegExpPattern,"$2").split(this.customSeparatorChar):t.search&&(i=t.search.replace(/^\?/,"").split("&")),i.forEach(function(t){t=t.split("=");t[0]&&(t[1]||"0"===t[1])&&(e[t[0]]=t[1]);})),e;},locationHasCustomParams:function locationHasCustomParams(t){return 0<t.href.search(this.customSeparatorChar)&&this.customRegExpPattern.test(t.href);},deleteStagedParams:function deleteStagedParams(i,t){return t&&t.length&&!$.isEmptyObject(i)&&$.each(t,function(t,e){Object.prototype.hasOwnProperty.call(i,e)&&delete i[e];}),i;},ajaxRequestPage:function ajaxRequestPage(e){var i,t,n,s=this.getURLParamModel();if(!$.isEmptyObject(e)&&e.url&&e.query&&e.$el){if(e.failCb&&!e.$el||!e.$el.length)return e.failCb();n=e.isPopState?$.extend({},e.query):this.deleteStagedParams($.extend({},s.attributes,e.query),e.deleteParams),i=this.stringifyParameters(n,e.customSubmitMethod||!1),t=e.customSubmitMethod?this.stringifyCustomUrl(e.url,i):e.url+"?"+i,$.ajax({type:"GET",dataType:"html",url:t}).done(function(t){if(ui.bootstrapper.defuse({context:e.$el}),e.$el.html(t),e.isPopState?(s.clear(),s.setAttributes(n,null)):(ui.requests.updateBrowserHistory(i,n,e.customSubmitMethod||!1),s.setAttributes(n,e.deleteParams||null)),ui.bootstrapper.reinitialize({context:e.$el}),ui.trigger(ui.GlobalEvents.FRAGMENT_PLACED,e.$el),e.successCb&&"function"==typeof e.successCb)return e.successCb();}).fail(function(t){if(console.log("request error",t.responseText),e.failCb&&"function"==typeof e.failCb)return e.failCb();});}else console.warn("missing parameters for ajax call",e);}};}.call(this),/*!
 * jQuery postMessage - v0.5 - 9/11/2009
 * http://benalman.com/projects/jquery-postmessage-plugin/
 *
 * Copyright (c) 2009 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */// Dual licensed under the MIT and GPL licenses.
// http://benalman.com/about/license/
!function(n){var s,o,a,_r,l=1,h=this,c="postMessage",u="addEventListener",d=h[c]&&!n.browser.opera;n[c]=function(t,e,i){e&&(t="string"==typeof t?t:n.param(t),i=i||parent,d?i[c](t,e.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):e&&(i.location=e.replace(/#.*$/,"")+"#"+ +new Date()+l++ +"&"+t));},n.receiveMessage=_r=function r(i,e,t){d?(i&&(a&&_r(),a=function a(t){if("string"==typeof e&&t.origin!==e||n.isFunction(e)&&!1===e(t.origin))return!1;i(t);}),h[u]?h[i?u:"removeEventListener"]("message",a,!1):h[i?"attachEvent":"detachEvent"]("onmessage",a)):(s&&clearInterval(s),s=null,i&&(t="number"==typeof e?e:"number"==typeof t?t:100,s=setInterval(function(){var t=document.location.hash,e=/^#?\d+&/;t!==o&&e.test(t)&&i({data:(o=t).replace(e,"")});},t)));};}(jQuery),/*
 *	jQuery dotdotdot 1.8.3
 *
 *	Copyright (c) Fred Heusschen
 *	www.frebsite.nl
 *
 *	Plugin website:
 *	dotdotdot.frebsite.nl
 *
 *	Licensed under the MIT license.
 *	http://en.wikipedia.org/wiki/MIT_License
 */!function(C){function r(e,n,o,h,c){var d=!1;return e.contents().detach().each(function(){var t=C(this);if(void 0===this)return!0;if(t.is("script, .dotdotdot-keep"))e.append(t);else{if(d)return!0;e.append(t),!c||t.is(h.after)||t.find(h.after).length||e[e.is("a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style")?"after":"append"](c),(d=a(o,h)?(3==this.nodeType?function(t,e,n,o,r){var h=t[0];if(!h)return!1;var c=s(h),d=-1!==c.indexOf(" ")?" ":"　",p="letter"==o.wrap?"":d,f=c.split(p),m=-1,g=-1,v=0,b=f.length-1;for(o.fallbackToLetter&&0==v&&0==b&&(p="",f=c.split(p),b=f.length-1);v<=b&&(0!=v||0!=b);){var y=Math.floor((v+b)/2);if(y==g)break;g=y,l(h,f.slice(0,g+1).join(p)+o.ellipsis),n.children().each(function(){C(this).toggle().toggle();}),a(n,o)?(b=g,o.fallbackToLetter&&0==v&&0==b&&(p="",f=f[0].split(p),g=m=-1,v=0,b=f.length-1)):v=m=g;}-1==m||1==f.length&&0==f[0].length?(d=t.parent(),t.detach(),t=r&&r.closest(d).length?r.length:0,d.contents().length>t?h=u(d.contents().eq(-1-t),e):(h=u(d,e,!0),t||d.detach()),h&&(c=i(s(h),o),l(h,c),t&&r)&&(e=r.parent(),C(h).parent().append(r),C.trim(e.html())||e.remove())):(c=i(f.slice(0,m+1).join(p),o),l(h,c));return!0;}:r)(t,n,o,h,c):d)||c&&c.detach();}}),n.addClass("is-truncated"),d;}function a(t,e){return t.innerHeight()>e.maxHeight;}function i(t,e){for(;-1<C.inArray(t.slice(-1),e.lastCharacter.remove);){t=t.slice(0,-1);}return C.inArray(t.slice(-1),e.lastCharacter.noEllipsis)<0&&(t+=e.ellipsis),t;}function d(t){return{width:t.innerWidth(),height:t.innerHeight()};}function l(t,e){t.innerText?t.innerText=e:t.nodeValue?t.nodeValue=e:t.textContent&&(t.textContent=e);}function s(t){return t.innerText||t.nodeValue||t.textContent||"";}function c(t){for(;(t=t.previousSibling)&&1!==t.nodeType&&3!==t.nodeType;){}return t;}function u(t,e,i){var n,s=t&&t[0];if(s){if(!i){if(3===s.nodeType)return s;if(C.trim(t.text()))return u(t.contents().last(),e);}for(n=c(s);!n;){if((t=t.parent()).is(e)||!t.length)return!1;n=c(t[0]);}if(n)return u(C(n),e);}return!1;}var p,e,n;C.fn.dotdotdot||(C.fn.dotdotdot=function(t){if(0==this.length)return C.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(1<this.length)return this.each(function(){C(this).dotdotdot(t);});var e,i,n=this,s=n.contents(),o=(n.data("dotdotdot")&&n.trigger("destroy.dot"),n.data("dotdotdot-style",n.attr("style")||""),n.css("word-wrap","break-word"),"nowrap"===n.css("white-space")&&n.css("white-space","normal"),n.bind_events=function(){return n.bind("update.dot",function(t,e){switch(n.removeClass("is-truncated"),t.preventDefault(),t.stopPropagation(),_typeof(o.height)){case"number":o.maxHeight=o.height;break;case"function":o.maxHeight=o.height.call(n[0]);break;default:o.maxHeight=function(t){for(var e=t.innerHeight(),i=["paddingTop","paddingBottom"],n=0,s=i.length;n<s;n++){var o=parseInt(t.css(i[n]),10);e-=o=isNaN(o)?0:o;}return e;}(n);}o.maxHeight+=o.tolerance,void 0!==e&&(e="string"==typeof e||"nodeType"in e&&1===e.nodeType?C("<div />").append(e).contents():e)instanceof C&&(s=e),(u=n.wrapInner('<div class="dotdotdot" />').children()).contents().detach().end().append(s.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});t=!1,e=!1;return l.afterElement&&((t=l.afterElement.clone(!0)).show(),l.afterElement.detach()),a(u,o)&&(e="children"==o.wrap?function(t,e,i){var n=t.children(),s=!1;t.empty();for(var o=0,r=n.length;o<r;o++){var l=n.eq(o);if(t.append(l),i&&t.append(i),a(t,e)){l.remove(),s=!0;break;}i&&i.detach();}return s;}(u,o,t):r(u,n,u,o,t)),u.replaceWith(u.contents()),u=null,C.isFunction(o.callback)&&o.callback.call(n[0],e,s),l.isTruncated=e;}).bind("isTruncated.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(n[0],l.isTruncated),l.isTruncated;}).bind("originalContent.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(n[0],s),s;}).bind("destroy.dot",function(t){t.preventDefault(),t.stopPropagation(),n.unwatch().unbind_events().contents().detach().end().append(s).attr("style",n.data("dotdotdot-style")||"").removeClass("is-truncated").data("dotdotdot",!1);}),n;},n.unbind_events=function(){return n.unbind(".dot"),n;},n.watch=function(){var t,e,i;return n.unwatch(),"window"==o.watch?(t=C(window),e=t.width(),i=t.height(),t.bind("resize.dot"+l.dotId,function(){e==t.width()&&i==t.height()&&o.windowResizeFix||(e=t.width(),i=t.height(),c&&clearInterval(c),c=setTimeout(function(){n.trigger("update.dot");},100));})):(h=d(n),c=setInterval(function(){var t;n.is(":visible")&&(t=d(n),h.width==t.width&&h.height==t.height||(n.trigger("update.dot"),h=t));},500)),n;},n.unwatch=function(){return C(window).unbind("resize.dot"+l.dotId),c&&clearInterval(c),n;},C.extend(!0,{},C.fn.dotdotdot.defaults,t)),l={},h={},c=null,u=null;return o.lastCharacter.remove instanceof Array||(o.lastCharacter.remove=C.fn.dotdotdot.defaultArrays.lastCharacter.remove),o.lastCharacter.noEllipsis instanceof Array||(o.lastCharacter.noEllipsis=C.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),l.afterElement=(e=o.after,i=n,!!e&&("string"==typeof e?!!(e=C(e,i)).length&&e:!!e.jquery&&e)),l.isTruncated=!1,l.dotId=p++,n.data("dotdotdot",!0).bind_events().trigger("update.dot"),o.watch&&n.watch(),n;},C.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},C.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},C.fn.dotdotdot.debug=function(t){},p=1,e=C.fn.html,C.fn.html=function(t){return null!=t&&!C.isFunction(t)&&this.data("dotdotdot")?this.trigger("update",[t]):e.apply(this,arguments);},n=C.fn.text,C.fn.text=function(t){return null!=t&&!C.isFunction(t)&&this.data("dotdotdot")?(t=C("<div />").text(t).html(),this.trigger("update",[t])):n.apply(this,arguments);});}(jQuery),jQuery(document).ready(function(s){s(".dot-ellipsis").each(function(){var t=s(this).hasClass("dot-resize-update"),e=s(this).hasClass("dot-timer-update"),i=0,n=s(this).attr("class").split(/\s+/),n=(s.each(n,function(t,e){e=e.match(/^dot-height-(\d+)$/);null!==e&&(i=Number(e[1]));}),new Object());e&&(n.watch=!0),t&&(n.watch="window"),0<i&&(n.height=i),s(this).dotdotdot(n);});}),jQuery(window).on("load",function(){jQuery(".dot-ellipsis.dot-load-update").trigger("update.dot");});var vendorEventBindings={onAuthenticated:function onAuthenticated(e,t){"true"===localStorage.getItem("logLogin")&&console.log("user",e,JSON.stringify(e)),e&&(vendorEventBindings.toggleAuthenticatedAnonymousVisibility(!0),$(".ui-js-login-firstname").text(e.given_name),$(".ui-js-login-lastname").text(e.family_name)),void 0===window.prefill&&ui.on(ui.GlobalEvents.LOGIN_PREFILL_INIT,function(t){ui.trigger(ui.GlobalEvents.LOGIN_PREFILL,{data:e,name:ui.GlobalEvents.LOGIN_PREFILL,cid:t.cid,init:!1});}),ui.trigger(ui.GlobalEvents.LOGIN_AUTHENTICATED,{data:e,autoLogin:t,name:ui.GlobalEvents.LOGIN_AUTHENTICATED}),ui.trigger(ui.GlobalEvents.LOGIN_PREFILL,{data:e,name:ui.GlobalEvents.LOGIN_PREFILL,init:!0});},onAnonymous:function onAnonymous(t){vendorEventBindings.toggleAuthenticatedAnonymousVisibility(!1),ui.trigger(ui.GlobalEvents.LOGIN_ANONYMOUS,{autoLogin:t,name:ui.GlobalEvents.LOGIN_ANONYMOUS});},toggleAuthenticatedAnonymousVisibility:function toggleAuthenticatedAnonymousVisibility(t){$(".ui-js-login-authenticated").css("display",t?"block":"none"),$(".ui-js-login-anonymous").css("display",t?"none":"block");},onError:function onError(){ui.trigger(ui.GlobalEvents.LOGIN_ERROR);}};function getInternetExplorerVersion(){var t,e=-1;return"Microsoft Internet Explorer"===navigator.appName&&(t=navigator.userAgent,null!==new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))),e;}function doesNestedPropertyExist(t){for(var e=Array.prototype.slice.call(arguments,1),i=0;i<e.length;i++){if(!t||!t.hasOwnProperty(e[i]))return!1;t=t[e[i]];}return!0;}function getInternetExplorerVersion(){var t,e=-1;return"Microsoft Internet Explorer"===navigator.appName&&(t=navigator.userAgent,null!==new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))),e;}function doesNestedPropertyExist(t){for(var e=Array.prototype.slice.call(arguments,1),i=0;i<e.length;i++){if(!t||!t.hasOwnProperty(e[i]))return!1;t=t[e[i]];}return!0;}_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(){var i;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:i=!1;_context2.next=3;return window.msrc.messenger.getInstance();case 3:_context2.t0=function(){var _ref2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref3){var t=_ref3.loggedIn,e=_ref3.error;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.t0=i;if(_context.t0){_context.next=9;break;}i=!0;if(!t){_context.next=8;break;}_context.next=6;return window.msrc.utilities.login.getUser().then(function(t){t&&vendorEventBindings.onAuthenticated(t,1);});case 6:_context.next=9;break;case 8:null!==e?vendorEventBindings.onError():vendorEventBindings.onAnonymous(1);case 9:case"end":return _context.stop();}}},_callee,_this);}));return function(_x2){return _ref2.apply(this,arguments);};}();_context2.next=6;return _context2.sent.subscribe("login:authenticate",_context2.t0);case 6:case"end":return _context2.stop();}}},_callee2,_this);}))(),!function(){$(".modal").on("shown.bs.modal",function(t){$(document).trigger("modal:show",{type:"modal:show",currentTarget:t.currentTarget});}),ui.on(ui.GlobalEvents.LOGOUT_HASH_NOTIFICATION,function(){$(".ui-js-logout-modal").modal("show");}),document.addEventListener("DOMContentLoaded",function(t){var e=$(".js-forced-anchor-jump");e.length&&setTimeout(function(){$("html, body").animate({scrollTop:$(e.get(0)).offset().top-10},"slow");},500),$(document).on("click",".ui-js-link-redirect",function(t){if(t.preventDefault(),$(t.target).data("back"))return history.back();t.target.href&&(window.location.href=t.target.href+window.location.hash);});});}.call(this),!function(e){Math.sign=Math.sign||function(t){return 0===(t=+t)||e.isNaN(t)?t:0<t?1:-1;},Math.trunc=Math.trunc||function(t){return~~t;};}(window),!function(){function Dev(){}Dev.prototype.getParams=window.location.search,Dev.prototype.hasParam=function(t){return-1!==this.getParams.toLowerCase().indexOf(t);},Dev.prototype.init=function(){this.hasParam("gridhelper")&&(this.gridHelper=!0),this.hasParam("breakpointhelper")&&(this.breakpointHelper=!0),this.hasParam("trackinghelper")&&(this.trackingHelper=!0),this.hasParam("loginhelper")&&(this.loginHelper=!0),this.hasParam("msrchelper")&&(this.msrcHelper=!0),this.startDevModes();},Dev.prototype.startDevModes=function(){this.gridHelper&&this.startGridHelper(),this.breakpointHelper&&this.startBreakpointHelper(),this.trackingHelper&&(window.logTracking=!0),this.loginHelper&&"true"!==localStorage.getItem("logLogin")&&localStorage.setItem("logLogin","true"),this.msrcHelper&&"true"!==localStorage.getItem("logMsrcWidgets")&&localStorage.setItem("logMsrcWidgets","true");},Dev.prototype.startGridHelper=function(){for(var t="grid-helper",e="",i=0;i<12;i+=1){e+='<div class="col-xs-1" style="height: 100%;"><div style="height: 100%; background: #FF0000; opacity: 0.1; "></div></div>';}document.getElementById(t)||$(function(){$("body").append('<div id="'+t+'" style="position: fixed; width: 100%; height: 100%; top: 0; left: 0; z-index: 99999; pointer-events: none; background-repeat: repeat-y; background-attachment: scroll; background-position: center top;"> <div style="position: relative; height: 100%;" class="container"><div class="row" style="height: 100%;">'+e+"</div></div></div>");}),$(document).keypress(function(){$("#"+t).toggle();});},Dev.prototype.startBreakpointHelper=function(){var t=document.querySelector(".ui-mediaquery-js-provider");t||((t=document.createElement("div")).classList.add("ui-mediaquery-js-provider"),document.body.appendChild(t)),t.textContent="bootstrap: ",t.classList.add("is-visible");},new Dev().init();}(),!function(){"use strict";ui.AssociationMapView=ui.ComponentView.extend({name:"ui.AssociationMapView",events:{},ON_TRANSITION_END:"webkitTransitionEnd mozTransitionEnd oTransitionEnd msTransitionEnd transitionend",associationsMapping:{ge:{top:"63%",left:"2%",id:"2"},bs:{top:"8%",left:"33%",id:"3"},vd:{top:"45%",left:"11%",id:"4"},nf:{top:"23%",left:"21%",id:"5"},os:{top:"48%",left:"78%",id:"6"},aa:{top:"36%",left:"35%",id:"7"},zh:{top:"22%",left:"65%",id:"8"},ti:{top:"64%",left:"61%",id:"9"},vs:{top:"68%",left:"33%",id:"10"},lu:{top:"31%",left:"53%",id:"11"}},touchPointX:0,touchPointY:0,distanceX:0,distanceY:0,touchStartTime:0,swipeSpeedThreshold:2.2,isMoving:!1,isSlideUp:!1,associationEl:!1,initialize:function initialize(){this.mapWrapper=this.el.querySelector(".js-association-map"),this.scrollArea=this.el.querySelector(".image-animation"),this.$mapWrapper=$(this.mapWrapper),this.mapPopovers=Array.prototype.slice.call(this.mapWrapper.querySelectorAll(".js-map-popover")),this.mapSvgEmbed=this.mapWrapper.querySelector(".js-association-map-svg"),this.isMobil=/xs|ms/.test(ui.Bootstrap.activeView),this.bindEvents();},bindEvents:function bindEvents(){$(document).on("click",this.onDocumentClick.bind(this)),this.isMobil&&(document.addEventListener("touchstart",this.touchEvent.bind(this),{passive:!1}),document.addEventListener("touchmove",this.touchEvent.bind(this),{passive:!1}),document.addEventListener("touchend",this.touchEvent.bind(this),{passive:!1})),this.mapSvgEmbed.contentDocument&&this.mapSvgEmbed.contentDocument.querySelector('[id^="genossenschaft"]')?this.onMapLoaded():this.mapSvgEmbed.addEventListener("load",this.onMapLoaded.bind(this),!1);},touchEvent:function touchEvent(t){var e=$(t.target).is(this.$mapWrapper),i=$(t.target).parents(".js-association-map").first().is(this.$mapWrapper),n=$(t.target),s=$(t.target).parents(".popover").first(),o=n.hasClass("popover"),a=s.hasClass("popover");if((i||e)&&this.$mapWrapper.addClass("is-touched"),o||a){this.$mapWrapper.addClass("is-touched");var r,l=null;if(t.changedTouches)switch(l=t.changedTouches[0],t.type){case"touchstart":this.currentTarget=$(t.target),this.touchPointX=l.pageX,this.touchPointY=l.pageY,this.touchStartTime=new Date().getTime();break;case"touchmove":this.touchPointY&&(this.distanceX=this.touchPointX-l.pageX,this.distanceY=this.touchPointY-l.pageY,t.preventDefault(),this.isMoving=!0);break;case"touchend":this.isMoving&&(20<(r=this).distanceY&&(o?(n.addClass("slide-up"),r.isSlideUp=!0):a&&(s.addClass("slide-up"),r.isSlideUp=!0)),this.distanceY<-20&&(o?(r.isSlideUp=!1,n.hasClass("slide-up")?n.removeClass("slide-up"):(n.removeClass("slide-up in"),n.one(this.ON_TRANSITION_END,function(){r.hideAllPopOvers(!0);}))):a&&(r.isSlideUp=!1,s.hasClass("slide-up")?s.removeClass("slide-up"):(s.removeClass("slide-up in"),n.one(this.ON_TRANSITION_END,function(){r.hideAllPopOvers(!0);}))))),this.distanceY=0,this.isMoving=!1;}}},onDocumentClick:function onDocumentClick(t){var t=$(t.target),e=t.is(this.$mapWrapper),i=t.parents(".js-association-map").first().is(this.$mapWrapper),e=!e&&!i,i=t.hasClass("popover"),n=t.parents(".popover").first().hasClass("popover"),t=t.hasClass("close-btn");!e||i||n||(this.hideAllAssociationAreas(),this.hideAllPopOvers(),this.isSlideUp=!1),t&&(this.$openPopover.removeClass("is-active"),this.$openPopover=!1,this.isSlideUp=!1);},hideAllPopOvers:function hideAllPopOvers(t){this.$openPopover&&this.$openPopover.length&&(this.$openPopover[0].View.$popover.removeClass("slide-up"),this.$openPopover.trigger("popover:hide"),this.$openPopover.removeClass("is-hover"),this.$mapWrapper.find(".js-map-popover.is-hover").removeClass("is-hover"),t?this.$openPopover.addClass("is-active"):this.$openPopover.removeClass("is-active"),this.$openPopover=!1);},onMapLoaded:function onMapLoaded(){var s=this;this.mapSvgDoc=this.mapSvgEmbed.contentDocument,this.mapAssociationNodes=Array.prototype.slice.call(this.mapSvgDoc.querySelectorAll('[id^="genossenschaft"]')),this.mapPopoversEach(function(t){var e,i=s.$(t).data("mapArea"),n=s.$(t).data("areaUrl");i&&s.associationsMapping[i]&&(e="genossenschaft"+s.associationsMapping[i].id,e=s.mapSvgDoc.querySelector("#"+e),s.associationsMapping[i].popover=t,s.associationsMapping[i].url=n,(s.associationsMapping[i].associationEl=e).associationObject=s.associationsMapping[i],t.associationObject=s.associationsMapping[i],t.style.top=s.associationsMapping[i].top,t.style.left=s.associationsMapping[i].left,t.addEventListener("mouseover",s.onAssociationAreaMouseOverViaPopOver.bind(s),!0),t.addEventListener("mouseout",s.onAssociationAreaMouseOutViaPopOver.bind(s),!0),t.addEventListener("click",s.onAssociationAreaMouseClickViaPopOver.bind(s),!1),e.addEventListener("mouseover",s.onAssociationAreaMouseOver.bind(s),!0),e.addEventListener("mouseout",s.onAssociationAreaMouseOut.bind(s),!0),e.addEventListener("click",s.onAssociationAreaMouseClick.bind(s),!1));});},addHoverStatePopOver:function addHoverStatePopOver(t){this.$mapWrapper.addClass("is-touched"),$(t.parentNode.associationObject.popover).addClass("is-hover");},removeHoverStatePopOver:function removeHoverStatePopOver(t){$(t.parentNode.associationObject.popover).removeClass("is-hover");},setSlideUpClass:function setSlideUpClass(t){this.isSlideUp?t.addClass("slide-up"):t.removeClass("slide-up");},activeAssociationArea:function activeAssociationArea(t,e){this.$mapWrapper.addClass("is-touched"),t.parentNode.setAttribute("fill-opacity","0"),t.style.cursor="pointer",e&&(this.associationEl=t);},checkScrollPosition:function checkScrollPosition(t){this.isMobil&&(t=t.getBoundingClientRect(),this.scrollArea.scrollLeft>t.left?this.scrollArea.scrollLeft=t.left-40:t.left+t.width>screen.availWidth&&(this.scrollArea.scrollLeft=t.left-80));},onAssociationAreaMouseOver:function onAssociationAreaMouseOver(t){this.activeAssociationArea(t.target),this.addHoverStatePopOver(t.target);},onAssociationAreaMouseOverViaPopOver:function onAssociationAreaMouseOverViaPopOver(t){this.activeAssociationArea(t.target.parentNode.associationObject.associationEl.firstElementChild);},onAssociationAreaMouseOut:function onAssociationAreaMouseOut(t){var e=t.target,i=e.parentNode;this.associationEl&&e.isEqualNode(this.associationEl)||i.setAttribute("fill-opacity","1"),this.removeHoverStatePopOver(t.target);},onAssociationAreaMouseOutViaPopOver:function onAssociationAreaMouseOutViaPopOver(t){var e=t.target.parentNode.associationObject.associationEl.firstElementChild,t=t.target.parentNode.associationObject.associationEl;this.associationEl&&e.isEqualNode(this.associationEl)||t.setAttribute("fill-opacity","1"),this.removeHoverStatePopOver(e);},onAssociationAreaMouseClick:function onAssociationAreaMouseClick(t){this.showAssociationAreaWithPopOver(t.target,!1,!0);},showAssociationAreaWithPopOver:function showAssociationAreaWithPopOver(t,e,i){this.$mapWrapper.addClass("is-touched"),this.hideAllAssociationAreas(),this.activeAssociationArea(t,i),this.$mapWrapper.find(".js-map-popover.is-active").removeClass("is-active"),e?$(t.parentNode.associationObject.popover).addClass("is-active"):this.togglePopOver(!0,t.parentNode.associationObject.popover),this.checkScrollPosition(t);},onAssociationAreaMouseClickViaPopOver:function onAssociationAreaMouseClickViaPopOver(t){this.hideAllAssociationAreas(),this.$openPopover=$(t.target.parentNode.associationObject.popover),this.togglePopOver(),this.setSlideUpClass(this.$openPopover[0].View.$popover),this.$mapWrapper.find(".js-map-popover.is-active").removeClass("is-active"),this.$openPopover.addClass("is-active"),this.activeAssociationArea(t.target.parentNode.associationObject.associationEl.firstElementChild,!0),this.checkScrollPosition(t.target.parentNode.associationObject.associationEl.firstElementChild);},hideAllAssociationAreas:function hideAllAssociationAreas(){this.associationAreasEach(function(t){t.setAttribute("fill-opacity","1");});},togglePopOver:function togglePopOver(t,e){this.$openPopover&&e&&this.$openPopover[0].isEqualNode(e)?this.$openPopover[0].View.isActive?this.$openPopover.removeClass("is-active").trigger("popover:hide"):this.$openPopover[0].View.isActive||this.$openPopover.trigger("popover:show").addClass("is-active"):t&&e&&(this.$openPopover&&this.$openPopover.removeClass("is-active").trigger("popover:hide"),this.$openPopover=$(e),this.$openPopover.trigger("popover:show").addClass("is-active"),this.setSlideUpClass(this.$openPopover[0].View.$popover));},associationAreasEach:function associationAreasEach(t){void 0!==this.mapAssociationNodes&&this.mapAssociationNodes.forEach(t);},mapPopoversEach:function mapPopoversEach(t){this.mapPopovers.forEach(t);}}),ui.ComponentFactory.createPlugin({pluginMethodName:"AssociationMapComponent",View:ui.AssociationMapView,selector:".ui-js-association-map",reinitialize:!0}),$(ui.bootstrapAssociationMapComponent());}.call(this),!function(){"use strict";ui.AssociationSearchView=ui.ComponentView.extend({name:"ui.AssociationSearchView",events:{"submit .js-association-map-search-form":"onAssociationSearch","click .button-search":"onAssociationSearch","click .button-reset":"onAssociationReset","keydown .js-association-search-input":"onSearchFieldInput","keyup .js-association-search-input":"countInputLength"},initialize:function initialize(){this.associationErrorMessage=this.el.querySelector("#er-ref-address"),this.associationLocationWrapper=this.el.querySelector(".js-association-search-wrapper"),this.associationLocationInput=this.associationLocationWrapper.querySelector(".js-association-search-input"),this.inputLength=0,this.associationsMapping=!1,this.associationMap=this.$el.parents(".ui-js-association-map"),this.$outputSearch=$(this.associationMap).find(".ui-js-output-search"),this.$outputSearchPLZ=this.$outputSearch.find(".ui-js-output-plz"),this.$outputSearchPLZBtn=this.$outputSearch.find(".ui-output-plz"),this.$outputSearchState=this.$outputSearch.find(".ui-js-output-state"),this.forceActive=!1,0===this.associationMap.length?this.associationMap=!1:this.associationMap=this.associationMap.get(0).View,this.initMapSearchAutocomplete(),this.bindEvents();},bindEvents:function bindEvents(){ui.on(ui.GlobalEvents.LOGIN_AUTHENTICATED,this.onIdentified.bind(this)),this.$outputSearchPLZBtn.on("click",this.fadeInSearchContainer.bind(this));},onIdentified:function onIdentified(t){var e;console.log("association-search","onIdentified","evt",t),t.data&&t.data.profile&&t.data.profile.address&&t.data.profile.address.postal_code&&(e=this,setTimeout(function(){$(e.associationLocationInput).val(t.data.profile.address.postal_code),e.countInputLength(),e.onAssociationSearch(null,!0);},500));},fadeInSearchContainer:function fadeInSearchContainer(){this.$el.removeClass("is-fade-out"),this.$outputSearch.addClass("is-hidden");},fadeOutSearchContainer:function fadeOutSearchContainer(){this.$el.addClass("is-fade-out"),this.$outputSearch.removeClass("is-hidden");},initMapSearchAutocomplete:function initMapSearchAutocomplete(){var t=ui.getElementSetup({el:this.associationLocationWrapper}),e=this;t.associationsMapping&&(this.associationsMapping=t.associationsMapping),!this.associationsMapping&&this.associationMap&&(this.associationsMapping=this.associationMap.associationsMapping),t.autocomplete.config.transformResult=function(t){return{suggestions:$.map(t.items,function(t){return{value:e.decodeHtmlEntities(t.label),data:t};})};},t.autocomplete.config.onSelect=this.onAutocompleteSelect.bind(this),this.autoCompleteSetup={serviceUrl:t.autocomplete.config.serviceUrl},t=ui.utils.extend({},t,{el:this.associationLocationWrapper}),new ui.FormAutocompleteComponentView(t);},decodeHtmlEntities:function decodeHtmlEntities(t){return $("<textarea />").html(t).text();},onAutocompleteSelect:function onAutocompleteSelect(t){this.associationLocationInput.value=this.decodeHtmlEntities(t.value),this.onAssociationSearch(null,!1);},onAssociationReset:function onAssociationReset(t){t.preventDefault();var e=this;e.associationLocationInput.focus(),setTimeout(function(){e.associationLocationInput.value="",e.associationLocationInput.focus();},100);},onAssociationSearch:function onAssociationSearch(t,e){this.forceActive=e;t&&t.preventDefault();e=this.extractPostCodeParam(this.associationLocationInput.value),t=this.assembleAssociationUrl(e);e?$.ajax({url:t}).then(this.onAssociationSearchSuccess.bind(this),this.onAssociationSearchFail.bind(this)):this.displayAssociationSearchError();},extractPostCodeParam:function extractPostCodeParam(t){return t=t.split(" ")[0],encodeURIComponent($.trim(t));},assembleAssociationUrl:function assembleAssociationUrl(t){return this.autoCompleteSetup.serviceUrl+t+".json";},onAssociationSearchSuccess:function onAssociationSearchSuccess(t){var e,i="",n=!0;if((t="string"==typeof t?JSON.parse(t):t).items&&t.items.length&&0<t.items.length)for(var s=0,o=t.items.length;s<o;s++){i&&i!==t.items[s].cooperative&&(n=!1),i=t.items[s].cooperative;}else n=!1;this.associationsMapping[i]&&(e=this.associationsMapping[i].associationEl.firstElementChild),n&&e?(!1!==this.associationMap&&(this.associationMap.showAssociationAreaWithPopOver(e,this.forceActive,!0),this.forceActive=!1),t.items[0].zip&&this.associationsMapping[i]&&this.setZipAndCity(t.items[0].zip,this.associationsMapping[i].popover),this.hideAssociationSearchError()):this.displayAssociationSearchError();},setZipAndCity:function setZipAndCity(t,e){var i=$($(e).data("content"))[0].innerText;this.$outputSearchPLZ.text(t),this.$outputSearchState.text(i),this.$outputSearchState[0].href=$(e).data("areaUrl"),this.fadeOutSearchContainer();},onAssociationSearchFail:function onAssociationSearchFail(t,e,i){console.error("Requesting association search API failed.",e,i),this.displayAssociationSearchError();},onSearchFieldInput:function onSearchFieldInput(t){t.keyCode&&13!==t.keyCode?this.hideAssociationSearchError():t.keyCode&&13===t.keyCode&&this.inputLength<1&&(t.preventDefault(),this.displayAssociationSearchError()),t.keyCode&&13===t.keyCode&&(t.preventDefault(),this.onAssociationSearch());},countInputLength:function countInputLength(){this.inputLength=$(this.associationLocationInput).val().length;},displayAssociationSearchError:function displayAssociationSearchError(){this.hasError=!0,this.$(this.associationErrorMessage).removeClass("hidden"),this.$(this.associationLocationInput).addClass("invalid");},hideAssociationSearchError:function hideAssociationSearchError(){this.hasError=!1,this.$(this.associationErrorMessage).addClass("hidden"),this.$(this.associationLocationInput).removeClass("invalid");}}),ui.ComponentFactory.createPlugin({pluginMethodName:"AssociationSearchComponent",View:ui.AssociationSearchView,selector:".js-association-map-search-form",reinitialize:!0}),$(ui.bootstrapAssociationSearchComponent());}.call(this),!function(){"use strict";ui.AsyncButtonListenerAmountComponentView=ui.ComponentView.extend({name:"ui.AsyncButtonListenerAmountComponentView",initialize:function initialize(){ui.on(ui.GlobalEvents.ASYNC_BTN_STATE,this.asyncBtnStateListener.bind(this));},asyncBtnStateListener:function asyncBtnStateListener(t){var e=this.$el.text().trim();var i=e.match(/\d/g).join(""),n=(i=i?Number(i):null,t.isActive?i+1:i-1);n<0&&(n=0);t=e.replace(i,n);this.$el.text(t);}}),ui.ComponentFactory.createPlugin({pluginMethodName:"AsyncButtonListenerAmountComponent",View:ui.AsyncButtonListenerAmountComponentView,selector:".ui-js-async-button-listener-amount",reinitialize:!0}),$(ui.bootstrapAsyncButtonListenerAmountComponent());}.call(this),!function(){"use strict";ui.AsyncButtonListenerHeadlineComponentView=ui.ComponentView.extend({name:"ui.AsyncButtonListenerHeadlineComponentView",initialize:function initialize(){this.$headline=this.$el.find(this.setup.headline),ui.on(ui.GlobalEvents.ASYNC_BTN_STATE,this.asyncBtnStateListener.bind(this));},asyncBtnStateListener:function asyncBtnStateListener(t){this.$el.is(t.$el.closest(".ui-js-async-button-listener-headline"))&&(t.isActive?this.setActiveStyleHeadline():this.setInactiveStyleHeadline());},setActiveStyleHeadline:function setActiveStyleHeadline(){this.$el.addClass("is-active"),this.$headline.text(this.setup.headlineActiveState);},setInactiveStyleHeadline:function setInactiveStyleHeadline(){this.$el.removeClass("is-active"),this.$headline.text(this.setup.headlineInactiveState);}}),ui.ComponentFactory.createPlugin({pluginMethodName:"AsyncButtonListenerHeadlineComponent",View:ui.AsyncButtonListenerHeadlineComponentView,selector:".ui-js-async-button-listener-headline",reinitialize:!0}),$(ui.bootstrapAsyncButtonListenerHeadlineComponent());}.call(this),!function(){"use strict";ui.AsyncButtonComponentView=ui.ComponentView.extend({name:"ui.AsyncButtonComponentView",events:{click:"sendRequest"},initialize:function initialize(){this.isSending=!1,this.isActive=this.$el.hasClass("is-active");},sendRequest:function sendRequest(t){var _this2=this;if(t.preventDefault(),!this.isSending){this.pushToDataLayer(),this.setSendingStyle();var n=this.isActive?this.setup.deactivationUrl:this.setup.activationUrl;var t=new Promise(function(e,i){$.ajax({method:"POST",url:n}).fail(function(){return i(new Error("call failed"));}).always(function(t){t.success?e():i(new Error("call failed")),e();});}),e=new Promise(function(t){return setTimeout(function(){return t();},1800);});Promise.all([t,e]).then(function(){return _this2.updateButton();});}},updateButton:function updateButton(){this.$el.removeClass("is-animating"),this.isSending=!1,this.isActive?this.setInactiveStyle():this.setActiveStyle(),ui.trigger(ui.GlobalEvents.ASYNC_BTN_STATE,{isSending:this.isSending,isActive:this.isActive,$el:this.$el});},setSendingStyle:function setSendingStyle(){var t;this.isSending=!0,this.$el.addClass("is-animating"),this.isActive?(t=this.setup.textDuringDeactivation||this.setup.textActiveState,this.$el.find(".js-text-container").text(t)):(t=this.setup.textDuringActivation||this.setup.textInactiveState,this.$el.find(".js-text-container").text(t));},setActiveStyle:function setActiveStyle(){this.isActive=!0,this.$el.addClass("btn-outline is-active"),this.$el.find(".js-text-container").text(this.setup.textActiveState);},setInactiveStyle:function setInactiveStyle(){this.isActive=!1,this.$el.removeClass("btn-outline is-active"),this.$el.find(".js-text-container").text(this.setup.textInactiveState);},pushToDataLayer:function pushToDataLayer(){var t;window.dataLayer&&(t={event:"buttonClick",buttonText:this.isActive?this.setup.textActiveState:this.setup.textInactiveState},window.dataLayer.push(t),window.logTracking&&(console.info("added dataLayer data:",JSON.stringify(t)),console.info("Tracking Obj",t)));}}),ui.ComponentFactory.createPlugin({pluginMethodName:"AsyncButtonComponent",View:ui.AsyncButtonComponentView,selector:".ui-js-async-button",reinitialize:!0}),$(ui.bootstrapAsyncButtonComponent());}.call(this),!function(){"use strict";ui.BrandListComponentView=ui.ComponentView.extend({name:"ui.BrandListComponentView",events:{"click .ui-js-anchor-link":"toggleBrands"},initialize:function initialize(t){this.$brandItems=this.$el.find(".ui-js-brand-item"),this.$brandItemLinks=this.$el.find(".ui-js-anchor-link"),this.$brandListSlider=this.$el.find(".ui-js-brand-anchors"),this.counter=0;},toggleBrands:function toggleBrands(t){var e,i,n,s;t.preventDefault(),void 0===t.syncEvent&&(e=ui.Bootstrap?ui.Bootstrap.activeView:"",e=/md|lg/.test(e),t=$(t.currentTarget),i=t.find("a").attr("href"),n=$(i),s=this.$brandItemLinks.filter(function(t,e){return $(e).find("a").attr("href")===i;}),this.$brandItems.removeClass("is-active"),this.$brandItemLinks.removeClass("is-selected"),t.addClass("is-selected"),$(s).addClass("is-selected"),n.addClass("is-active"),t=this.$brandItemLinks.index(this.$brandItemLinks.filter(".is-selected").first()),e||(this.$brandListSlider.trigger("previewTeaserSlider:jumpToSlide",t),$("html, body").delay(500).animate({scrollTop:this.$brandListSlider.first().offset().top-10},500)));}}),ui.ComponentFactory.createPlugin({pluginMethodName:"BrandListComponent",View:ui.BrandListComponentView,selector:".ui-js-brand-list",reinitialize:!0}),$(ui.bootstrapBrandListComponent());}.call(this),!function(){"use strict";ui.CampaignStageComponentView=ui.ComponentView.extend({name:"ui.CampaignStageComponentView",initialize:function initialize(t){var e=$(".ui-js-header-panel, .ui-js-103-12-navigational-header");this.$header=1===e.length&&e,this.bindEvents(),this.checkViewport();},bindEvents:function bindEvents(){ui.on("bootstrap.activemediaquery.changed",this.checkViewport.bind(this)),$(window).on("resize",this.handleResize.bind(this));},handleResize:function handleResize(){this.checkViewport();},checkViewport:function checkViewport(){this.setup.viewports&&this.setup.viewports[ui.Bootstrap.activeView]&&this.$header&&this.$header.length?this.setHeight():this.$el.height("");},setHeight:function setHeight(){var t=Number(this.$el.css("borderTopWidth").match(/\d+/g)[0]||0),e=Number(this.$el.css("borderBottomWidth").match(/\d+/g)[0]||0);this.$el.height(window.innerHeight-this.$header.get(0).clientHeight-t-e);}}),ui.ComponentFactory.createPlugin({pluginMethodName:"CampaignStageComponent",View:ui.CampaignStageComponentView,selector:".ui-js-campaign-stage",reinitialize:!1}),$(ui.bootstrapCampaignStageComponent());}.call(this),!function(){"use strict";ui.CarouselAccessComponentView=ui.ComponentView.extend({name:"ui.CarouselAccessComponentView",$carousel:null,$indicators:null,$items:null,isPaused:!1,events:{"slide.bs.carousel":function slideBsCarousel(t,e){this.updateARIAStates(t,e);},"keydown .carousel-indicator-item":"keydownOnIndicator","keydown .carousel-inner":"keydownOnSlide",focusin:"pauseOnFocus"},initialize:function initialize(){this.$carousel=this.$(".carousel").length?this.$(".carousel"):this.$el,this.$indicators=this.$(".carousel-indicators .carousel-indicator-item"),this.$items=this.$(".item"),this.$modalGallery=!!this.$el.parents(".ui-js-modal-gallery").length&&$(this.$el.parents(".ui-js-modal-gallery")[0]),this.isGridGallery=!!this.$modalGallery.length&&this.$modalGallery.hasClass("is-grid-gallery");},render:function render(){return this;},keydownOnIndicator:function keydownOnIndicator(t){var e,i,_n;this.isGridGallery||(e=this,13===t.which?$(t.target).click():37!==t.which&&39!==t.which||(i=37===t.which?"left":"right",_n=function n(t){t.relatedTarget&&(t=$(t.relatedTarget).index(),e.$indicators.eq(t).focus()),e.$el.trigger("carousel:slid-manually",{direction:i,currentTarget:e.el}),e.$carousel.off("slide.bs.carousel",_n);},this.$carousel.on("slide.bs.carousel",_n)));},keydownOnSlide:function keydownOnSlide(t){var e,i,_n2;this.isGridGallery||37!==t.which&&39!==t.which||(i=37===t.which?"left":"right",(e=this).$carousel.on("slid.bs.carousel",_n2=function n(t){t.relatedTarget&&(t=$(t.relatedTarget).index(),e.$items.eq(t).find(':input, a, [tabindex="0"]').first().focus(),e.$el.trigger("carousel:slid-manually",{direction:i,currentTarget:e.el})),e.$carousel.off("slid.bs.carousel",_n2);}));},pauseOnFocus:function pauseOnFocus(){!this.isPaused&&this.$carousel&&"function"==typeof this.$carousel.carousel&&(this.$carousel.carousel("pause"),this.isPaused=!0);},updateARIAStates:function updateARIAStates(t,e){var i=0,t=t.relatedTarget||e;t&&(i=$(t).index()),this.$items.each(function(t,e){$(e).attr("aria-hidden",t!==i);}),this.$indicators.each(function(t,e){$(e).attr("aria-selected",t===i);});}}),ui.ComponentFactory.createPlugin({pluginMethodName:"CarouselAccessComponent",View:ui.CarouselAccessComponentView,selector:".ui-js-carousel"}),$(ui.bootstrapCarouselAccessComponent());}.call(this),!function(){"use strict";ui.CarouselComponentView=ui.ComponentView.extend({name:"ui.CarouselComponentView",INTERVAL:5500,ALT_CLASS:"alt-colored",INV_CLASS:"is-inverted",IS_PREV_PREV:"is-prev-prev",IS_PREV:"is-prev",IS_CURRENT:"is-current",IS_NEXT:"is-next",IS_NEXT_NEXT:"is-next-next",modalGalleryIdIdentifier:"mgId",$carousel:null,$controls:null,$prevButton:null,$nextButton:null,$carouselIndicators:null,$items:null,loop:!1,index:0,initEqualHeightCaptions:!1,isIconPreviewAndLarge:!1,$currentItem:null,touchedIndex:0,itemWidth:0,startTransition:"",startOffsetX:0,touchPointX:0,touchPointY:0,distanceX:0,distanceY:0,isMoving:!1,roundUpLimit:.5,swipeSpeedThreshold:2.2,snapInMs:250,touchStartTime:0,ON_TRANSITION_END:"transitionend",events:{"slid.bs.carousel":"onSlidEvent","click .carousel-indicator-item:not(.active)":"dispatchTrackingEvent","click .carousel-control":"dispatchTrackingEvent","touchstart .carousel-inner .item":"touchEvent","touchmove .carousel-inner .item":"touchEvent","touchend .carousel-inner .item":"touchEvent","slide.bs.carousel":"onSlideStartEvent","click .ui-js-fullscreen-btn-wrapper":"toggleFullscreen"},initialize:function initialize(){var t,i,n,e=/(ms|xs)/.test(ui.Bootstrap.activeView);this.loop=("boolean"==typeof this.setup.loop?this.setup:this).loop,this.isStoryTellingGallery=$(this.$el).hasClass("is-story-telling"),this.isStoryTellingGallery&&(this.sliderName=this.setup.data.sliderName.length?this.setup.data.sliderName:"",t=this.iPhone(),(e||t)&&this.$(".collapse").collapse("hide")),this.INTERVAL=this.setup.interval?1e3*this.setup.interval:this.INTERVAL,this.inviewClass=this.setup.inviewClass||null,this.isIconPreviewAndLarge=!e&&this.$el.hasClass("ui-js-bk-12-iconpreview-stage"),this.$carousel=this.$(".carousel").length?this.$(".carousel"):this.$el,this.$carouselItem=this.$(".carousel-indicator-item"),this.$controls=this.$(".carousel-indicators"),this.$inner=this.$(".carousel-inner"),this.$buttonControls=this.$(".carousel-control"),this.$prevButton=this.$(".left.carousel-control"),this.$nextButton=this.$(".right.carousel-control"),this.$carouselIndicators=this.$(".carousel-indicators [data-target]"),this.$items=this.$(".item"),this.$equalHeightCaptions=this.$(".js-xs-addition"),this.$modalGallery=!!this.$el.parents(".ui-js-modal-gallery").length&&$(this.$el.parents(".ui-js-modal-gallery")[0]),this.$body=$("body"),this.$pagination=this.$(".ui-js-carousel-pagination"),this.$pagination.length&&(this.$paginationCurrentIndex=this.$pagination.find(".ui-js-current-index"),this.$paginationCurrentIndex.text("1"),this.$paginationSize=this.$pagination.find(".ui-js-size"),this.$paginationSize.text(this.$items.length)),$(this.$items[this.index+1]).addClass(this.IS_NEXT),this.$modalGallery&&(this.$items.attr("tabindex","0"),this.isIE=window.navigator.msPointerEnabled,this.isGridGallery=this.$modalGallery.hasClass("is-grid-gallery")),this.recalcItems(),this.checkDisableBodyScroll(),this.initEqualHeightCaptions=0<this.$equalHeightCaptions.length,ui.on("bootstrap.activemediaquery.changed",this.applyEqualCaptionHeights.bind(this)),ui.on("bootstrap.activemediaquery.changed",this.recalcItems.bind(this)),ui.on(ui.GlobalEvents.CAROUSEL_AJAX_ITEM,this.reinitVars.bind(this)),ui.on(ui.GlobalEvents.MODAL_GALLERY_OPEN,this.reinitVars.bind(this)),this.setup.syncIconPrevId&&(i=this.rotate.bind(this),n=this,ui.on(ui.GlobalEvents.ICON_PREVIEW_TEASER_SLID,function(t,e){e===n.setup.syncIconPrevId&&i(t,!1);})),this.inviewClass&&this.$el.on("scrollhandler:inview-once",this.initCarouselApi.bind(this)),this.checkHash();},toggleSliderName:function toggleSliderName(t){""!==this.sliderName&&(this.setup.data.sliderName=t?"storytelling-gallery-fullscreen":this.sliderName);},toggleFullClass:function toggleFullClass(t){var e=!!this.$items.filter(".active").find(".caption").length&&this.$items.filter(".active").find(".caption"),i="is-hidden-on-play-video";$(t).hasClass("is-full")?($(t).removeClass("is-full"),this.toggleSliderName(!1),this.scrollToTopOfElement(),e&&$(e).hasClass(i)&&$(e).removeClass(i)):($(t).addClass("is-full"),this.toggleSliderName(!0));},toggleIphoneClass:function toggleIphoneClass(t){var e=!!this.$items.filter(".active").find(".caption").length&&this.$items.filter(".active").find(".caption"),i="is-hidden-on-play-video";$(t).hasClass("is-iphone")?($(t).removeClass("is-iphone"),$(t).removeClass("is-full"),this.toggleSliderName(!1),this.enableBodyScroll(t),this.scrollToTopOfElement(),e&&$(e).hasClass(i)&&$(e).removeClass(i)):($(t).addClass("is-iphone"),$(t).addClass("is-full"),this.toggleSliderName(!0),e=window.scrollY,window.scrollTo(0,0),window.scrollTo(0,e),this.disableBodyScroll(t));},checkDisableBodyScroll:function checkDisableBodyScroll(){bodyScrollLock.clearAllBodyScrollLocks(),this.$body.removeClass("body-is-fixed");},disableBodyScroll:function disableBodyScroll(t){this.iPhone()&&(bodyScrollLock.disableBodyScroll(t),this.$body.addClass("body-is-fixed"));},enableBodyScroll:function enableBodyScroll(t){bodyScrollLock.enableBodyScroll(t),this.$body.removeClass("body-is-fixed");},handleFullscreenChange:function handleFullscreenChange(t){t=t.target;this.toggleFullClass(t);},iPhone:function iPhone(){return["iPhone"].includes(navigator.platform);},toggleIphoneMode:function toggleIphoneMode(t){this.iPhone()&&this.toggleIphoneClass(t);},toggleFullscreen:function toggleFullscreen(){var t=this.$el[0];var e=!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement);this.toggleIphoneMode(t),e?t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),null===t.onfullscreenchange?t.onfullscreenchange=this.handleFullscreenChange.bind(this):null===t.onmsfullscreenchange?t.onmsfullscreenchange=this.handleFullscreenChange.bind(this):null===t.onwebkitfullscreenchange&&(t.onwebkitfullscreenchange=this.handleFullscreenChange.bind(this));},recalcItems:function recalcItems(){this.widthItems=$(this.$carouselItem[0]).outerWidth(),this.$transFormItem=$(this.$carouselItem[0]),this.maxItems=Math.trunc(this.$controls.outerWidth()/$(this.$carouselItem[0]).outerWidth())-1,this.maxItems>=this.$carouselItem.length-1?this.$controls.addClass("is-center"):this.$controls.removeClass("is-center");},reinitVars:function reinitVars(t){t&&t.cid&&t.cid!==this.$modalGallery.get(0).View.cid||(this.$prevButton=this.$(".left.carousel-control"),this.$nextButton=this.$(".right.carousel-control"),this.$items=this.$(".item"),this.recalcItems(),this.render(),this.updatePagination(this.index));},applyEqualCaptionHeights:function applyEqualCaptionHeights(){var e=0;"xs"===ui.Bootstrap.activeView&&this.initEqualHeightCaptions&&(this.$equalHeightCaptions.each(function(){var t=$(this).outerHeight();e=Math.max(t,e);}),0<e&&this.$equalHeightCaptions.height(e));},onSlidEvent:function onSlidEvent(t){var e,i;!this.inviewClass||this.$el.hasClass(this.inviewClass)?((e=this.$items.find(".tile-video video")).length&&e.each(function(t,e){e.pause(),e.currentTime=0;}),e=/(ms|xs)/.test(ui.Bootstrap.activeView),!(i=this.$items.filter(".active").find(".tile-video video")).length||e||this.isStoryTellingGallery||i[0].play(),this.renderControls(t),this.dispatchSlidEvent(t)):this.$carousel.carousel("pause"),this.updatePagination(this.index);},onSlideStartEvent:function onSlideStartEvent(t){this.isIE&&this.isGridGallery&&this.$modalGallery.find(".modal-body").css("direction","right"===t.direction?"ltr":"rtl");this.$items.find("iframe").length&&this.$items.find("iframe").each(function(t,e){$(e)[0].contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*");});t=$(t.target).hasClass("item")?$(t.target):$(t.relatedTarget);this.checkIfAjaxItem(t)&&!t.hasClass("is-loaded")&&this.requestItem(t,t.attr("data-ajax-url")),this.checkIfAjaxItem(t.prev())&&!t.prev().hasClass("is-loaded")&&this.requestItem(t.prev(),t.prev().attr("data-ajax-url")),this.checkIfAjaxItem(t.next())&&!t.next().hasClass("is-loaded")&&this.requestItem(t.next(),t.next().attr("data-ajax-url"));},checkIfAjaxItem:function checkIfAjaxItem(t){return void 0!==t.attr("data-ajax-url")&&""!==t.attr("data-ajax-url");},requestItem:function requestItem(e,t){$.ajax({type:"GET",dataType:"html",url:t}).done(function(t){e.html(t),e.addClass("is-loaded"),ui.trigger(ui.GlobalEvents.FRAGMENT_PLACED,e),ui.trigger(ui.GlobalEvents.CAROUSEL_AJAX_ITEM,e),ui.reinitbootstrapVendorWidgets(e),ui.bootstrapper.reinitialize({context:e.get(0)});}).fail(function(t){console.log(t);});},updatePagination:function updatePagination(t){this.index=t,this.setHashInUrl(t),this.$items.removeClass(this.IS_PREV_PREV),this.$items.removeClass(this.IS_PREV),this.$items.removeClass(this.IS_CURRENT),this.$items.removeClass(this.IS_NEXT),this.$items.removeClass(this.IS_NEXT_NEXT),$(this.$items[t]).addClass(this.IS_CURRENT),0<t&&$(this.$items[t-1]).addClass(this.IS_PREV),1===t&&$(this.$items[t-1]).addClass(this.IS_PREV_PREV),1<t&&$(this.$items[t-2]).addClass(this.IS_PREV_PREV),$(this.$items[t+1]).addClass(this.IS_NEXT),$(this.$items[t+1]).addClass(this.IS_NEXT_NEXT),$(this.$items[t+2]).addClass(this.IS_NEXT_NEXT),this.$pagination.length&&this.$paginationCurrentIndex.html(t+1),$(this.$items[t]).focus();},rotate:function rotate(t,e){var i=this;!isNaN(t)&&0<=t&&(e?this.$carousel.carousel(t):(e=this.$carousel.find(".item:nth-child("+(t+1)+")"),this.$items.css({transition:"none"}),this.$carousel.find(".item.active").removeClass("active"),e.addClass("active"),this.renderControls(),this.renderIndicators(),setTimeout(function(){i.$items.attr("style","");},0),ui.trigger(ui.GlobalEvents.CAROUSEL_SLID),e.trigger("slide.bs.carousel",e))),this.updatePagination(t);},initCarouselApi:function initCarouselApi(){var t=!!this.setup.autoplay&&this.INTERVAL;this.$carousel.carousel({wrap:this.loop,interval:t});},render:function render(){var t="carousel-component-"+this.cid;return this.$carousel.attr("id",t),this.$carouselIndicators.attr("data-target","#"+t),this.$prevButton.attr("href","#"+t),this.$nextButton.attr("href","#"+t),this.applyEqualCaptionHeights(),this.renderControls(),this.initCarouselApi(),this;},renderControls:function renderControls(){var t,e=this.$(".carousel-inner .item.active"),e=(this.$controls.toggleClass(this.INV_CLASS,e.hasClass(this.INV_CLASS)),this.$controls.toggleClass(this.ALT_CLASS,e.hasClass(this.ALT_CLASS)),this.$buttonControls.toggleClass(this.INV_CLASS,e.hasClass(this.INV_CLASS)),this.loop?(this.$prevButton.removeClass("hidden"),this.$nextButton.removeClass("hidden")):(this.$prevButton.toggleClass("hidden",0===e.index()),this.$nextButton.toggleClass("hidden",e.index()===this.$items.length-1)),ui.Bootstrap?ui.Bootstrap.activeView:"");this.$el.hasClass("has-thumbnails")&&!/xs|ms/.test(e)?((t=this.$carouselItem.index(this.$carouselItem.filter(".active")))>=this.maxItems?t>=this.$carouselItem.length-1?this.$transFormItem.css("marginLeft",-((t-this.maxItems)*this.widthItems)+"px"):this.$transFormItem.css("marginLeft",-((t+1-this.maxItems)*this.widthItems)+"px"):t<this.maxItems&&this.$transFormItem.css("marginLeft",0),this.maxItems>=this.$carouselItem.length-1?this.$controls.addClass("is-center"):this.$controls.removeClass("is-center")):this.$el.hasClass("has-thumbnails")&&/xs|ms/.test(e)&&this.$transFormItem.css("marginLeft",0);},renderIndicators:function renderIndicators(){var t=this.$(".carousel-inner .item.active").index();this.$carouselIndicators.length&&this.$carouselIndicators[t]&&(this.$carouselIndicators.removeClass("active"),this.$carouselIndicators.eq(t).addClass("active"));},dispatchSlidEvent:function dispatchSlidEvent(t){var e;this.index=t.relatedTarget?$(t.relatedTarget).index():0,this.setup.syncIconPrevId?ui.trigger(ui.GlobalEvents.CAROUSEL_SLID,{event:t,position:this.index,carouselId:this.setup.syncIconPrevId}):ui.trigger(ui.GlobalEvents.CAROUSEL_SLID),this.isManualSlide?(this.isManualSlide=!1,(this.setup.syncIconPrevId||this.isStoryTellingGallery)&&(e=$(t.currentTarget).prop("View"),$(t.currentTarget).trigger("carousel:slid-manually",{direction:"right"===t.direction?"left":"right",currentTarget:this.el,nextIndex:e.index}))):this.$el.trigger("carousel:slid-auto",{direction:"right",position:this.index,currentTarget:this.el});},setHashInUrl:function setHashInUrl(t){void 0===t&&(t=this.index),this.setUrl=!!this.$el.attr("data-seturl")&&this.$el.attr("data-seturl"),this.setUrl&&!this.$el.parents(".ui-js-history").length&&(t=-1<t?this.setUrl+":mgId="+parseInt(t+1):this.setUrl,location.hash=t);},dispatchTrackingEvent:function dispatchTrackingEvent(t,e,i){var n,t=$(t.currentTarget),s=t.length?t.index():0;if(e&&!isNaN(e))n=e<0?"left":"right";else switch(!0){case t.is(".carousel-control.right"):n="right";break;case t.is(".carousel-control.left"):n="left";break;case s>this.index:n="right";break;case s<this.index:n="left";}this.isManualSlide=!0,this.isStoryTellingGallery||this.$el.trigger("carousel:slid-manually",{targetPos:i,direction:n,currentTarget:this.el});},transformItemMove:function transformItemMove(t){t&&t.$item&&t.$item.length&&(t.width?t.$item.css({display:"block",position:"absolute",transform:"translate3d("+(t.offset||0)+"px, 0, 0)",transitionDuration:(t.duration||0)+"ms",width:t.width,left:t.left||"auto",right:t.right||"auto",top:this.$inner.css("paddingTop")}):t.$item.css({transform:"translate3d("+(t.offset||0)+"px, 0, 0)",transitionDuration:(t.duration||0)+"ms"}));},transformItemEnd:function transformItemEnd(t){this.transformItemMove({$item:this.$currentItem,duration:this.snapInMs,offset:t}),0<this.distanceX?this.transformItemMove({$item:this.$items.eq((this.touchedIndex+1)%this.$items.length),duration:this.snapInMs,offset:t}):this.transformItemMove({$item:this.$items.eq(this.touchedIndex-1),duration:this.snapInMs,offset:t});},touchEvent:function touchEvent(t){var e,i,n,s,o,a,r=null,l=this;if(t.originalEvent&&t.originalEvent.changedTouches&&!this.isIconPreviewAndLarge)switch(r=t.originalEvent.changedTouches[0],t.type){case"touchstart":this.$currentItem=$(t.currentTarget),this.touchedIndex=$(t.currentTarget).index(),this.itemWidth=this.$items.filter(".active").outerWidth(),this.touchPointX=r.pageX,this.touchPointY=r.pageY,this.touchStartTime=new Date().getTime(),this.$carousel.carousel("pause"),this.isMoving||this.$currentItem.addClass("is-touched"),this.isMoving=!0;break;case"touchmove":if(this.touchPointX){if(this.distanceX=this.touchPointX-r.pageX,this.distanceY=this.touchPointY-r.pageY,Math.abs(this.distanceX)<Math.abs(this.distanceY)&&!$(l.$el[0]).hasClass("is-full")&&!$(l.$el[0]).hasClass("is-iphone")){this.touchPointX=0;break;}if(this.distanceX>=this.itemWidth||-this.distanceX>=this.itemWidth)break;t.preventDefault(),this.setup.slideAllItems||(this.transformItemMove({$item:this.$currentItem,offset:-this.distanceX-this.startOffsetX}),0<this.distanceX?this.transformItemMove({$item:this.$items.eq((this.touchedIndex+1)%this.$items.length),offset:-this.distanceX-this.startOffsetX,width:this.itemWidth,left:this.itemWidth}):this.transformItemMove({$item:this.$items.eq(this.touchedIndex-1),offset:-this.distanceX-this.startOffsetX,width:this.itemWidth,right:this.itemWidth}));}break;case"touchend":this.isMoving&&(e=this.distanceX/this.itemWidth,a=(new Date().getTime()-this.touchStartTime)/Math.abs(this.distanceX),a=Math.abs(a)<this.swipeSpeedThreshold?0<e?Math.ceil(e):Math.floor(e):this.round(e),e=Math.sign(a),n=this.$items.length,n=0<=(i=-1===e?this.touchedIndex-1:this.touchedIndex+1)?i%n:(n+i)%n,s=-this.itemWidth*e,o=function o(){l.$currentItem.attr("style",""),l.$items.eq((l.touchedIndex+1)%l.$items.length).attr("style",""),l.$items.eq(l.touchedIndex-1).attr("style",""),l.$items.removeClass("is-touched");},0!==a?this.setup.slideAllItems?-1<(i=-1===e?this.index-1:this.index+1)&&i<this.$items.length&&(this.rotate(i,!1),this.updatePagination(i),this.dispatchTrackingEvent(t,e,i),this.$el.trigger(ui.GlobalEvents.CAROUSEL_TOUCHEND,{currentTarget:this.el,targetPos:i})):(this.transformItemEnd(s),a=this.rotate.bind(this,n,!1),this.updatePagination(n),this.callAfterTransition(o,"transform"),this.callAfterTransition(a,"transform"),this.dispatchTrackingEvent(t,e,n),this.$el.trigger(ui.GlobalEvents.CAROUSEL_TOUCHEND,{currentTarget:this.el,targetPos:n})):(this.transformItemEnd(0),this.callAfterTransition(o,"transform")),this.distanceY<-150&&l.isStoryTellingGallery&&($(l.$el[0]).hasClass("is-full")&&l.toggleFullClass(l.$el[0]),$(l.$el[0]).hasClass("is-iphone")&&l.toggleIphoneClass(l.$el[0])),this.touchPointX=0,this.distanceX=0,this.isMoving=!1);}},scrollToTopOfElement:function scrollToTopOfElement(){var t=this.$el.offset().top-30;$("html,body").animate({scrollTop:t},250);},callAfterTransition:function callAfterTransition(e,i){var n=this;this.undelegateEvents(),this.$currentItem.on(this.ON_TRANSITION_END,function(t){t.originalEvent&&t.originalEvent.propertyName!==i||t.target.className&&!/item/gi.test(t.target.className)||(n.$currentItem.off(n.ON_TRANSITION_END),e(),n.delegateEvents());});},checkHash:function checkHash(){var t;this.$carouselItem&&0<this.$carouselItem.length&&window.location.hash&&"?"!==window.location.hash.charAt(1)&&(t=(t=this.$carouselItem.filter(function(t,e){return window.location.hash==="#"+e.id;}))?this.$carouselItem.index(t):null,void 0!==this.setup.syncIconPrevId&&t?ui.trigger(ui.GlobalEvents.ICON_PREVIEW_TEASER_SLID,t,this.setup.syncIconPrevId):t&&this.rotate(t,!1));},round:function round(t){return 0<t?t+this.roundUpLimit|0:0|-((t=-t)+this.roundUpLimit);},closeView:function closeView(){this.unbind(),this.remove();}}),ui.ComponentFactory.createPlugin({pluginMethodName:"CarouselComponent",View:ui.CarouselComponentView,selector:".ui-js-carousel",reinitialize:!0}),$(ui.bootstrapCarouselComponent());}.call(this),!function(){"use strict";ui.Chart=ui.ComponentView.extend({name:"ui.Chart",state:!(!window.history||!window.history.replaceState)||!1,events:{"click .ui-js-c213-chart-switchbtn":"onSwitchChartTable"},initialize:function initialize(t){this.chartTypes=["bar","horizontalBar","doughnut"],this.themes={default:["#ff6600","#ffa564","#dd4509","#fe8e41","#ffd3b4","#fd4800","#cfcac7","#888888","#9f9690","#3c3c3c","#666666","#333333"],nachhaltigkeit:["#37AA41","#004735","#E8F2E6","#6EC175","#BDE2C0","#097E3B","#082422","#00642B","#F26505","#FFA564","#F38433","#D14B16"]},this.options={bar:{tooltips:{mode:"index",intersect:!1},scales:{xAxes:[{stacked:!0,display:!0,gridLines:{display:!1},scaleLabel:{display:!0,padding:7}}],yAxes:[{stacked:!0,scaleLabel:{display:!0,padding:7},gridLines:{color:"#e1e1e1",drawBorder:!1,tickMarkLength:0},ticks:{labelOffset:1,padding:7}}]}},horizontalBar:{tooltips:{mode:"index",intersect:!1},scales:{xAxes:[{stacked:!0,scaleLabel:{display:!0,padding:7},gridLines:{color:"#e1e1e1",drawBorder:!1,tickMarkLength:0},ticks:{labelOffset:1,padding:7}}],yAxes:[{stacked:!0,display:!0,gridLines:{display:!1},scaleLabel:{display:!0,padding:7}}]}},doughnut:{animation:{animateScale:!0,animateRotate:!0}}},this.config=t.chart,this.config&&(this.config.id=Math.round(1e5*Math.random()),this.initialSetup());},initialSetup:function initialSetup(){this.chartType=this.config.type&&-1!==this.chartTypes.indexOf(this.config.type)?this.config.type:"bar",this.setTable(),this.createSwitcher(),this.createCanvas(),this.tableContainer.setAttribute("hidden",!0),this.currentTheme=this.config.theme&&Object.prototype.hasOwnProperty.call(this.themes,this.config.theme)?this.themes[this.config.theme]:this.themes.default,this.data="doughnut"===this.chartType?this.getDataDoughnut():this.getDataBar();},setTable:function setTable(){this.tableContainer=this.el.querySelector(".richtext .table-responsive"),this.tableContainer.id="tabpanel-table-"+this.config.id,this.tableContainer.setAttribute("role","tabpanel"),this.tableContainer.setAttribute("aria-labelledby","tab-table-"+this.config.id),$(this.tableContainer).addClass("ui-c213-table-container");},setSwitchActive:function setSwitchActive(t){$(t).addClass("active"),t.setAttribute("aria-selected",!0),t.removeAttribute("tabindex");},setSwitchDefault:function setSwitchDefault(t){t.setAttribute("aria-selected",!1),t.setAttribute("tabindex",-1);},createSwitcher:function createSwitcher(){var _this3=this;var i=document.createElement("div");$(i).addClass("ui-btn-group-switch btn-group btn-group-sm"),i.setAttribute("role","tablist");["chart","table"].forEach(function(t){var e=document.createElement("button");$(e).addClass("ui-js-c213-chart-switchbtn ui-js-c213-chart-switchbtn--"+t+" btn btn-outline-darkgrey"),e.id="tab-"+t+"-"+_this3.config.id,e.textContent=t,e.setAttribute("role","tab"),e.setAttribute("aria-controls","tabpanel-"+t+"-"+_this3.config.id),!_this3.config[t+"BtnTitle"]&&""===_this3.config[t+"BtnTitle"]||(e.title=_this3.config[t+"BtnTitle"]),_this3.setSwitchDefault(e),"chart"===t&&_this3.setSwitchActive(e),i.appendChild(e);}),this.tableContainer.parentNode.insertBefore(i,this.tableContainer);},createCanvas:function createCanvas(){this.canvasContainer=document.createElement("div"),this.canvasContainer.id="tabpanel-chart-"+this.config.id,this.canvasContainer.setAttribute("role","tabpanel"),this.canvasContainer.setAttribute("aria-labelledby","tab-chart-"+this.config.id),$(this.canvasContainer).addClass("ui-c213-chart-container"),this.canvas=document.createElement("canvas"),this.canvas.setAttribute("role","img"),this.config.ariaLabel&&this.canvas.setAttribute("aria-label",this.config.ariaLabel),this.canvasContainer.appendChild(this.canvas),this.tableContainer.parentNode.insertBefore(this.canvasContainer,this.tableContainer);},onSwitchChartTable:function onSwitchChartTable(e){e=e.target;var i=$(e);if(!i.hasClass("active")){var t=this.el.querySelector(".ui-js-c213-chart-switchbtn--table");i.hasClass("ui-js-c213-chart-switchbtn--table")?(this.canvasContainer.setAttribute("hidden",!0),this.tableContainer.removeAttribute("hidden"),t=this.el.querySelector(".ui-js-c213-chart-switchbtn--chart")):(this.tableContainer.setAttribute("hidden",!0),this.canvasContainer.removeAttribute("hidden")),this.setSwitchDefault(t),$(t).removeClass("active"),this.setSwitchActive(e);}},getDataDoughnut:function getDataDoughnut(){var _this4=this;var t=this.el.querySelector(".ui-c213-chart-table .table");var i=null;var n=[],s=[],o=[];Object.values(t.querySelectorAll("tbody tr")).forEach(function(t,e){0===e&&(i=Array.from(t.children).findIndex(function(t){return"TH"===t.tagName;})),n[e]=void 0!==i?t.children[i].textContent:"";t=Array.from(t.children).find(function(t){return"TD"===t.tagName;});s[e]=t?t.textContent:"",o[e]=_this4.currentTheme[e%_this4.currentTheme.length];});var e=Object.values(t.querySelectorAll("thead th, thead td strong")).find(function(t,e){return""!==t.textContent||e!==i;});return{labels:n,datasets:[{data:s,backgroundColor:o,hoverBackgroundColor:o,borderWidth:4.5,hoverBorderWidth:0,label:e?e.textContent:""}]};},getDataBar:function getDataBar(){var _this5=this;var s=null;var t=this.el.querySelector(".ui-c213-chart-table .table");var e=Object.values(t.querySelectorAll("tbody tr")).reduce(function(t,e,i){0===i&&(s=Array.from(e.children).findIndex(function(t){return"TH"===t.tagName;}));var n=Array.from(e.children).reduce(function(t,e){return"TD"===e.tagName&&t.push(e.textContent),t;},[]);return t.push({label:void 0!==s?e.children[s].textContent:"",backgroundColor:_this5.currentTheme[i%_this5.currentTheme.length],hoverBackgroundColor:_this5.currentTheme[i%_this5.currentTheme.length],borderWidth:0,data:n}),t;},[]);return{labels:Object.values(t.querySelectorAll("thead th, thead td strong")).reduce(function(t,e,i){return""!==e.textContent&&i!==s&&t.push(e.textContent),t;},[]),datasets:e};},render:function render(){var t;this.canvas&&(t=this.canvas.getContext("2d"),Chart.defaults.global.defaultFontColor="#000",Chart.defaults.global.defaultFontFamily='"Helvetica Now Micro Regular", Helvetica, sans-serif',Chart.defaults.global.tooltips.backgroundColor="#333333",Chart.defaults.global.tooltips.cornerRadius=1,Chart.defaults.global.tooltips.yPadding=5,Chart.defaults.global.tooltips.titleFontSize=14,Chart.defaults.global.tooltips.titleMarginBottom=10,Chart.defaults.global.tooltips.titleSpacing=6,Chart.defaults.global.tooltips.bodySpacing=6,this.chart=new Chart(t,{type:this.chartType,data:this.data,options:Object.assign(this.options[this.chartType],{responsive:!0,maintainAspectRatio:!1,title:{display:!!this.config.title,text:this.config.title,padding:30,fontSize:16},legend:{position:"bottom",align:"start",labels:{boxWidth:12,lineHeight:1.5,padding:15}}},{})}));}}),ui.ComponentFactory.createPlugin({pluginMethodName:"ChartComponent",View:ui.Chart,selector:".ui-js-c213-chart",reinitialize:!1}),$(ui.bootstrapChartComponent());}.call(this),!function(){"use strict";ui.CircleTeaserComponentView=ui.ComponentView.extend({name:"ui.CircleTeaserComponentView",events:{mouseover:"handleHover",mouseleave:"handleHoverLeave",touchstart:"handleHover",touchend:"handleHoverLeave"},initialize:function initialize(t){this.imageWrapper=this.$el.find(".circle-teaser__img-wrapper"),this.imageBackground=this.imageWrapper[0].dataset.background||null,this.imageBackgroundHover=this.imageWrapper[0].dataset.backgroundhover||null,this.setBackground(this.imageBackground);},iPhone:function iPhone(){return["iPhone"].includes(navigator.platform);},handleHover:function handleHover(t){var e=this.iPhone(),t="mouseover"===t.type;e&&t||(this.imageWrapper.removeClass("is-default"),this.setBackground(this.imageBackgroundHover));},handleHoverLeave:function handleHoverLeave(){this.setBackground(this.imageBackground),this.imageWrapper.addClass("is-default");},setBackground:function setBackground(t){null!==t&&(this.imageWrapper[0].style.backgroundImage="url("+t+")");}}),ui.ComponentFactory.createPlugin({pluginMethodName:"CircleTeaserComponent",View:ui.CircleTeaserComponentView,selector:".ui-js-circle-teaser",reinitialize:!1}),$(ui.bootstrapCircleTeaserComponent());}.call(this),!function(){"use strict";ui.ClipboardComponentView=ui.ComponentView.extend({name:"ui.ClipboardComponentView",events:{"click .ui-js-clipboard-btn":"onCopyToClipboard"},initialize:function initialize(t){this.copyField=t.copyField?this.el.querySelector(t.copyField):null;},onCopyToClipboard:function onCopyToClipboard(t){t.preventDefault(),this.copyField&&(this.copyField.select(),this.copyField.setSelectionRange(0,99999),document.execCommand("copy"));}}),ui.ComponentFactory.createPlugin({pluginMethodName:"ClipboardComponent",View:ui.ClipboardComponentView,selector:".ui-js-clipboard"}),$(ui.bootstrapClipboardComponent());}.call(this),!function(){"use strict";ui.CollapseListComponentView=ui.ComponentView.extend({name:"ui.CollapseListComponentView",defaults:{hiddenClass:"hidden"},events:{"click .js-collapse-btn":"onCollapseBtnClick"},isCollapsed:!0,initialize:function initialize(){this.$collapseBtnContainer=this.$(".js-collapse-btn-container"),this.$collapseBtn=this.$(".js-collapse-btn"),this.$collapseItems=this.$(".js-item"),this.initialButtonValue=this.$collapseBtn.text(),this.altButtonValue=this.$collapseBtn.data("toggleText"),ui.on("bootstrap.activemediaquery.changed",this.onMediaQueryChange.bind(this));},onCollapseBtnClick:function onCollapseBtnClick(){this.isCollapsed?(this.showAll(),this.isCollapsed=!1):(this.render(),this.isCollapsed=!0),this.toggleControlButtonText();},onMediaQueryChange:function onMediaQueryChange(){this.render();},showAll:function showAll(){this.$collapseItems.removeClass(this.setup.hiddenClass),this.isCollapsed=!1;},applyDisplayItemsLimit:function applyDisplayItemsLimit(t){t<this.$collapseItems.length&&(this.showControlButton(),this.isCollapsed=!0),this.$collapseItems.removeClass(this.setup.hiddenClass).filter(":gt("+(t-1)+")").addClass(this.setup.hiddenClass);},toggleControlButtonText:function toggleControlButtonText(){var t=this.isCollapsed&&this.setup.limit[ui.Bootstrap.activeView]<this.$collapseItems.length;this.$collapseBtn.text(t?this.initialButtonValue:this.altButtonValue);},showControlButton:function showControlButton(){this.$collapseBtnContainer.removeClass(this.setup.hiddenClass);},hideControlButton:function hideControlButton(){this.$collapseBtnContainer.addClass(this.setup.hiddenClass);},noLimits:function noLimits(){this.showAll(),this.hideControlButton();},render:function render(){return this.setup.limit&&!isNaN(this.setup.limit[ui.Bootstrap.activeView])?this.applyDisplayItemsLimit(this.setup.limit[ui.Bootstrap.activeView]):this.noLimits(),this.toggleControlButtonText(),this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"CollapseListComponent",View:ui.CollapseListComponentView,selector:".ui-js-collapse-list"}),$(ui.bootstrapCollapseListComponent());}.call(this),!function(){"use strict";ui.ContentTabsComponentView=ui.ComponentView.extend({name:"ui.ContentTabsComponentView",state:!(!window.history||!window.history.replaceState)||!1,initialize:function initialize(t){this.fixedClass="fixed-item",this.hideClass="hide-item",this.activeClass="active",this.bodyEl=document.body,this.htmlEl=document.documentElement,this.ticking=!1,this.fadeOutTime=250,this.urlHash=window.location.hash||!1,this.initialSetup(),this.item&&this.contentArea&&this.bindEvents();},render:function render(){var t=this.$('a[href="'+window.location.hash+'"]'),e=this;t.length&&!1!==this.urlHash&&(t.tab("show"),setTimeout(function(){$("html,body").animate({scrollTop:t.offset().top},e.fadeOutTime);},50));},initialSetup:function initialSetup(){this.isMobile=/(ms|xs)/.test(ui.Bootstrap.activeView),this.item=this.$el.find(".ui-js-item"),this.contentArea=this.$el.find(".ui-js-content"),this.scrollPosition=0,this.topOfElement=this.$el.offset().top-30,this.contentAreaTop=this.contentArea?$(this.contentArea).offset().top:0,this.itemLeft=this.item?this.item[0].getBoundingClientRect().left+"px":null,this.itemWidth=this.contentArea?this.contentArea[0].getBoundingClientRect().width+"px":null,this.btn=this.$el.find(".ui-js-btn"),this.btnWrapper=this.$el.find(".ui-js-btn-wrapper");},bindEvents:function bindEvents(){$(window).on("scroll",this.handleScroll.bind(this)),ui.on("bootstrap.activemediaquery.changed",this.handleResize.bind(this)),$(window).on("resize",this.handleResize.bind(this)),this.btn&&this.btnWrapper&&$(this.btn).on("click",this.handleBtnClick.bind(this));},handleScroll:function handleScroll(){this.requestTick();},requestTick:function requestTick(){this.ticking||requestAnimationFrame(this.triggerScrollDown.bind(this)),this.ticking=!0;},triggerScrollDown:function triggerScrollDown(){this.ticking=!1,this.bodyTopPosition=this.bodyEl.scrollTop||this.htmlEl.scrollTop,this.isInView=this.bodyTopPosition>=this.contentAreaTop,this.isScrollingDown=this.bodyTopPosition>this.scrollPosition;var t=this.bodyTopPosition-this.contentAreaTop<=15&&0<this.bodyTopPosition-this.contentAreaTop;this.isInView&&this.isMobile?this.isScrollingDown?this.hideItem():(this.fixAndShowItem(),t&&this.hideItem()):(this.unfixItem(),this.showItem(),$(window).off("scroll",this.handleScroll.bind(this))),this.scrollPosition=this.bodyTopPosition;},handleBtnClick:function handleBtnClick(t){if(t.currentTarget.hasAttribute("href")&&this.setHashInUrl(t.currentTarget.getAttribute("href")),this.isMobile){if($(t.currentTarget).closest(this.btnWrapper).hasClass(this.activeClass))return!1;$("html,body").animate({scrollTop:this.topOfElement},this.fadeOutTime);}},setHashInUrl:function setHashInUrl(t){this.state?window.history.replaceState({},"",t):window.location.hash=t;},handleResize:function handleResize(){this.initialSetup(),this.isMobile?$(this.item.hasClass(this.fixedClass))&&(this.item[0].style.left=this.itemLeft,this.item[0].style.width=this.itemWidth):(this.unfixItem(),this.showItem());},unfixItem:function unfixItem(){$(this.item).removeClass(this.fixedClass),this.isMobile||(this.item[0].style.left="auto",this.item[0].style.width="auto");},fixAndShowItem:function fixAndShowItem(){this.fixItem(),this.showItem();},showItem:function showItem(){$(this.item).removeClass(this.hideClass);},fixItem:function fixItem(){this.item[0].style.left=this.itemLeft,this.item[0].style.width=this.itemWidth,$(this.item).addClass(this.fixedClass);},hideItem:function hideItem(){$(this.item).addClass(this.hideClass);}}),ui.ComponentFactory.createPlugin({pluginMethodName:"ContentTabsComponent",View:ui.ContentTabsComponentView,selector:".ui-js-c296-content-tabs",reinitialize:!1}),$(ui.bootstrapContentTabsComponent());}.call(this),!function(){"use strict";ui.CounterModuleComponentView=ui.ComponentView.extend({name:"ui.CounterModuleComponentView",events:{"scrollhandler:inview-once":"toggleInview","scrollhandler:inview":"toggleInview"},initialize:function initialize(t){this.$counter=this.$el.find(".ui-js-count"),this.isAnimated=!1,this.wasOut=!0,this.requestID=void 0,this.startTime=void 0,this.endTime=void 0;},toggleInview:function toggleInview(t,e){e.inViewport&&this.wasOut?(this.setCounter(),this.wasOut=!1):e.inViewport||this.wasOut||(this.wasOut=!0);},setCounter:function setCounter(){var e;this.isAnimated||((e=this).isAnimated=!0,this.$counter.each(function(){$(this).prop("counter",0).animate({counter:$(this).data("number")},{duration:$(this).data("duration"),easing:"swing",step:function step(t){$(this).text(e.separateNumber(Math.ceil(t)));},complete:function complete(){e.isAnimated=!1;}});}));},separateNumber:function separateNumber(t){for(;/(\d+)(\d{3})/.test(t.toString());){t=t.toString().replace(/(\d+)(\d{3})/,"$1’$2");}return t;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"CounterModuleComponent",View:ui.CounterModuleComponentView,selector:".ui-counter-module",reinitialize:!0}),$(ui.bootstrapCounterModuleComponent());}.call(this),!function(){"use strict";ui.DonatePointsView=ui.ComponentView.extend({name:"ui.DonatePointsView",events:{"change :radio":"action"},initialize:function initialize(t){this.$form=this.$("form"),this.$radios=this.$form.find(":radio");},action:function action(t){var e=this;this.$radios.trigger("validate"),setTimeout(function(){e.$form.find(":input:disabled").closest(".form-group").removeClass("invalid").find(".error-box").addClass("hidden");},0);},render:function render(){this.$radios.closest(".form-group").find(".error-box").slice(1).hide();}}),ui.ComponentFactory.createPlugin({pluginMethodName:"DonatePointsView",View:ui.DonatePointsView,selector:".ui-js-donate-cumulus-points"}),$(ui.bootstrapDonatePointsView(".ui-js-donate-cumulus-points"));}.call(this),!function(){"use strict";ui.IframeHeightView=ui.ComponentView.extend({name:"ui.IframeHeightView",$IFrame:null,initialize:function initialize(t){this.$IFrame=this.$el,this.onLoadIFrame();},onLoadIFrame:function onLoadIFrame(){var t=this;this.$IFrame&&this.$IFrame.length&&this.$IFrame.on("load",function(){t.getIFrameHeight(),$(window).on("resize",t.getIFrameHeight.bind(t));});},getIFrameHeight:function getIFrameHeight(){this.$el&&this.$el.length&&this.$el[0].contentWindow.document.documentElement.offsetHeight&&(this.$el[0].style.visibility="hidden",this.setIFrameWrapperHeight(this.$el[0].contentWindow.document.documentElement.offsetHeight),this.$el[0].style.visibility="visible");},setIFrameWrapperHeight:function setIFrameWrapperHeight(t){var e=this.$IFrame.closest(".js-frame-wrapper");e&&e.length&&e.css("height",t+"px");}}),ui.ComponentFactory.createPlugin({pluginMethodName:"IframeHeight",View:ui.IframeHeightView,selector:".ui-js-iframe-height",reinitialize:!0}),$(ui.bootstrapIframeHeight());}.call(this),!function(){"use strict";ui.EllipsisTextComponentView=ui.ComponentView.extend({name:"ui.EllipsisTextComponentView",events:{"click .ui-js-dot-more":"showMoreText","click .ui-js-dot-less":"showLessText"},initialize:function initialize(t){t.moreButton?this.initMoreButton(t):this.$el.dotdotdot({watch:this.el});},initMoreButton:function initMoreButton(){this.$el.dotdotdot({watch:this.el,after:".ui-js-dot-more",callback:function callback(t,e){t&&$(this).addClass("is-truncated");}});},showMoreText:function showMoreText(t){var e=$(t.currentTarget).closest(this.$el);t.preventDefault(),e.trigger("destroy").removeClass("is-truncated").addClass("isnt-truncated");},showLessText:function showLessText(t){var e=$(t.currentTarget).closest(this.$el);t.preventDefault(),e.removeClass("isnt-truncated"),this.initMoreButton(e);}}),ui.ComponentFactory.createPlugin({pluginMethodName:"EllipsisTextComponent",View:ui.EllipsisTextComponentView,selector:".ui-js-ellipsis"}),$(ui.bootstrapEllipsisTextComponent());}.call(this),!function(){"use strict";ui.events=ui.events||{},ui.events.EventAccordion=ui.ComponentView.extend({name:"ui.events.EventAccordion",events:{"click .js-event-accordion-toggle-button":"onToggleButtonClick"},initialize:function initialize(){},onToggleButtonClick:function onToggleButtonClick(t){t.preventDefault(),this.collapsableEl.collapse("toggle");},onShowCollapsable:function onShowCollapsable(){this.collapsableButton.text(this.closeText).removeClass("collapsed");},onHideCollapsable:function onHideCollapsable(){this.collapsableButton.text(this.openText).addClass("collapsed");},render:function render(){return this.collapsableEl=this.$(".collapse"),this.collapsableButton=this.$(".js-event-accordion-toggle-button"),this.openText=this.collapsableButton.data("openText"),this.closeText=this.collapsableButton.data("closeText"),this.collapsableEl.on("show.bs.collapse",this.onShowCollapsable.bind(this)),this.collapsableEl.on("hide.bs.collapse",this.onHideCollapsable.bind(this)),this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"EventAccordionComponent",View:ui.events.EventAccordion,selector:".ui-js-events-item"}),$(ui.bootstrapEventAccordionComponent());}.call(this),!function(){"use strict";ui.ExpanderComponentView=ui.ComponentView.extend({name:"ui.ExpanderComponentView",defaults:{hiddenClass:"is-hidden",expandableClass:"is-expandable",expandableAgainClass:"is-expandable-again",expandClass:"is-expanded",lineHeight:18,lines:4,expandBetween:{xs:!1,ms:!1,sm:!1,md:!1,lg:!1},parentSelectJumpSel:!1,stickyHeaderSel:!1,maxHeight:"500",viewports:"md|lg",scopeSel:".ui-js-expander-scope",btnMore:".ui-js-expander-more",btnMoreBetween:".ui-js-expander-more-between",btnLess:".ui-js-expander-less",contentSel:".ui-js-expander-content"},initialize:function initialize(t){this.lineHeight=t.lineHeight||this.defaults.lineHeight,this.lines=t.lines||this.defaults.lines,this.expandBetween=t.expandBetween||this.defaults.expandBetween,this.parentSelectJumpSel=t.parentSelectJumpSel||this.defaults.parentSelectJumpSel,this.$parentJump=!!this.parentSelectJumpSel&&this.$el.parents(this.parentSelectJumpSel),this.stickyHeaderSel=t.stickyHeaderSel||this.defaults.stickyHeaderSel,this.$stickyHeader=!!this.stickyHeaderSel&&$(this.stickyHeaderSel),this.contentHeight=this.lineHeight*this.lines,this.$btnMore=this.$el.find(this.defaults.btnMore),this.$btnMoreBetween=this.$el.find(this.defaults.btnMoreBetween),this.$btnLess=this.$el.find(this.defaults.btnLess),this.viewportRegEx=new RegExp(t.viewports||this.defaults.viewports),this.$modalElm=this.$el.parents(".ui-js-modal-gallery"),this.$carouselElm=this.$el.parents(".ui-js-carousel"),this.$carouselItemElm=this.$el.parents(".item"),this.$contentExpander=this.$el.find(this.defaults.contentSel),this.$scopeElements=this.$el.find(this.defaults.scopeSel),this.$allContentElements=this.$contentExpander.find("> *"),this.$btnMore.addClass(this.defaults.hiddenClass),this.$btnMoreBetween.addClass(this.defaults.hiddenClass),this.$btnLess.addClass(this.defaults.hiddenClass),this.expanded=!1,this.betweenExpanded=!1,this.check=!0,this.sum=0,this.init=!0,this.bindEvents(),this.checkContentHeight();},bindEvents:function bindEvents(){ui.on("bootstrap.activemediaquery.changed",this.updateView.bind(this)),this.$btnMore.on("click",this.setExpand.bind(this)),this.$btnMoreBetween.on("click",this.setExpand.bind(this)),this.$btnLess.on("click",this.setCollapse.bind(this)),this.$modalElm.length&&this.$modalElm.on("shown.bs.modal",this.checkContentHeight.bind(this)),this.$carouselElm.length&&this.$carouselElm.on("slide.bs.carousel",this.checkContentHeight.bind(this));},getContentHeight:function getContentHeight(t){var i=0;return t.each(function(t,e){i+=e.clientHeight;}),i;},checkContentHeight:function checkContentHeight(t){var e;this.check&&(e=this,setTimeout(function(){e.checkIfUpdateView();},100));},checkIfUpdateView:function checkIfUpdateView(){var t=this;0===t.sum?t.sum=t.getContentHeight(t.$scopeElements):t.sum=0,t.sum>=t.contentHeight?(t.updateView(),t.check=!1):(0<t.sum&&t.sum<t.contentHeight&&(t.check=!1),ui.trigger(ui.GlobalEvents.EXPANDER_UPDATEVIEW,{context:t.$el,init:t.init}),t.init=!1);},setExpand:function setExpand(t){t&&t.preventDefault();t=parseInt(this.getContentHeight(this.$allContentElements))+4;this.expanded=!0,this.$btnMore.addClass(this.defaults.hiddenClass),this.$btnMoreBetween.addClass(this.defaults.hiddenClass),this.$btnLess.removeClass(this.defaults.hiddenClass),this.$contentExpander.addClass(this.defaults.expandClass),this.expandBetween[ui.Bootstrap.activeView]&&t>this.expandBetween[ui.Bootstrap.activeView]&&!this.betweenExpanded&&(t=this.expandBetween[ui.Bootstrap.activeView],this.expanded=!1,this.betweenExpanded=!0,this.$btnMoreBetween.removeClass(this.defaults.hiddenClass),this.$contentExpander.removeClass(this.defaults.expandClass)),this.$contentExpander.css({height:t+"px"}),ui.trigger(ui.GlobalEvents.EXPANDER_UPDATEVIEW,{context:this.$el,init:this.init}),this.init=!1;},setCollapse:function setCollapse(t){t&&t.preventDefault();var e,i=this;this.expanded=!1,this.betweenExpanded=!1,this.$btnMore.removeClass(this.defaults.hiddenClass),this.$btnMoreBetween.addClass(this.defaults.hiddenClass),this.$btnLess.addClass(this.defaults.hiddenClass),this.$contentExpander.css({height:this.contentHeight-this.defaults.lineHeight/2+"px"}).removeClass(this.defaults.expandClass),ui.trigger(ui.GlobalEvents.EXPANDER_UPDATEVIEW,{context:i.$el,init:i.init}),this.init=!1,t&&this.$parentJump&&(e=0,this.$stickyHeader&&(e=this.$stickyHeader.outerHeight(!0)),setTimeout(function(){$("html, body").animate({scrollTop:i.$parentJump.offset().top-e},{duration:400,complete:function complete(){ui.trigger(ui.GlobalEvents.EXPANDER_SCROLLBACK);}});},200));},removeExpander:function removeExpander(){this.expanded=!1,this.$btnMore.addClass(this.defaults.hiddenClass),this.$btnMoreBetween.addClass(this.defaults.hiddenClass),this.$btnLess.addClass(this.defaults.hiddenClass),this.$contentExpander.css({height:""}).removeClass(this.defaults.expandClass);},checkViewport:function checkViewport(){return this.viewportRegEx.test(ui.Bootstrap.activeView);},updateView:function updateView(){this.checkViewport()?(this.$contentExpander.addClass(this.defaults.expandableClass),this.expanded?this.setExpand():this.setCollapse()):(this.$contentExpander.removeClass(this.defaults.expandableClass),this.removeExpander());},render:function render(){}}),ui.ComponentFactory.createPlugin({pluginMethodName:"ExpanderComponent",View:ui.ExpanderComponentView,selector:".ui-js-expander",reinitialize:!0}),$(ui.bootstrapExpanderComponent());}.call(this),!function(){"use strict";ui.AccordionControllerComponentView=ui.ComponentView.extend({name:"ui.AccordionControllerComponentView",events:{},initialize:function initialize(t){this.isMobile=/(ms|xs)/.test(ui.Bootstrap.activeView),t.firstItemOpen&&!this.isMobile&&this.$el.find(".panel-collapse").first().removeData("bs.collapse").collapse({parent:!1,toggle:!1}).collapse("show").removeData("bs.collapse");}}),ui.ComponentFactory.createPlugin({pluginMethodName:"AccordionControllerComponent",View:ui.AccordionControllerComponentView,selector:".ui-js-accordion-controller"}),$(ui.bootstrapAccordionControllerComponent());}.call(this),!function(){"use strict";ui.AccordionComponentView=ui.ComponentView.extend({name:"ui.AccordionComponentView",state:!(!window.history||!window.history.replaceState)||!1,events:{"click a.collapsed":"setHashInUrl",'click a[data-toggle="collapse"]:not(".collapsed")':"removeHashInUrl"},initialize:function initialize(t){this.$panels=this.$el.find(".panel"),this.bindEvents();},bindEvents:function bindEvents(){$(window).on("hashchange",this.render.bind(this));},render:function render(){var t,e,i,n=this.$el.parents(".ui-js-guide"),s=n.find(".nav-item"),o=n.find(".nav-link"),a=n.find(".tab-pane");return(e=window.location.hash.match(/^#[a-zA-Z0-9-_]+$/)?this.$(window.location.hash):e)&&e.length&&(t=e.parent().find(".panel-collapse"),e=e.parent().find("[data-parent]"),n.length&&(this.$panels.removeClass("is-collapse"),s.removeClass("active"),a.removeClass("in active")),t.length&&(void 0!==(s=e.length?e.data("parent"):void 0)?t.closest(s).length&&(t.collapse({parent:s}),n.length&&(a=t.closest(".panel"),e=t.closest(".tab-pane"),i=e.attr("id"),s=o.filter(function(t,e){return $(e).attr("href")==="#"+i;}).closest(".nav-item"),a.addClass("is-collapse"),t.addClass("in active"),s.addClass("active"),e.addClass("in active"))):t.collapse("show"))),this;},setHashInUrl:function setHashInUrl(t){t=$(t.target).hasClass("panel-heading")?$(t.target):$(t.target).closest(".panel-heading"),t=t[0]&&t[0].id&&"#"+t[0].id;t&&(this.state?window.history.replaceState({},document.title,t):window.location.hash=t);},removeHashInUrl:function removeHashInUrl(t){var e=window.location.href.replace(/#.*$/,"");this.state?window.history.replaceState({},document.title,e):window.location.hash="";}}),ui.ComponentFactory.createPlugin({pluginMethodName:"AccordionComponent",View:ui.AccordionComponentView,selector:".ui-js-accordion-listener"}),$(ui.bootstrapAccordionComponent());}.call(this),!function(){"use strict";ui.ClickExtensionComponentView=ui.ComponentView.extend({name:"ui.ClickExtensionComponentView",isMobile:!1,events:{click:"delegateClick"},initialize:function initialize(){this.viewportListener();var t=this.viewportListener.bind(this);ui.on("bootstrap.activemediaquery.changed",t);},render:function render(){return this;},delegateClick:function delegateClick(t){this.isMobile&&(t=$(t.target)).length&&/(P|DIV)/.test(t[0].tagName)&&(t=t.parents(".container").find("a")).length&&t[0].click();},viewportListener:function viewportListener(){this.isMobile=/(ms|xs)/.test(ui.Bootstrap.activeView);}}),ui.ComponentFactory.createPlugin({pluginMethodName:"ClickExtensionComponent",View:ui.ClickExtensionComponentView,selector:".ui-js-click-extension"}),$(ui.bootstrapClickExtensionComponent());}.call(this),!function(){"use strict";ui.NavTabComponentView=ui.ComponentView.extend({name:"ui.NavTabComponentView",state:!(!window.history||!window.history.replaceState)||!1,events:{'click a[data-toggle="tab"]':"clickOnTab"},initialize:function initialize(){var _this6=this;this.isAjaxContentTab=this.$el.hasClass("js-ajax-tab-content"),this.$tabItems=this.$el.find(".nav-item"),this.trackFiltersAfterCall=!1,ui.on(ui.GlobalEvents.TAB_FILTER_CHANGE,this.tabFilterLoadAjax.bind(this)),ui.on(ui.GlobalEvents.TAB_CHANGE,this.triggerTab.bind(this)),ui.on(ui.GlobalEvents.ASYNC_BTN_STATE,function(_ref4){var t=_ref4.$el;return _this6.tabFilterLoadAjax(t);});},render:function render(){var t=this.$('a[href="'+window.location.hash+'"]');return 0<t.length&&(t.tab("show"),this.pushToDataLayer(t.parent()),this.isAjaxContentTab&&(this.trackFiltersAfterCall=!0,this.setHashInUrl(t),this.tabLoadAjax(t))),this.isAjaxContentTab&&0===t.length&&(this.trackFiltersAfterCall=!0,""===window.location.hash?((t=this.$tabItems.first().children("a")).tab("show"),this.pushToDataLayer(t.parent()),this.setHashInUrl(t),this.tabLoadAjax(t)):this.initFromHash()),this;},initFromHash:function initFromHash(){var t=window.location.hash?window.location.hash.split("--"):null;if(t){var e=$(t[0]);var i=this.$('a[href="'+t[0]+'"]');0!==i.length&&(i.tab("show"),this.pushToDataLayer(i.parent()),this.tabFilterLoadAjax(e));}},clickOnTab:function clickOnTab(t){t.preventDefault();var e=$(t.currentTarget);0<this.$el.closest('[data-js-item="ui-js-guide-nav"]').length&&$("[property='og:title']").attr("content",e.text().trim()),e.closest(".nav-item").hasClass("active")||(this.setHashInUrl(e),this.isAjaxContentTab&&(this.trackFiltersAfterCall=!0,this.tabLoadAjax(e)));},triggerTab:function triggerTab(t){var e=this.$el.find("[href=\""+t+"\"]");e&&e.click();},setHashInUrl:function setHashInUrl(t){t=t.closest("a"),t=t[0]&&t[0].hash;t&&(this.state?window.history.replaceState({},"",t):window.location.hash=t);},createUrl:function createUrl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var e=window.location.hash?window.location.hash.split("--"):null;var i=t;return i=1<e.length?e.reduce(function(t,e){var i=e;if(e&&-1!==e.indexOf("#"))return t;e=e.split("-");return 1<e.length&&(i=-1===t.indexOf("?")?"?"+e[0]+"="+e[1]:"&"+e[0]+"="+e[1]),t+i;},i):i;},pushToDataLayer:function pushToDataLayer(t){window.dataLayer&&(t=ui.getElementSetup({el:t}).data,window.dataLayer.push(t),window.logTracking&&(console.info("added dataLayer data:",JSON.stringify(t)),console.info("Tracking Obj",t)));},tabFilterLoadAjax:function tabFilterLoadAjax(t){var e=t.closest(".tab-pane");t=e.attr("id");var i=this.$el.find("[href=\"#"+t+"\"]");var t=e.find(".ui-js-tab-content-loader"),n=ui.getElementSetup({el:i.closest(".nav-item")}),n=this.createUrl(n.ajaxUrl);this.ajaxRequest({url:n,$container:t,$currentTab:i,scrollIntoView:!1});},tabLoadAjax:function tabLoadAjax(t){var e=t.closest(".nav-item"),e=ui.getElementSetup({el:e}),i=$(t.attr("href")).find(".ui-js-tab-content-loader");this.ajaxRequest({url:e.ajaxUrl,$container:i,$currentTab:t,scrollIntoView:!0});},ajaxRequest:function ajaxRequest(_ref5){var _this7=this;var t=_ref5.url,e=_ref5.$container,i=_ref5.$currentTab,n=_ref5.scrollIntoView;e&&t&&i&&$.ajax({type:"GET",dataType:"html",url:t}).done(function(t){ui.bootstrapper.defuse({context:e.get(0)}),e.html(t),_this7.setAmountNumbers(e),_this7.trackFiltersAfterCall&&(ui.trigger(ui.GlobalEvents.TAB_FILTER_TRACKING,$(i.attr("href"))),_this7.trackFiltersAfterCall=!1),ui.bootstrapper.reinitialize({context:e.get(0)}),n&&_this7.scrollTabIntoView(i.parent());}).fail(function(t){return console.log(t);});},setAmountNumbers:function setAmountNumbers(t){var _this8=this;var i=t.find("[data-teaser-numbers]").data("teaser-numbers");i&&Object.keys(i).forEach(function(t){var e=_this8.$el.find("[href=\"#"+t+"\"] .ui-js-teasers-amount");e.text("("+i[t].toString()+")");});},scrollTabIntoView:function scrollTabIntoView(t){var e=$(window).width(),i=t.offset().left,n=i-this.$el.offset().left,s=t.width(),o=this.$el.scrollLeft(),a=/xs|ms/.test(ui.Bootstrap.activeView)?150:210;$("html, body").stop().animate({scrollTop:t.offset().top-a},250),i<0?(a=t.is(":first-of-type"),this.$el.scrollLeft(o+n-(a?20:10))):e<n+s&&(a=t.is(":last-of-type"),this.$el.scrollLeft(s+(a?20:10)+o-(e-i)));}}),ui.ComponentFactory.createPlugin({pluginMethodName:"NavTabComponent",View:ui.NavTabComponentView,selector:".ui-js-nav-tab-listener"}),$(ui.bootstrapNavTabComponent());}.call(this),!function(){"use strict";ui.NavTabsTriggerComponentView=ui.ComponentView.extend({name:"ui.NavTabsTriggerComponentView",initialize:function initialize(){this.el.addEventListener("click",this.onItemClick.bind(this));},onItemClick:function onItemClick(t){t.preventDefault();t=t.currentTarget.hash;t&&ui.trigger(ui.GlobalEvents.TAB_CHANGE,t);}}),ui.ComponentFactory.createPlugin({pluginMethodName:"NavTabsTriggerComponent",View:ui.NavTabsTriggerComponentView,selector:".ui-js-nav-tabs-trigger"}),$(ui.bootstrapNavTabsTriggerComponent());}.call(this),!function(){"use strict";ui.NavTabsFiltersComponentView=ui.ComponentView.extend({name:"ui.NavTabsFiltersComponentView",state:!(!window.history||!window.history.replaceState)||!1,events:{"click .ui-js-filter-btn":"onItemClick"},initialize:function initialize(){ui.on(ui.GlobalEvents.TAB_FILTER_TRACKING,this.trackFilter.bind(this));},onItemClick:function onItemClick(t){t.preventDefault();var e=$(t.currentTarget);e.hasClass("is-active")||e.hasClass("is-disabled")||(this.setHashInUrl(e),ui.trigger(ui.GlobalEvents.TAB_FILTER_CHANGE,e));},setHashInUrl:function setHashInUrl(t){var e=window.location.hash?window.location.hash.split("--"):null,n=t.attr("name")||t.data("name"),s=t.val()||t.data("value");var i="";e&&(1<e.length&&-1===(i=e.reduce(function(t,e){var i=e;return-1===e.indexOf(n)&&-1===e.indexOf("#")&&(i="--"+e),t+(i=-1!==e.indexOf(n)?"--"+n+"-"+s:i);},"")).indexOf(n)&&(i+="--"+n+"-"+s),(i=1===e.length?e[0]+("--"+n+"-"+s):i)&&(this.state?window.history.replaceState({},"",i):window.location.hash=i));},trackFilter:function trackFilter(a){var _this9=this;var t;a&&(t=a[0].querySelectorAll(".ui-js-filter-btn"),Array.from(t).reduce(function(t,e){var i=e.name||e.dataset.name;var n,s,o;return-1!==t.findIndex(function(t){return t.name===i||t.dataset.name===i;})||(s=!((n=a[0].querySelector("[data-name=\""+i+"\"].ui-js-filter-btn.is-active, [name=\""+i+"\"].ui-js-filter-btn:checked"))||e.classList.contains("is-active")&&e.checked),o=(o=e).classList.contains("is-active")&&e.checked||!n?e:n,t.push(o),_this9.pushToDataLayer($(o),s)),t;},[]));},pushToDataLayer:function pushToDataLayer(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;if(window.dataLayer&&e&&0!==e.length){var n=ui.getElementSetup({el:e.closest("[data-setup]")})["data"];if(n){var t=n;i=i?"default":e.data("value")||e.val();i&&(t="sortierung"===n.event?_extends({},n,{sortBy:i}):_extends({},n,{filterSelected:"filter "+i})),window.dataLayer.push(t),window.logTracking&&(console.info("added dataLayer data:",JSON.stringify(t)),console.info("Tracking Obj",t));}}}}),ui.ComponentFactory.createPlugin({pluginMethodName:"NavTabsFiltersComponent",View:ui.NavTabsFiltersComponentView,selector:".ui-js-nav-tabfilters"}),$(ui.bootstrapNavTabsFiltersComponent());}.call(this),!function(){"use strict";ui.SocialMediaHandlerComponentView=ui.ComponentView.extend({name:"ui.SocialMediaHandlerComponentView",windowReference:{},options:{width:500,height:400,toolbar:0,menubar:0,location:0,status:1,scrollbars:1,resizable:1,left:0,top:0},events:{"click .icon-social:not(.mail)":"clickEvent"},render:function render(){return this;},stringify:function stringify(t){var e,i="";for(e in t){i+=e+"="+t[e]+",";}return i.replace(/,$/,"");},clickEvent:function clickEvent(t){var e,i,n=$(t.target),s=this.options,n=n.attr("href"),o=ui.getElementSetup({el:t.target});for(e in o){e in this.options&&(s[e]=o[e]);}s=this.stringify(s||this.options),o.data&&o.data.socialNetwork&&n&&(i=o.data.socialNetwork,!this.windowReference[i]||this.windowReference[i].closed?(t.preventDefault(),this.windowReference[i]=window.open(n,i,s)):this.windowReference[i]&&(t.preventDefault(),this.windowReference[i].focus()));}}),ui.ComponentFactory.createPlugin({pluginMethodName:"SocialMediaHandlerComponent",View:ui.SocialMediaHandlerComponentView,selector:".ui-js-social-media-handler",reinitialize:!0}),$(ui.bootstrapSocialMediaHandlerComponent());}.call(this),!function(){"use strict";ui.FairTradeTracerView=ui.ComponentView.extend({name:"ui.FairTradeTracerView",events:{submit:"submit"},initialize:function initialize(t){this.$el.on("validates:valid validates:invalid","form",function(t,e){$(this).find('[type="submit"]')[e.isValid?"removeAttr":"attr"]("disabled","");});},submit:function submit(t){var e=$(t.target).find(":input"),i=e.filter(":not(:hidden)").val(),i=e.filter(":hidden").val().replace("{}",i),e=e.filter(":hidden").data("new-window");t.preventDefault(),!0===e?window.open(i,"_blank"):window.location.href=i;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"FairTradeTracerView",View:ui.FairTradeTracerView,selector:".ui-js-fairtrade",reinitialize:!1}),$(ui.bootstrapFairTradeTracerView(".ui-js-fairtrade"));}.call(this),!function(){"use strict";ui.FilterFlyoutComponentView=ui.ComponentView.extend({name:"ui.FilterFlyoutComponentView",activeClass:"active",inactiveClass:"inactive",isMobileClass:"is-mobile",isOpenMobileNavClass:"is-open-mobile-nav",noScrollingClass:"no-scrolling",isBackClass:"is-back",$filterElement:null,$filterFlyout:null,$filterTagsWrapper:null,$tagItems:null,isMobile:!1,events:{"click .ui-js-generic-item":"toggleFlyout","click .ui-js-close-flyout":"hideFlyout","click .ui-js-filter-tag-item":"hideTagItem","click .ui-js-reset":"hideAllTagItems","click .ui-js-show-filters":"showNavFilterIsMobile","click .ui-js-close-level":"hideNavFilterIsMobile","click .ui-js-paragraph-headline":"backNavigation","click .ui-js-generic-filter__show-result":"hideNavFilterIsMobile","checkbox:change":"onCheckboxChange","delete:after:search":"hideAllTagItems"},initialize:function initialize(){this.$body=$(document.body),this.$tabs=this.$(".tab-pane"),this.$navTabs=this.$(".ui-js-generic-item"),this.$filterElement=this.$('[data-filter-level="0"].ui-js-filter-level'),this.$filterFlyout=this.$('[data-filter-level="1"].ui-js-filter-level'),this.$filterResults=this.$(".ui-js-filter-result"),this.$filterTagsWrapper=this.$(".ui-js-filter-tags-wrapper"),this.$genericFilterWrapper=this.$(".ui-js-generic-filter__wrap"),this.$genericFilterCanvas=this.$(".ui-generic-filter-canvas"),this.$filterHeadline=this.$(".ui-js-paragraph-headline"),this.$filterHeadlineWrapper=this.$(".ui-js-filter-headline"),this.$filterResultsBtn=this.$(".ui-js-generic-filter__show-result"),this.$tagItems=$(".ui-js-filter-tag-item",this.$filterTagsWrapper),this.$tagRadioItems=$(".ui-js-checkbox-single",this.$filterElement),this.URLParamModel=ui.requests.getURLParamModel(),this.showTagItemsOnLoad(),this.isMobile=this.checkIsMobile(),this.toggleMobileNavView(),ui.on("bootstrap.activemediaquery.changed",this.viewportListener.bind(this));},showTagItemsOnLoad:function showTagItemsOnLoad(){var i=this,t=this.URLParamModel.attributes||{};$.each(t,function(t,e){i.onCheckedShowTagItem(t);});},disableCheckboxesOnLoad:function disableCheckboxesOnLoad(t){t=$("#"+t,this.$filterElement);t&&this.disableCheckboxes(t);},onCheckboxChange:function onCheckboxChange(t){var t=$(t.target),e=t.attr("name");t.is(":checked")?this.onCheckedShowTagItem(e):this.onCheckedHideTagItem(e);},disableCheckboxes:function disableCheckboxes(i){-1<this.isInArray(i)&&$.each(this.$tagRadioItems,function(t,e){$(e).is(i)||$(e).attr("disabled","");});},enableCheckboxes:function enableCheckboxes(t,e){(e||-1<this.isInArray(t))&&$.each(this.$tagRadioItems,function(t,e){$(this).removeAttr("disabled");});},toggleNavFilterIsMobile:function toggleNavFilterIsMobile(){this.$genericFilterWrapper.hasClass(this.activeClass)?this.hideNavFilterIsMobile():this.showNavFilterIsMobile();},backNavigation:function backNavigation(){this.$filterHeadline.hasClass(this.isBackClass)&&(this.hideFlyout(),this.showNavFilterIsMobile());},showNavFilterIsMobile:function showNavFilterIsMobile(){this.$genericFilterCanvas.addClass(this.activeClass),this.$filterElement.addClass(this.activeClass),this.$filterElement.css({height:"calc(100% - "+(this.$filterHeadlineWrapper.outerHeight(!0)+this.$filterResultsBtn.outerHeight(!0))+"px)"}),this.$el.addClass(this.isOpenMobileNavClass),this.$body.addClass(this.noScrollingClass);},hideNavFilterIsMobile:function hideNavFilterIsMobile(){this.$genericFilterCanvas.removeClass(this.activeClass),this.$filterElement.css({height:"auto"}),this.$el.removeClass(this.isOpenMobileNavClass),this.$body.removeClass(this.noScrollingClass),this.hideFlyout();},isInArray:function isInArray(t){return $.inArray(t[0],this.$tagRadioItems);},onCheckedShowTagItem:function onCheckedShowTagItem(i){var n=this;$.each(this.$tagItems,function(t,e){if($(this).data("option-name")===i)return n.showFilterResult(),$(this).addClass(n.activeClass),!1;});},onCheckedHideTagItem:function onCheckedHideTagItem(i){var n=this;$.each(this.$tagItems,function(t,e){$(this).data("option-name")===i&&$(this).removeClass(n.activeClass);}),this.hasActiveTagsCheck()||this.hideFilterResult();},toggleFlyout:function toggleFlyout(t){$(t.currentTarget).hasClass(this.activeClass)?this.hideFlyout():this.showFlyout();},showFlyout:function showFlyout(){this.$filterFlyout.removeClass(this.inactiveClass),this.$filterFlyout.addClass(this.activeClass),this.$filterElement.removeClass(this.activeClass),this.$filterElement.addClass(this.inactiveClass),this.$filterHeadline.addClass(this.isBackClass);},hideFlyout:function hideFlyout(){var t=this;this.$filterFlyout.addClass(this.inactiveClass),this.$filterElement.addClass(this.activeClass),this.$filterElement.removeClass(this.inactiveClass),this.$filterHeadline.removeClass(this.isBackClass),this.isMobile||this.$filterFlyout.removeClass(this.activeClass),setTimeout(function(){t.$tabs.removeClass(t.activeClass),t.$navTabs.removeClass(t.activeClass);},0);},hideTagItem:function hideTagItem(t){$(t.currentTarget).removeClass(this.activeClass),this.hasActiveTagsCheck()||this.hideFilterResult();},hideAllTagItems:function hideAllTagItems(){this.$tagItems.removeClass(this.activeClass),this.hideFilterResult();},showFilterResult:function showFilterResult(){this.$filterResults.addClass(this.activeClass);},hideFilterResult:function hideFilterResult(){this.$filterResults.removeClass(this.activeClass);},hasActiveTagsCheck:function hasActiveTagsCheck(){var i=this,n=!1;return $.each(this.$tagItems,function(t,e){if($(this).hasClass(i.activeClass))return!(n=!0);}),n;},toggleMobileNavView:function toggleMobileNavView(){this.isMobile?(this.$el.addClass(this.isMobileClass),this.hideFlyout()):(this.$el.removeClass(this.isMobileClass),this.hideNavFilterIsMobile());},viewportListener:function viewportListener(){this.isMobile!==this.checkIsMobile()&&(this.isMobile=this.checkIsMobile(),this.toggleMobileNavView());},checkIsMobile:function checkIsMobile(){return /(ms|xs)/.test(ui.Bootstrap.activeView);}}),ui.ComponentFactory.createPlugin({pluginMethodName:"FilterFlyoutComponent",View:ui.FilterFlyoutComponentView,selector:".ui-js-filter-flyout",reinitialize:!0}),$(ui.bootstrapFilterFlyoutComponent());}.call(this),!function(){"use strict";ui.CheckboxComponentView=ui.ComponentView.extend({name:"ui.CheckboxComponentView",checkboxName:void 0,activeState:void 0,filterType:"checkbox",defaults:{activeChangeEvent:"checkbox:change"},events:{click:"onItemClick"},initialize:function initialize(){this.checkboxName=this.$el.attr("name"),this.activeState=this.getCurrentState();var t="change:"+this.checkboxName;this.model.on(t,function(t){this.activeState=this.getCurrentState(),this.render();},this);},getCurrentState:function getCurrentState(){var t=this.model.get(this.checkboxName);return void 0!==t&&t;},onItemClick:function onItemClick(t){t.preventDefault();t=t.currentTarget.value;this.$el.addClass("is-loading"),this.$el.trigger(this.setup.activeChangeEvent,{type:this.filterType,name:this.checkboxName,value:t});},render:function render(){var t=!!this.model.attributes[this.$el.attr("name")];return this.$el.prop("checked",t),this.$el.removeClass("is-loading"),this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"CheckboxComponent",View:ui.CheckboxComponentView,reinitialize:!1});}.call(this),!function(){"use strict";ui.DateRangeComponentView=ui.ComponentView.extend({name:"ui.DateRangeComponentView",nameFrom:void 0,nameUntil:void 0,activeState:void 0,markupState:void 0,filterType:"daterange",$datepickerView:null,$rangeInputs:null,defaults:{activeChangeEvent:"daterange:change"},events:{"click .ui-js-submit-daterange":"onItemSubmit","keydown .ui-js-input-daterange input":"onItemSubmit"},initialize:function initialize(){this.$rangeInputs=this.$(".ui-js-input-daterange input"),this.nameFrom=this.$rangeInputs.eq(0).attr("name"),this.nameUntil=this.$rangeInputs.eq(1).attr("name");},render:function render(){return this;},onItemSubmit:function onItemSubmit(t){if("click"===t.type||13===t.which){if(t.preventDefault(),0<this.$rangeInputs.filter(function(t,e){return $(e).closest(".ui-js-form-item").hasClass("invalid");}).length)return!1;this.datepickerView||(t=$(t.currentTarget).closest(".ui-js-datepicker")).length&&(this.datepickerView=t.prop("View")),this.datepickerView&&(t=this.serializeParameters(),$.isEmptyObject(t)||this.$el.trigger(this.setup.activeChangeEvent,{type:this.filterType,name:t.names,value:t.values}));}},serializeParameters:function serializeParameters(){var t,e={};return this.datepickerView.setup&&this.datepickerView.setup.dateRangeSubmitName&&this.datepickerView.getUTCRange()?(t=this.datepickerView.setup.dateRangeSeparator||"_",t=this.datepickerView.getUTCRange().join(t),e.names=this.datepickerView.setup.dateRangeSubmitName,e.values=t):(e.names=[this.nameFrom,this.nameUntil],e.values=this.datepickerView.getUTCRange()),e;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"DateRangeComponent",View:ui.DateRangeComponentView});}.call(this),!function(){"use strict";ui.DropdownComponentView=ui.ComponentView.extend({name:"ui.DropdownComponentView",dropDownName:void 0,markupState:void 0,activeState:void 0,filterType:"dropdown",defaults:{activeChangeEvent:"dropdown:change"},events:{"click .ui-js-filter-btn":"onItemClick"},initialize:function initialize(){this.dropDownName=this.$(".ui-js-filter-btn").data("name"),this.markupState=this.$(".ui-js-filter-btn.is-active").data("value"),this.activeState=this.getCurrentState(),this.$dropdownToggle=this.$(".dropdown-toggle");var t="change:"+this.dropDownName;this.model.on(t,function(t){this.activeState=this.getCurrentState(),this.render();},this);},getCurrentState:function getCurrentState(){var t=this.model.get(this.dropDownName);return void 0!==t?t:this.markupState;},labelDropdown:function labelDropdown(t,e){this.$(".ui-js-filter-btn.is-active").removeClass("is-active"),t.addClass("is-active"),e&&(this.$dropdownToggle.contents().filter(function(){return 3===this.nodeType;})[0].nodeValue=e+"\n");},onItemClick:function onItemClick(t){t.preventDefault(),$(t.target).hasClass("disabled")||(t=this.$(t.currentTarget).data("value"),this.$el.trigger(this.setup.activeChangeEvent,{type:this.filterType,name:this.dropDownName,value:t}));},render:function render(){var t,e;return void 0!==this.activeState&&(e=(t=this.$('.ui-js-filter-btn[data-name="'+this.dropDownName+'"][data-value="'+this.activeState+'"]')).data("label"),this.labelDropdown(t,e)),this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"DropdownComponent",View:ui.DropdownComponentView,reinitialize:!1});}.call(this),!function(){"use strict";ui.LinklistComponentView=ui.ComponentView.extend({name:"ui.LinklistComponentView",linklistName:void 0,activeState:void 0,markupState:void 0,filterType:"linklist",$linklist:null,defaults:{activeChangeEvent:"linklist:change"},events:{"click .ui-js-filter-link[data-name][data-value]":"onItemClick"},initialize:function initialize(){this.$linklist=this.$el.find(".ui-js-filter-link[data-name][data-value]"),this.linklistName=this.$linklist.data("name"),this.markupState=this.$linklist.filter(".is-active").data("value"),this.activeState=this.getCurrentState();var t="change:"+this.linklistName;this.model.on(t,function(t){this.activeState=this.getCurrentState(),this.render();},this);},getCurrentState:function getCurrentState(){var t=this.model.get(this.linklistName);return void 0!==t?t:this.markupState;},onItemClick:function onItemClick(t){t.preventDefault();t=this.$(t.currentTarget).data("value");this.$el.trigger(this.setup.activeChangeEvent,{type:this.filterType,name:this.linklistName,value:t});},render:function render(){var t;return void 0!==this.activeState?(t=this.$('.ui-js-filter-link[data-name="'+this.linklistName+'"][data-value="'+this.activeState+'"]'),this.$linklist.removeClass("is-active"),t.addClass("is-active")):this.markupState||this.$linklist.removeClass("is-active"),this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"LinklistComponent",View:ui.LinklistComponentView});}.call(this),!function(){"use strict";ui.RadioComponentView=ui.ComponentView.extend({name:"ui.RadioComponentView",radioName:void 0,activeState:void 0,markupState:void 0,filterType:"radio",$radios:null,defaults:{activeChangeEvent:"radio:change"},events:{'click .ui-js-input[name][value][type="radio"]':"onItemClick"},initialize:function initialize(){this.$radios=this.$el.find('.ui-js-input[name][value][type="radio"]'),this.radioName=this.$radios.attr("name"),this.markupState=this.$radios.filter(":checked").attr("value"),this.activeState=this.getCurrentState();var t="change:"+this.radioName;this.model.on(t,function(t){this.activeState=this.getCurrentState(),this.render();},this);},getCurrentState:function getCurrentState(){var t=this.model.get(this.radioName);return void 0!==t?t:this.markupState;},onItemClick:function onItemClick(t){t.preventDefault();t=t.currentTarget.value;this.$el.trigger(this.setup.activeChangeEvent,{type:this.filterType,name:this.radioName,value:t});},getElement:function getElement(){var t,e;return void 0!==this.activeState?(e='[type="radio"][name="'+this.radioName+'"][value="'+this.activeState+'"]',t=this.$(".ui-js-input"+e),e=this.$(".ui-js-input-activate-select"+e),t.length?t:e):this.$('.ui-js-input[type="radio"][value="0"]');},render:function render(){var e,t=this.getElement(),i="none"!==$(".ui-mobil-block").css("display"),n=!!this.$el.parents(".ui-mobil-block").length;return t.length&&i==n&&(t.hasClass("ui-js-input-activate-select")&&(n=(i=this.$el.find("select")).attr("name"),e=this.model.attributes[n],n=i.find("option").toArray().filter(function(t){return t.value===e;})[0],i.prop("disabled",!1),n&&(n.selected=!0)),t.prop("checked",!0)),this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"RadioComponent",View:ui.RadioComponentView});}.call(this),!function(){"use strict";ui.FlipTeaserComponentView=ui.ComponentView.extend({name:"ui.FlipTeaserComponentView",events:{"click .ui-js-flip-btn":"flipFront","click .ui-js-flip-back-btn":"flipBack"},flipFront:function flipFront(t){t=$(t.currentTarget).closest(this.$el);t.closest(".row").find(".is-flipped").removeClass("is-flipped"),t.addClass("is-flipped");},flipBack:function flipBack(t){$(t.currentTarget).closest(this.$el).removeClass("is-flipped");}}),ui.ComponentFactory.createPlugin({pluginMethodName:"FlipTeaserComponent",View:ui.FlipTeaserComponentView,selector:".ui-js-flip-teaser"}),$(ui.bootstrapFlipTeaserComponent());}.call(this),!function(){"use strict";ui.FlyoutComponentView=ui.ComponentView.extend({name:"ui.FlyoutComponentView",locationLinkElSelClass:".ui-js-location-link",locationLinkTitleSelClass:".ui-flyout-locationlink__title",defaults:{},events:{"click .js-close":"onCloseClick","click .js-flyout-deeplink":"onOpenSlide","mouseenter .ui-flyout-link":"onLinkMouseOver","mouseleave .ui-flyout-link":"onLinkMouseOut"},initialize:function initialize(){this.lastOpenIndex=null,this.$flyoutItems=this.$(".js-flyout-item"),this.$overlayBackground=this.$(".js-background"),this.$locationLinkEl=this.$(this.locationLinkElSelClass),this.$locationLinkTitle=this.$(this.locationLinkTitleSelClass),this.prepare(),this.bindEvents();},prepare:function prepare(){this.hideOverlay(),this.$el.removeAttr("hidden"),this.$("[data-image-hover]").each(function(){new Image().src=$(this).data("image-hover");});},bindEvents:function bindEvents(){var t=this;this.open=this.open.bind(this),this.close=this.close.bind(this),ui.on(ui.GlobalEvents.GENERIC_HEADER_FLYOUT_OPEN,this.open),ui.on(ui.GlobalEvents.GENERIC_HEADER_FLYOUT_MENU_CLOSE,function(){t.close(!1);}),ui.on(ui.GlobalEvents.STORE_PREFERRED,this.setLocationLink.bind(this));},onLinkMouseOver:function onLinkMouseOver(t){t=this.$(t.currentTarget).find("[data-image-hover]");t.length&&(t.get(0).imageHoverReplace||(t.data("image-hover","url("+t.data("image-hover")+")"),t.attr("data-image-hover",t.data("image-hover")),t.data("image-before-hover",t.css("background-image")),t.attr("data-image-before-hover",t.data("image-before-hover")),t.get(0).imageHoverReplace=!0),t.css("background-image",t.data("image-hover")));},onLinkMouseOut:function onLinkMouseOut(t){t=this.$(t.currentTarget).find("[data-image-before-hover]");t.length&&t.css("background-image",t.data("image-before-hover"));},flyoutFromIndex:function flyoutFromIndex(t){return this.$flyoutItems.filter('[data-flyout-uid="'+t+'"]');},onOpenSlide:function onOpenSlide(t){var e=$(t.currentTarget);t.preventDefault(),!e.data("navigation-item")&&isNaN(e.data("navigation-item"))||this.open(e.data("navigation-item"));},open:function open(t){t!==this.lastOpenIndex&&(null!==this.lastOpenIndex?this.openAndClose(t):(this.showContent(t),this.showOverlay()),this.lastOpenIndex=t);},openAndClose:function openAndClose(e){this.flyoutFromIndex(this.lastOpenIndex).one(ui.consts.ON_TRANSITION_END,function(t){this.showContent(e);}.bind(this)),this.close(!0),this.lastOpenIndex=null;},close:function close(t){null!==this.lastOpenIndex&&(this.hideContent(this.lastOpenIndex),this.lastOpenIndex=null),t||(this.hideOverlay(),ui.trigger(ui.GlobalEvents.GENERIC_HEADER_FLYOUT_CLOSE));},hideOverlay:function hideOverlay(){this.$overlayBackground.removeClass("is-show"),this.$el.removeClass("is-show");},showOverlay:function showOverlay(){this.$overlayBackground.addClass("is-show"),this.$el.addClass("is-show");},hideContent:function hideContent(t){this.flyoutFromIndex(t).removeClass("is-show");},showContent:function showContent(t){this.flyoutFromIndex(t).addClass("is-show");},onCloseClick:function onCloseClick(){this.close();},setLocationLink:function setLocationLink(t){t&&t.attributes&&t.attributes.store&&t.attributes.store.attributes&&(this.setLocationLinkTarget(t),this.setLocationLinkTitle(t));},setLocationLinkTarget:function setLocationLinkTarget(t){this.$locationLinkTitle&&t.attributes.store.attributes.name&&this.$locationLinkTitle.text(t.attributes.store.attributes.name);},setLocationLinkTitle:function setLocationLinkTitle(t){var e;this.$locationLinkEl&&t.attributes.store.attributes.slug&&(e=this.$locationLinkEl.attr("href"),t="/"+t.attributes.store.attributes.slug,0<e.indexOf(t)||this.$locationLinkEl.attr("href",e+t));},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"FlyoutComponent",View:ui.FlyoutComponentView,selector:".ui-js-flyout"}),$(ui.bootstrapFlyoutComponent());}.call(this),!function(){"use strict";ui.FooterView=ui.ComponentView.extend({name:"ui.FooterView",initialize:function initialize(){var _this10=this;this.$el.find(".js-footer-link-list-title").on("click",function(t){return _this10.toggleList(t);});},toggleList:function toggleList(t){var e=$(t.currentTarget).closest(".js-footer-list-container");e.is(this.$wrapperElement)||(this.$el.find(".js-footer-list-container").removeClass("is-active"),this.$wrapperElement=e),e.toggleClass("is-active");}}),ui.ComponentFactory.createPlugin({pluginMethodName:"FooterComponent",View:ui.FooterView,selector:".ui-js-g107-12-footer",reinitialize:!0}),$(ui.bootstrapFooterComponent());}.call(this),!function(){"use strict";ui.DatePickerView=ui.ComponentView.extend({name:"ui.DatePickerComponentView",events:{changeDate:"dateChanged","click .ui-js-picker-addon":"openPicker",hide:"toggleIsOpened",show:"toggleIsOpened"},$datepickerRange:null,$datepickerSingle:null,$rangeInputs:null,$dateInput:null,$container:null,currentViewport:null,isOpened:!1,isNative:!1,initDatesArray:null,defaults:{format:"dd.mm.yyyy",startDate:new Date("01.01.1900"),endDate:new Date("31.12.2099"),todayBtn:"linked",language:"de",todayHighlight:!0,forceParse:!1,container:"#js-date-picker"},initialize:function initialize(){this.$window=$(window),this.scrollContainer=$("html,body"),this.currentViewport=ui.Bootstrap.activeView||"unknown",this.isNative=/xs|ms|sm|md/.test(this.currentViewport)&&ui.browser.supportsTouch(),this.initDatesArray=this.setup.initDates&&this.setup.initDates.length?this.setup.initDates:null,this.$datepickerRange=this.$(".ui-js-input-daterange"),this.$datepickerSingle=this.$(".ui-js-input-date"),this.$rangeInputs=this.$('.ui-js-input-daterange input[type="text"]'),this.$dateInput=this.$('.ui-js-input-date input[type="text"]'),this.$container=$(this.defaults.container),this.initializeNativeHtmlPicker();},initializeNativeHtmlPicker:function initializeNativeHtmlPicker(){var t=this.$dateInput.length?this.$dateInput:this.$rangeInputs;t&&t.length&&(t.attr("type","date"),this.initDatesArray&&1===t.length?t.val(this.setup.initDates[0]):this.initDatesArray&&1<this.initDatesArray.length&&1<t.length&&(t.eq(0).val(this.initDatesArray[0]),t.eq(1).val(this.initDatesArray[1])));},createDate:function createDate(t){return isNaN(Date.parse(t))?"":new Date(t);},dateChanged:function dateChanged(t){$(t.target).datepicker("hide");},toggleIsOpened:function toggleIsOpened(t){var e;"show"===t.type?this.isOpened=!0:"hide"===t.type&&(e=this,setTimeout(function(){e.isOpened=!1;},100));},openPicker:function openPicker(t){var e;this.isOpened||(e=this.isNative?'input[type="date"]':'input[type="text"]',(t=$(t.target).closest(".ui-js-form-item").find(e)).length&&(this.isNative?t.click().focus():(t.datepicker("show"),t.focus())));},getUTCRange:function getUTCRange(){var t,e=new Date(this.$rangeInputs.eq(0).val()),i=new Date(this.$rangeInputs.eq(1).val());return t=e&&i?[this.toISODateString(e),this.toISODateString(i)]:t;},toISODateString:function toISODateString(t){return t.toISOString().split("T")[0];},update:function update(t){t&&t.length&&(this.$datepickerRange.length&&!this.isNative?(this.$rangeInputs.eq(0).datepicker("setUTCDate",this.createDate(t[0])),this.$rangeInputs.eq(1).datepicker("setUTCDate",this.createDate(t[1]))):this.$datepickerSingle.length&&!this.isNative?this.$dateInput.datepicker("setUTCDate",this.createDate(t[0])):this.$datepickerRange.length&&this.isNative?(this.$rangeInputs.eq(0).val(t[0]),this.$rangeInputs.eq(1).val(t[1])):this.$datepickerSingle.length&&this.isNative&&this.$dateInput.val(t[0]));}}),ui.ComponentFactory.createPlugin({pluginMethodName:"DatePickerComponent",View:ui.DatePickerView,selector:".ui-js-datepicker"}),$(ui.bootstrapDatePickerComponent());}.call(this),!function(){"use strict";ui.FormAutocompleteComponentView=ui.ComponentView.extend({name:"ui.FormAutocompleteComponentView",events:{focusin:"toggleAutocomplete",keyup:"toggleResetSearchBtn"},$input:null,autocompleteNode:null,dependencies:null,initialize:function initialize(t){this.$input=this.$("input"),this.autocompleteNode=this.$(".ui-js-results-autocomplete")[0],this.$resetSearchBtn=$(".ui-js-reset-search"),this.$searchInput=$(".ui-js-searchinput"),this.toggleResetSearchBtn(),t.autocomplete&&t.autocomplete.config&&this.autocompleteNode&&(this.dependencies=t.autocomplete.autocompleteDependencies,(t=t.autocomplete.config).serviceUrlParamField&&(t.serviceUrl=this.serviceUrlCallback.bind(this,t.serviceUrl,this.$(t.serviceUrlParamField),t.serviceFormat)),this.initializeAutocomplete(t),ui.autocompleteLookup=ui.autocompleteLookup||{});},toggleAutocomplete:function toggleAutocomplete(t){this.$(t.target).autocomplete()&&(void 0===this.minCharTemp&&(this.minCharTemp=this.$(t.target).autocomplete().options.minChars,this.toggleSelectList&&(this.$(t.target).autocomplete().options.minChars=0)),this.$(t.target).autocomplete().onValueChange());},killAutocomplete:function killAutocomplete(){this.$el.autocomplete()&&this.$el.autocomplete().killSuggestions();},serviceUrlCallback:function serviceUrlCallback(t,e,i){return i=i||".json",t+encodeURIComponent(e.val().trim())+i;},initializeAutocomplete:function initializeAutocomplete(r){var l=this;var t=this.$input.data("queryparam")||"query",t=(this.$input.on("autocomplete:getResults",function(t,e,i){l.toggleSelectList=e||"CH_TOGGLEMODUS",l.oldValue=l.$input.val(),"advancedSelect"===e&&(e=i.$element.val())!==l.oldValueOfSender&&(l.$input.val(""),l.resetAdvancedSelect(),l.oldValueOfSender=e),l.toggleAutocomplete(t);}),this.$input.on("autocomplete:removeSelectBox",function(t,e){l.$input.val(""),l.resetAutocomplete(),"advancedSelect"===e&&(l.resetAdvancedSelect(),setTimeout(function(){l.$input.attr("disabled","disabled");},100));}),{dataType:"json",minChars:r.minChars||0,serviceUrl:r.serviceUrl,paramName:t,appendTo:this.autocompleteNode,tabDisabled:!1,deferRequestBy:500,onSearchStart:_.throttle(function(t){var e=$(this).val();return!(0<e.length&&0===e.trim().length)&&(l.dependencies&&(i=l.updateDependencies(t,this),i=$.extend(t,i)),l.$input.trigger("autocomplete:start"),i||t);var i;},150),onSearchComplete:_.throttle(function(t,e){var i=$(".autocomplete-no-suggestion");if("basicSelect"===l.toggleSelectList){if(0===e.length&&(l.resetAutocomplete(),""!==l.oldValue&&l.$input.val(l.oldValue),l.$input.autocomplete().clear()),1===e.length){if(l.responseArrayOld===JSON.stringify(e))return l.$input.val(e[0].value),l.$input.attr("readonly","readonly"),void l.$input.autocomplete().hide();l.unsetInputReadOnlyOrDisabled(),l.responseArrayOld=JSON.stringify(e),l.$input.val(e[0].value),l.$input.trigger("autocomplete:selected"),l.$input.removeAttr("disabled"),l.$input.attr("readonly","readonly"),l.$input.autocomplete().hide();}if(1<e.length){var n=e.filter(l.checkValues.bind(l));if(l.$input[0].disabled=!0,setTimeout(function(){l.$input.attr("disabled","disabled");},100),l.responseArrayOld===JSON.stringify(e))return void l.$input.autocomplete().hide();l.responseArrayOld=JSON.stringify(e),l.$input.css({display:"none"}),l.removeSelectList();var s=$('<select class="select-box js-template-select-box"></select>'),o=(s.attr("id",l.$input.attr("id")),s.attr("name",l.$input.attr("name")),"");e.forEach(function(t,e){o=n.length&&n[0].value===t.value?o+'<option value="'+t.value+'" selected>'+t.value+"</option>":o+'<option value="'+t.value+'">'+t.value+"</option>";}),l.selectList=s.append(o),l.$input.after(l.selectList),l.$input.attr("tabindex",-1),0===n.length&&l.$input.next().trigger("autocomplete:selected"),l.$input.autocomplete().hide();}}if("advancedSelect"===l.toggleSelectList){if(!l.$input.autocomplete().options.lookup){var a=l.$input.autocomplete().options;l.oldOptions=JSON.parse(JSON.stringify(a)),a.lookup=e,a.lookupFilter=function(t,e,i){return l.advancedSelectLookupFilter(t,e,i);},l.$input.autocomplete().setOptions(a);}if(0===e.length)return l.resetAutocomplete(),""!==l.oldValue&&l.$input.val(l.oldValue),void l.$input.autocomplete().clear();if(1===e.length)return l.setValue(e[0].value),l.unsetInputReadOnlyOrDisabled(),l.$input.trigger("autocomplete:selected"),l.$input.removeAttr("disabled"),l.$input.attr("readonly","readonly"),l.$input.autocomplete().hide(),void l.$input.trigger("blur");!l.$input.is(":focus")&&1<e.length&&!l.wasAutofocusedYet?(l.wasAutofocusedYet=!0,l.$input.focus(),l.setValue(e[0].value),l.unsetInputReadOnlyOrDisabled(),l.$input.trigger("autocomplete:selected")):l.$input.is(":focus")||l.$input.autocomplete().hide();}(r.noNumberMessage||r.noResultMessage)&&(s=t.match(/\d+/g),!e.length&&s?i.html(r.noNumberMessage):i.html(r.noResultMessage)),e.length?l.$el.removeClass("is-hint"):l.$el.addClass("is-hint");},150),onSelect:function onSelect(t){l.$input.trigger("autocomplete:selected");},onHide:function onHide(){l.$input.length&&l.$input.trigger("autocomplete:selected");},transformResult:function transformResult(t,i){t=(l.responseArray=t).reduce(function(t,e){return-1!==e.toLowerCase().indexOf(i.toLowerCase().trim())&&t.push(e),t;},[]);return{suggestions:ui.autocompleteLookup[l.$input[0].name]=t};},formatResult:function formatResult(t,e){return $.Autocomplete.defaults.formatResult(t,e.trim());}});"function"==typeof r.transformResult&&(t.transformResult=r.transformResult),"function"==typeof r.onSelect&&(t.onSelect=r.onSelect),r.noResultMessage&&(t.showNoSuggestionNotice=!0,t.noSuggestionNotice=r.noResultMessage),this.$input.autocomplete(t);},updateDependencies:function updateDependencies(t,n){var s={};return this.dependencies.forEach(function(t){var e=$(n).closest("form").find('[name="'+t+'"]');var i;e.length&&(t=e.data("queryparam"),i=e.val()||e.data("queryvalue"),t&&t.length&&i&&i.length&&(s[t]=i));}),s;},checkValues:function checkValues(t){return t.value===this.oldValue;},resetAutocomplete:function resetAutocomplete(){this.unsetInputReadOnlyOrDisabled(),void 0!==this.minCharTemp&&(this.$input.autocomplete().options.minChars=this.minCharTemp),delete this.minCharTemp,delete this.toggleSelectList,delete this.responseArrayOld;},unsetInputReadOnlyOrDisabled:function unsetInputReadOnlyOrDisabled(){this.$input.css({display:"block"}),this.$input.removeAttr("tabindex"),this.$input.removeAttr("readonly"),this.selectList&&this.removeSelectList();},removeSelectList:function removeSelectList(){var t=this.$el.find(".js-template-select-box");t.length&&t.remove(),this.selectList&&(this.selectList.unbind(),this.selectList.remove(),delete this.selectList);},resetAdvancedSelect:function resetAdvancedSelect(){this.oldOptions&&(this.wasAutofocusedYet=!1,this.$input.val(""),this.$input.autocomplete().hide(),this.$input.autocomplete().clear(),this.$input.autocomplete().setOptions(this.oldOptions));},advancedSelectLookupFilter:function advancedSelectLookupFilter(t,e,n){var i=this.$input.autocomplete();var s=i.suggestions.reduce(function(t,e,i){return e.value.toLowerCase().startsWith(n.trim())&&t.push(i),t;},[]),o=Math.min.apply(Math,_toConsumableArray(s));return s.length&&!isNaN(o)&&i.activate(o),!0;},toggleResetSearchBtn:function toggleResetSearchBtn(){var t=this.$searchInput.val();this.$resetSearchBtn.removeClass("is-show"),""!==t&&this.$resetSearchBtn.addClass("is-show");},setValue:function setValue(t){this.$el.data("prefillValue")?(this.$input.val(this.$el.data("prefillValue")),this.$el.removeData("prefillValue"),this.$input.trigger("blur"),this.$input.trigger("change"),ui.trigger(ui.GlobalEvents.FORM_TRY_TO_ENABLE),this.$input.autocomplete().hide()):this.$input.val(t);},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"FormAutocompleteComponent",View:ui.FormAutocompleteComponentView,selector:".ui-js-autocomplete"}),$(ui.bootstrapFormAutocompleteComponent());}.call(this),!function(){"use strict";ui.FormAutoInsertComponentView=ui.ComponentView.extend({name:"ui.FormAutoInsertComponentView",$autoinsertNode:null,$autoinsertNodeSel:".ui-js-autoinsert-node",$autoinsertValue:null,$autoinsertInputSel:".ui-js-autoinsert-value",autoInsertRules:!1,dependencies:null,initialize:function initialize(t){this.$autoinsertNode=$(this.$autoinsertNodeSel,this.$el),this.$autoinsertValue=$(this.$autoinsertInputSel,this.$el),this.dependencies=t.autoinsert.autoinsertDependencies,this.autoInsertRules=t.autoinsert.autoinsertRules,this.ajaxUrl=t.autoinsert.config.serviceUrl,this.bindChangeDependencies(),this.checkIfValidAndAddParams();},bindChangeDependencies:function bindChangeDependencies(){var i=this;this.dependencies.forEach(function(t){t=i.$el.closest("form").find('[name="'+t+'"]');t.length&&t.on("focusout",function(t){var e=setTimeout(function(){clearTimeout(e),i.checkIfValidAndAddParams();},400);});});},checkIfValidAndAddParams:function checkIfValidAndAddParams(){for(var t=this,e=!1,i={},n=0;n<this.dependencies.length;n++){var s=this.dependencies[n],o=t.$el.closest("form").find('[name="'+s+'"]');if(!(o.length&&o.data("queryparam")&&(""!==o.val()&&void 0!==o.val()||""!==o.data("queryvalue")&&void 0!==o.data("queryvalue"))))return t.setHidden(),t.setText(!1,!1),e=!1;if(!(e=!o.closest(".form-group").hasClass("invalid")))return t.setHidden(),!1;if(t.autoInsertRules&&t.autoInsertRules[s]&&void 0!==t.autoInsertRules[s]&&t.autoInsertRules[s]!==o.val())return t.setHidden(),e=!1;s=o.data("queryparam"),o=o.data("queryvalue")||o.val(),s&&s.length&&o.length&&(i[s]=o);}e&&t.sendRequest(t.ajaxUrl+"?"+$.param(i));},setText:function setText(t,e){this.$autoinsertNode.text(t),t||this.$autoinsertNode.text(""),this.$autoinsertNode.text(t),this.$autoinsertValue.length&&(e?this.$autoinsertValue.val(e):this.$autoinsertValue.val(""),this.$autoinsertValue.trigger("change"));},setVisible:function setVisible(){this.$el.removeClass("is-hidden"),this.$el.removeClass("hidden");},setHidden:function setHidden(){this.$el.addClass("is-hidden"),this.$el.addClass("hidden");},sendRequest:function sendRequest(t){var n=this;$.ajax({type:"GET",dataType:"json",url:t}).done(function(t){"success"===t.status?(n.setText(t.result,t.value),n.setVisible()):"error"===t.status&&(t.error&&t.error.msg&&""!==t.error.msg?(n.setText(t.error.msg,""),n.setVisible()):n.setHidden());}).fail(function(t,e,i){n.setHidden();}),ui.trigger(ui.GlobalEvents.FORM_TRY_TO_ENABLE,{name:ui.GlobalEvents.FORM_TRY_TO_ENABLE});},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"FormAutoInsertComponent",View:ui.FormAutoInsertComponentView,selector:".ui-js-autoinsert"}),$(ui.bootstrapFormAutoInsertComponent());}.call(this),!function(){"use strict";ui.FormFieldUploadComponent=ui.ComponentView.extend({events:{change:"render"},initialize:function initialize(){this.$fileInput=this.$el,this.$item=this.$fileInput.closest(".ff-file"),this.$isFileAddedWrapper=this.$fileInput.closest(".ui-js-file-added"),this.noFileSelected=this.$el.attr("placeholder"),this.$filenameText=this.$item.find(".filename-text"),this.$uploadBtnWrapper=this.$item.find(".file-button-wrapper"),this.$uploadReset=this.$item.find(".upload-reset"),this.setPlaceholderText(),this.onClickUploadReset(),1===this.$isFileAddedWrapper.length&&this.$fileInput.click();},setPlaceholderText:function setPlaceholderText(){""!==this.noFileSelected&&this.$filenameText.html(this.noFileSelected);},onClickUploadReset:function onClickUploadReset(){var e=this;this.$uploadReset&&(this.$uploadReset.addClass("hidden"),this.$uploadReset.on("click",function(t){e.fileReset(t);}));},fileReset:function fileReset(t){this.$fileInput.get(0).value="",this.$fileInput.wrap("<form></form>"),this.$fileInput.closest("form").get(0).reset();var e=this;setTimeout(function(){e.$fileInput.unwrap();},100),this.$fileInput.focus(),this.render(t,!0),this.$fileInput.trigger("change"),this.$fileInput.trigger("file-reset");},$renderLongText:function $renderLongText(t,e,i){var n=t.css({position:"",paddingRight:"",width:""}).text(e).outerWidth();return t[0].scrollWidth>n&&((t._$elmEnd=t._$elmEnd||$("<span>")).text(e.substring(e.length-(i||8))).css({position:"absolute",right:0,paddingRight:t.css("padding-right")}).appendTo(t),t.css({position:"relative",paddingRight:t._$elmEnd.outerWidth()}).outerWidth(n!==t.outerWidth()?n:""),!0);},render:function render(t,e){var i=(this.$fileInput.val()||"").replace(/^.*[\\/]/g,"");if(t)return 1===this.$isFileAddedWrapper.length&&""!==i&&(this.$isFileAddedWrapper.removeClass("is-hidden"),this.$isFileAddedWrapper.trigger("file-added",!0)),this.$renderLongText(this.$filenameText,i),this.$filenameText&&(this.$filenameText.toggleClass("show-fat",!!i),this.$uploadBtnWrapper.toggleClass("show-fat",!!i)),this.$uploadReset&&this.$uploadReset.toggleClass("hidden",!i),this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"FormFieldUploadComponent",View:ui.FormFieldUploadComponent,selector:'.ff-file [type="file"]'}),$(ui.bootstrapFormFieldUploadComponent('.ff-file [type="file"]'));}.call(this),!function(){"use strict";ui.FormPrefillView=ui.ComponentView.extend({name:"ui.FormPrefillView",initialize:function initialize(t){return!!this.$el.data("prefill")&&1!==this.$el.closest(".ui-js-form").find("> .invalid").length&&(this.viewport=ui.Bootstrap?ui.Bootstrap.activeView:"",this.prefillData=this.formatData(this.$el.data("prefill")),this.prefillEventData=this.formatData(this.$el.data("prefillEvents")),this.autocompleteListTargets=[],this.bindEvents(),void this.triggerInit());},bindEvents:function bindEvents(){var e=this;ui.on(ui.GlobalEvents.LOGIN_PREFILL,function(t){"true"===localStorage.getItem("logLogin")&&console.info("LOGIN_PREFILL",t,JSON.stringify(t)),document.body.contains(e.$el[0])&&(t&&t.data&&(e.profileData=t.data),t&&(t.cid&&t.cid===e.cid||void 0===t.cid)?(t.cid===e.cid&&(window.setLater=!0),e.startReplacer(e.profileData),window.prefill=!0,ui.trigger(ui.GlobalEvents.LOGIN_PREFILL_DONE,{name:ui.GlobalEvents.LOGIN_PREFILL_DONE,cid:e.cid})):window.prefill=!1);});},triggerInit:function triggerInit(){ui.trigger(ui.GlobalEvents.LOGIN_PREFILL_INIT,{name:ui.GlobalEvents.LOGIN_PREFILL_INIT,cid:this.cid});},formatData:function formatData(e){if(e&&"string"==typeof e)try{e=JSON.parse(e.replace(/\\'/g,"'").replace(/'/g,'"'));}catch(t){console.log("Error parsing JSON -> data",e),console.log("Error Msg",t);}return e;},toArray:function toArray(t){return"[object Array]"===Object.prototype.toString.call(t)?t:[t];},startReplacer:function startReplacer(i){var n=this;$.each(this.prefillData,function(t,e){n.findAndReplace(t,e,i);}),setTimeout(function(){ui.trigger(ui.GlobalEvents.FORM_TRY_TO_ENABLE);},500);},triggerEvent:function triggerEvent(t,e){"focusout"===e&&window.setLater?setTimeout(function(){t.trigger(e);},200):t.trigger(e);},findAndReplace:function findAndReplace(t,e,i){var _this11=this;var n=this.$el.find('[name="'+t+'"]'),s=e.split(".");i=i;i="locale"===(e=e)?i[e].split("-")[0]:"gender"===e?i[e].charAt(0):2===s.length&&i[s[0]]&&i[s[0]][s[1]]?i[s[0]][s[1]]:i[e]||void 0;if(n&&n.length&&i&&i.length){var l=n.closest(".ui-js-form-item"),h=this.formatData(l.data("setup"));if(1===n.length&&("SELECT"===n.get(0).tagName&&this.setSelect(n,i),"INPUT"===n.get(0).tagName)){var e=n.attr("placeholder"),o=n.attr("type"),a=n.parents(".ff-date").length,r=n.parents(".ui-datepicker").length;if(a)this.setDates(n,e,i);else if("checkbox"===o)this.setCheckbox(n);else if("radio"===o)this.setRadio(n,i);else if(r){a=ui.Bootstrap.activeView||"unknown";/xs|ms|sm|md/.test(a)&&ui.browser.supportsTouch()?this.setInputNativeDatepicker(n,i):this.setInputDatepicker(n,i);}else{if(-1<this.autocompleteListTargets.indexOf(t))return void l.data("prefillValue",i);this.setInputValue(n,i);}}if(1<n.length&&"INPUT"===n.get(0).tagName&&"radio"===n.get(0).type&&this.setRadio(n,i),this.prefillEventData&&this.prefillEventData[t]){if(this.triggerEvent(n,this.prefillEventData[t]),!h||!h.removeDisableOnSelect)return;var c=this.toArray(h.removeDisableOnSelect),u=_extends({},this.prefillData);c.forEach(function(t){void 0!==t&&setTimeout(function(){_this11.$el.find('[name="'+h.removeDisableOnSelect+'"]').prop("disabled",!1),_this11.findAndReplace(t,u[t],_this11.profileData);},100);});}!h.toggleAutocompleteList||this.autocompleteListTargets.includes(h.toggleAutocompleteList)||this.autocompleteListTargets.push(h.toggleAutocompleteList);}},setSelect:function setSelect(t,i){t=t.find("option").filter(function(t,e){return e.value.toLowerCase()===i.toLowerCase();});1===t.length&&(t.get(0).selected=!0);},setDates:function setDates(t,e,i){i=i.split("-");-1<t.attr("name").indexOf(".day")?t.val(i[2]):-1<t.attr("name").indexOf(".month")?t.val(i[1]):-1<t.attr("name").indexOf(".year")&&t.val(i[0]);},setInputValue:function setInputValue(t,e){t.val(e),t.attr("disabled")&&t.removeAttr("disabled");},setInputDatepicker:function setInputDatepicker(t,e){e=e.split("-"),e=e[2]+"."+e[1]+"."+e[0];t.val(e);},setInputNativeDatepicker:function setInputNativeDatepicker(t,e){e=e.split("."),e=e[2]+"-"+e[1]+"-"+e[0];t.val(e);},setCheckbox:function setCheckbox(t){t.get(0).checked=!0;},setRadio:function setRadio(t,i){var e;1<t.length?1===(e=t.filter(function(t,e){return e.value.toLowerCase()===i.toLowerCase();})).length&&(e.get(0).checked=!0):t.get(0).checked=!0;},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"FormPrefill",View:ui.FormPrefillView,selector:".ui-js-prefill-form",reinitialize:!0}),$(ui.bootstrapFormPrefill());}.call(this),!function(){"use strict";ui.FormTextareaView=ui.ComponentView.extend({name:"ui.FormTextareaView",events:{keyup:"counter",paste:"counter"},initialize:function initialize(){this.$wrapper=this.$el.closest("[data-setup]"),this.dataSetup=JSON.parse((this.$wrapper[0].getAttribute("data-setup")||"{}").replace(/\\'/g,"'").replace(/'/g,'"')),this.$counter=this.$wrapper.find(".counter"),this.validationRules=this.dataSetup.validationRules||{},this.$textarea=this.$el,this.renderCache=void 0,this.counter();},counter:function counter(t){this.$counter&&(this.currentLength=(this.$textarea.val()||"").length,this.remainingLength=this.validationRules.maxlength-this.currentLength,this.isValidLength=this.currentLength>=(+this.validationRules.minlength||0)&&this.currentLength<=(+this.validationRules.maxlength||2e10),this.render(),t&&"paste"===t.type&&window.setTimeout(this.counter.bind(this),0));},render:function render(){return this.$counter.text(this.remainingLength),this.isValidLength!==this.renderCache&&(this.$counter.toggleClass("not-valid-length",!this.isValidLength),this.renderCache=this.isValidLength),this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"FormTextareaView",View:ui.FormTextareaView,selector:".ff-text textarea",reinitialize:!1}),$(ui.bootstrapFormTextareaView(".ff-text textarea"));}.call(this),!function(){"use strict";ui.InvisibleReCaptchaView=ui.ComponentView.extend({name:"ui.InvisibleReCaptchaView",initialize:function initialize(t){var e,i=this;0===$("#invReCap").length&&((e=document.createElement("script")).setAttribute("async",""),e.setAttribute("defer",""),e.setAttribute("id","invReCap"),e.setAttribute("src","https://www.google.com/recaptcha/api.js"),document.querySelector("head").appendChild(e)),window.onSubmit=function(t){i.$el.submit();};},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"InvisibleReCaptcha",View:ui.InvisibleReCaptchaView,selector:".ui-js-invisible-recaptcha",reinitialize:!0}),$(ui.bootstrapInvisibleReCaptcha());}.call(this),!function(){"use strict";ui.FormBlocksComponentView=ui.ComponentView.extend({name:"ui.FormBlocksComponentView",$disjunctCheckboxes:null,events:{"click :button":"click","click [data-next-subsection]":"onClickSubsection",submit:"submit"},initialize:function initialize(t){this.formGroupClass="form-group",this.blockClass="ui-js-formpart",this.activeBlockClass="formpart-active",this.stepsActiveClass="active",this.stepsClickableClass="clickable",this.topOfFormID="topOfForm",this.backButtonClass="is-back",this.nextButtonClass="is-forward",this.errorBoxClassSel=".ui-js-formpart-error",this.errorBoxHiddenClass="is-hidden",this.disabledBlockClass="js-disabled-block",this.$disjunctCheckboxes=this.$(".ui-js-checkbox-disjunction"),this.$blockSubsections=this.$(".ui-js-formpart-subsection"),this.$blocks=this.$("."+this.blockClass),this.blockItems=[],this.activeBlockIndex=this.$blocks.index(this.$blocks.filter("."+this.activeBlockClass)[0]),this.previousBlockIndex=this.activeBlockIndex,this.$form=this.$("form"),this.$savedFields=[],(s=this.$form.get(0)).uiSubmitConditions=s.uiSubmitConditions||{},s.uiSubmitConditions.activateFormBlockFields="progress",this.$steps=$("article.steps .pos-block"),this.$srToggles=this.$steps.find(".js-toggle");for(var e,i,n=this,s=($("article.steps").on("click",".clickable",function(t){n.activateBlock(n.activeBlockIndex-1);}),this.$form),o=this.$blocks,a=this.blockItems,r=this.blockClass,l=s[0],h=l.length;h--;){(i=(e=$(l[h])).closest("."+r)).length&&void 0===e.attr("disabled")&&(a[i=o.index(i)]=a[i]||$(),a[i].push(e[0]));}var c=this;if(this.$blocks.each(function(t,e){void 0!==$(e).data("saveFields")&&c.fillFields(c.getSessionStorageValues($(e).data("saveFields")),$(e));}),location.hash){var u=this.$el.find("[data-hash=\""+location.hash.substring(1)+"\"]");u&&u.data("next-subsection")&&u.trigger("click");}},onClickSubsection:function onClickSubsection(t){var e=$(t.target);t=e.next().find(".js-ff-radio-button-text").text();var i=e.closest(".ui-js-formpart-subsection");var n=i.data("subsection");var s=i.prev("[data-subsection]").find("[data-next-subsection=\""+n+"\"]");var o=e.data("next-subsection"),a=/xs|ms/.test(ui.Bootstrap.activeView)?50:200;var r=e.offset().top-a;if(i.attr("hidden")&&(i.removeAttr("hidden"),s.prop("checked",!0)),this.$blockSubsections.eq(0).data("subsection")===n&&this.$blockSubsections.not(":eq(0)").attr("hidden",!0).find("[data-next-subsection]").prop("checked",!1),o){var h=this.$("[data-subsection=\""+o+"\"]"),c=h.find("[data-next-subsection]");c&&c.prop("checked",!1),h.removeAttr("hidden"),r=h.offset().top-a;}var l=0<s.length?[s.next().find(".js-ff-radio-button-text").text(),t]:[t];this.$el.find(".js-topic-container").html(l.join("/")+" – "),$("html, body").stop().animate({scrollTop:r},250),location.hash=e.data("hash");},getSessionStorageValues:function getSessionStorageValues(t){return this.$savedFields.push(t),JSON.parse(sessionStorage.getItem(t));},fillFields:function fillFields(t,e){if(!t)return!1;for(var i=t.stepDirection,n=t.hasFileInput,s=t.fields,o=0;o<s.length;o++){var a,r=$('[name="'+s[o].name+'"]');0<r.length&&("radio"===r[0].type||"checkbox"===r[0].type?1<r.length&&(r.each(function(t,e){if(e.value===s[o].value)return!(e.checked=!0);}),r.data("next-subsection")&&r.trigger("click")):"textarea"!==r[0].type&&"text"!==r[0].type||(1<r.length?(a=s.filter(function(t){return t.name===r[0].name;}),r.each(function(t,e){void 0!==a[t]&&(e.value=a[t].value);})):r[0].value=s[o].value));}n?e.find(this.errorBoxClassSel).removeClass(this.errorBoxHiddenClass):this.activateBlock(i);},toggleItemsReadonly:function toggleItemsReadonly(t,i){var n=this;t.each(function(t,e){!$(e).closest("."+n.disabledBlockClass).length&&(i?e.setAttribute("disabled",""):e.removeAttribute("disabled"));});},activateBlock:function activateBlock(t){this.$blocks[t]&&($(document).trigger("form:stepchange",{type:"form:stepchange",currentTarget:this.$blocks[this.activeBlockIndex]}),this.previousBlockIndex=this.activeBlockIndex,this.activeBlockIndex=t,ui.trigger(ui.GlobalEvents.Z_INDEX_ACTOR_OPEN),this.render());},click:function click(t){var t=$(t.target),e=t.hasClass(this.backButtonClass),i=t.hasClass(this.nextButtonClass),t=(t.is('[type="submit"]'),this.activeBlockIndex+(e?-1:i?1:0));e?this.activateBlock(t):i&&(e=this.oneCheckboxChecked(),i=this.$form.valid(),e&&i&&(this.saveFormPartInSessionStorage($(this.$blocks[this.activeBlockIndex]),t),this.activateBlock(t)));},saveFormPartInSessionStorage:function saveFormPartInSessionStorage(t,e){var i,n=t.data("saveFields");n&&(t=$("input, select, textarea",t).filter(':not([name="MAX_FILE_SIZE"])'),i=!1,t.filter('input[type="file"]').each(function(t,e){if(""!==e.value)return!(i=!0);}),e={stepDirection:e,hasFileInput:i,fields:t.serializeArray()},sessionStorage.setItem(n,JSON.stringify(e)),this.$savedFields.push(n));},oneCheckboxChecked:function oneCheckboxChecked(){var t,e,i;return!this.$disjunctCheckboxes.length||(t=this.$disjunctCheckboxes.find('input[type="checkbox"]'),e=!1,i=this,t.each(function(){$(this).prop("checked")&&(i.markCheckboxesInvalid(!0),e=!0);}),this.markCheckboxesInvalid(e),e);},markCheckboxesInvalid:function markCheckboxesInvalid(t){this.$disjunctCheckboxes.toggleClass("invalid",!t),this.$disjunctCheckboxes.find(".error-box").toggleClass("hidden",t),t||(t=this.$disjunctCheckboxes.offset(),$("html, body").animate({scrollTop:t.top},500));},submit:function submit(t){var i=this;t.preventDefault(),t=this.$form.get(0),$(this.blockItems).each(function(t,e){i.toggleItemsReadonly($(e),!1);}),window.deleteSavedFields=this.$savedFields,t.uiSubmitConditions.activateFormBlockFields="done",ui.formSubmitHandler(t);},render:function render(){var t,i=this,e=$(this.$srToggles[this.activeBlockIndex]),n=$(this.$srToggles[this.previousBlockIndex]);if($(this.blockItems).each(function(t,e){i.toggleItemsReadonly($(e),i.activeBlockIndex!==t);}),!this.renderedAllready)return this.renderedAllready=!0,this;this.$blocks.removeClass(this.activeBlockClass).filter(this.$blocks[this.activeBlockIndex]).addClass(this.activeBlockClass),t=n.text(),n.text(e.text()),e.text(t),this.$steps.removeClass(this.stepsActiveClass).removeClass(this.stepsClickableClass).filter(this.$steps[this.activeBlockIndex]).addClass(this.stepsActiveClass).removeClass(this.stepsClickableClass);for(var s=this.activeBlockIndex;s--;){this.$steps.eq(s).addClass(this.stepsClickableClass);}return(n=$("#"+this.topOfFormID).offset())&&$("html, body").animate({scrollTop:n.top},500),this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"FormBlocksComponentView",View:ui.FormBlocksComponentView,selector:".ui-js-formblocks"}),$(ui.bootstrapFormBlocksComponentView(".ui-js-formblocks"));}.call(this),!function(){"use strict";ui.FormBusinessLogicComponentView=ui.ComponentView.extend({name:"ui.FormBusinessLogicComponentView",$submitBtn:null,events:{"validates:valid":"validateEvent","validates:invalid":"validateEvent","change select":"clearSelectDependencies"},initialize:function initialize(){var t;this.$submitBtn=this.$(".ui-js-disable-onsubmit"),this.$submitBtn.length&&(t=this.disableSubmitBtn.bind(this),this.$el.on("submit",t));},render:function render(){return this.setup&&this.setup.insertValues&&this.insertOnRender(this.setup.insertValues,this.setup.insertDelay),this;},validateEvent:function validateEvent(t,e){var i,n;if(e&&e.$item){if(i=e.$item.data("setup"),e&&e.$element&&(""===e.$element.val()||"checkbox"===e.$element.get(0).type&&!1===e.$element.get(0).checked)&&(e.isValid=!1),i&&i.toggleSelectList&&i.toggleSelectListSource){var d=this.$('[name="'+i.toggleSelectList+'"]'),p=this.$('[name="'+i.toggleSelectListSource+'"]');var s="CH"===p.attr("data-queryvalue")||"CH"===p.val(),o="SELECT"===p[0].nodeName&&p.find("option[value="+p.val()+"]"),o=!!(o.length&&o[0].dataset.setup&&JSON.parse(o[0].dataset.setup).showNext);e.isValid&&(s||o)?d.trigger("autocomplete:getResults",["basicSelect"]):(e.isValid||!s&&!o)&&(void 0!==e.isValid||s&&o)||d.trigger("autocomplete:removeSelectBox");}if(i&&i.toggleAutocompleteList){var f=this.$('[name="'+i.toggleAutocompleteList+'"]');e.isValid?f.trigger("autocomplete:getResults",["advancedSelect",e]):f.trigger("autocomplete:removeSelectBox",["advancedSelect"]);}if(i&&i.addDisableOnSelect)for(var a,r=(a=this.toArray(i.addDisableOnSelect)).length;r--;){(n=this.$('[name="'+a[r]+'"]')).length&&void 0!==e.isValid&&(e.isValid?this.toggleDisabled($(n[n.length-1]),!e.isValid):this.toggleDisabled($(n[0]),!e.isValid));}if(i&&i.removeDisableOnSelect)for(var l,h=(l=this.toArray(i.removeDisableOnSelect)).length;h--;){(n=this.$('[name="'+l[h]+'"]')).length&&void 0!==e.isValid&&(e.isValid?this.toggleDisabled($(n[n.length-1]),e.isValid):this.toggleDisabled($(n[0]),e.isValid));}if(i&&i.resetValueOnChange)for(var c,u=(c=this.toArray(i.resetValueOnChange)).length;u--;){(n=this.$('[name="'+c[u]+'"]')).length&&void 0!==e.isValid&&this.toggleValue($(n[0]),e.isValid);}}},toggleDisabled:function toggleDisabled(t,e){e?this.checkIfActive(t)||this.checkIfDisabled(t)||(t.removeAttr("disabled"),t.removeAttr("readonly"),ui.trigger(ui.GlobalEvents.FORM_TRY_TO_ENABLE,{name:ui.GlobalEvents.FORM_TRY_TO_ENABLE})):(t.is(":disabled")||(t.attr("disabled","disabled"),t.val(""),t.trigger("reset")),this.disableNextInChain(t));},toggleValue:function toggleValue(t,e){e||t.is(":disabled")||t.val("");},checkIfActive:function checkIfActive(t){if(t&&t.length&&(t=t.closest(".ui-js-form-item").data("setup"))&&t.checkIfActive){t=t.checkIfActive,t=$('[name="'+t+'"]');if(t.length)return t.get(0).checked;}},checkIfDisabled:function checkIfDisabled(t){if(t&&t.length&&(t=t.closest(".ui-js-form-item").data("setup"))&&t.checkIfDisabled){for(var t=t.checkIfDisabled,e=$('[name="'+t+'"]'),i=e.length;i--;){if(!1===e[i].disabled)return!1;}return!0;}},disableNextInChain:function disableNextInChain(t){var e;if(t&&t.length){if((t=t.closest(".ui-js-form-item").data("setup"))&&t.removeDisableOnSelect)for(var i,n=(i=this.toArray(t.removeDisableOnSelect)).length;n--;){(e=$('[name="'+i[n]+'"]')).length&&this.toggleDisabled(e,!1);}if(t&&t.resetValueOnChange)for(var s,o=(s=this.toArray(t.resetValueOnChange)).length;o--;){(e=$('[name="'+s[o]+'"]')).length&&this.toggleValue(e,!1);}}},clearSelectDependencies:function clearSelectDependencies(t){var e=$(t.target).closest(".ui-js-form-item").data("setup");if(e&&e.removeDisableOnSelect)for(var i,n,s=(i=this.toArray(e.removeDisableOnSelect)).length;s--;){(n=this.$('[name="'+i[s]+'"]')).length&&(n.val(""),(n=n.closest(".ui-js-form-item")).length&&this.validateEvent(null,{$item:n}));}if(e&&e.toggleSelection){var r=$(t.target).find("option:selected"),l=r[0]&&r[0].getAttribute("data-setup")||"";var o=!!l&&JSON.parse(l.replace(/\\'/g,"'").replace(/'/g,'"'));if(o&&(o.showNext&&this.showHideNext(o.showNext,!0),o.hideNext))for(var a=0;a<o.hideNext.length;a++){this.showHideNext(o.hideNext[a],!1);}}},showHideNext:function showHideNext(t,e){var t=$("#"+t),i=t.parent();e?(i.removeClass("hidden"),t.removeAttr("disabled")):(i.addClass("hidden"),t.attr("disabled","disabled"));},insertOnRender:function insertOnRender(i,t){var e=Object.keys(i),n=this;setTimeout(function(){e.forEach(function(t){var e=n.$('input[name="'+t+'"]');e.length&&e.val(i[t]);});},t||0);},disableSubmitBtn:function disableSubmitBtn(t){var e=this,t=$(t.target);this.$submitBtn.length&&t.valid(!0)&&(this.$submitBtn.attr("disabled","disabled"),setTimeout(function(){e.$submitBtn.removeAttr("disabled");},3e3));},toArray:function toArray(t){return"[object Array]"===Object.prototype.toString.call(t)?t:[t];}}),ui.ComponentFactory.createPlugin({pluginMethodName:"FormBusinessLogicComponent",View:ui.FormBusinessLogicComponentView,selector:".ui-js-form-logic"}),$(ui.bootstrapFormBusinessLogicComponent()),$("form").on("validation",function(t,e){var i,n="form-group";e.isValid||e.silent||(i=e.view.$("."+n+".invalid").first(),e=e.view.$(".error-box:not(:hidden)").closest("."+n),i.hasClass("ui-js-autoinsert")?$("html, body").animate({scrollTop:i.eq(0).offset().top},500):e.length&&$("html, body").animate({scrollTop:e.eq(0).offset().top},500));});}.call(this),!function(){"use strict";ui.FormControlComponentView=ui.ComponentView.extend({name:"ui.FormControlComponentView",events:{click:"action",focusout:"action",change:"action",mouseup:"action",focus:"action"},condition:!1,initialize:function initialize(t){this.formItemClass="ui-js-form-item",this.$form=this.$("form");},action:function action(t){var e,i=$(t.target).closest("."+this.formItemClass+"[data-setup]")[0],n=this.setup.actionrules?{actionrules:this.setup.actionrules}:i&&JSON.parse(i.getAttribute("data-setup").replace(/\\'/g,"'").replace(/'/g,'"')),s="";if(this.condition=!1,n&&n.actionrules&&(!n.actionrules.event||n.actionrules.event===t.type))for(var o=n.actionrules.length;o--;){for(s in e=n.actionrules[o]){this[s+"Rule"]&&this[s+"Rule"](e[s],t);}}},splitFieldRule:function splitFieldRule(i,n){if(!i.event||i.event===n.type){var s=$(n.target),o=$("[id='"+i.splittedField+"']");var t=void 0,e=void 0;o&&(t=s.val(),(e=t.match(/\s[1-9][0-9]*[a-zA-Z]{0,3}((\.\d+)?)$/g))&&e[0]&&(n=t.split(e)[0],s.val(n),s.autocomplete()&&(s.autocomplete().currentValue=n),o.val(e[0].trim())));}},togglePropertyRule:function togglePropertyRule(t,e){var i,n,s=this.$form[0],o=0,a=this;if((!t.event||t.event===e.type)&&(!this.condition||t.conditions)){for(var r=t.conditions.length;r--;){n=(i=t.conditions[r]).name?s[i.name]:document.getElementById(i.id),o+=i.not?n[i.property]!==i.not?1:0:n[i.property]===i.value?1:0;}this.condition=o===t.conditions.length;for(var l=t.elements.length;l--;){void 0!==(i=t.elements[l]).attribute?($(i.selector).attr(i.attribute,this.condition?i.value:""),i.propertySync&&$(i.selector).each(function(t,e){e[i.attribute]=a.condition?i.value:"";})):$(i.selector).toggleClass(i.className,this.condition),t.fireEvent&&$(document).trigger(t.fireEvent+".rule",[$(i.selector),this.condition]);}}},copyValuesRule:function copyValuesRule(l,t){var h,c=this,u=[];l.event&&l.event!==t.type||(l.initialPostfix=l.initialPostfix||"",this.$('[name*="'+l.postfix+'"]').each(function(t,e){var i=c.$('[name="'+e.name.replace(l.postfix,l.initialPostfix)+'"]')[0];var n=$(e);var s=$(i).parent().data("setup"),o=n.parent().data("setup");if(i)if(h=i.tagName.toLowerCase(),e.removeAttribute("disabled"),/(?:radio|check)/.test(i.type))e.checked=i.checked;else if(!(-1<u.indexOf(e.name.replace(l.postfix,l.initialPostfix))))if(s&&s.toggleAutocompleteList&&o&&o.toggleAutocompleteList){var a=c.$("[name=\""+o.toggleAutocompleteList+"\"]").parent(),r=c.$("[name=\""+s.toggleAutocompleteList+"\"]");e.value=i.value,u.push(s.toggleAutocompleteList),a.data("prefillValue",r.val()),n.trigger("change");}else("input"===h||"select"===h)&&(e.value=i.value);}));}}),ui.ComponentFactory.createPlugin({pluginMethodName:"FormControlComponentView",View:ui.FormControlComponentView,selector:".ui-js-formControl"}),$(ui.bootstrapFormControlComponentView(".ui-js-formControl")),$(document).on("hiddenArea.rule",function(t,e,i){e.find(":input").each(function(t,e){i?e.setAttribute("disabled",""):e.removeAttribute("disabled");});});}.call(this),!function(){"use strict";ui.FormFileAddComponentView=ui.ComponentView.extend({name:"ui.FormFileAddComponentView",events:{"click .ui-js-file-add":"addFileInput",'change .ui-js-file-row-wrap:first .ff-file [type="file"]':"checkFileAddBtn","file-reset .ui-js-file-added":"removeFileInput","file-added .ui-js-file-added":"setCounterAndSetButtonStatus"},initialize:function initialize(t){this.$wrapFileRowWrap=this.$el.find(".ui-js-file-row-wrap"),this.$firstFileInput=this.$wrapFileRowWrap.first().find('.ff-file [type="file"]'),this.$addFileBtn=this.$el.find(".ui-js-file-add"),this.counter=this.$wrapFileRowWrap.find(".ui-js-file-row").length,this.counterMax=t.maxFileAdd,this.inputMatrix=this.initInputMatrix(this.counterMax),this.firstFileInputWasFilled=!1,this.checkFileAddBtn();},initInputMatrix:function initInputMatrix(t){for(var e=[],i=0;i<this.counterMax;i++){i<this.counter?e.push(!1):e.push(!0);}return e;},isTrue:function isTrue(t){return t;},toggleFileAddBtn:function toggleFileAddBtn(t){t?this.$addFileBtn.css({display:"block"}):this.$addFileBtn.css({display:"none"});},setCounterAndSetButtonStatus:function setCounterAndSetButtonStatus(t,e){e?this.counter++:this.counter--,this.checkFileAddBtn();},checkFileAddBtn:function checkFileAddBtn(){var t=this.$firstFileInput.closest(".file-button-wrapper");this.$firstFileInput.val().length&&this.counterMax&&this.counterMax>this.counter&&1<=this.counter?(this.toggleFileAddBtn(!0),this.firstFileInputWasFilled&&this.$firstFileInput.closest(".file-button-wrapper").show().next().next().show(),this.firstFileInputWasFilled=!0):!this.$firstFileInput.val().length&&this.firstFileInputWasFilled&&this.counterMax&&this.counterMax>this.counter&&1<this.counter?(this.toggleFileAddBtn(!0),t.hide().next().next().hide()):(this.toggleFileAddBtn(!1),t.show().next().next().show());},addFileInput:function addFileInput(t){t.preventDefault();t=this.$wrapFileRowWrap.find(".ui-js-file-added");if(!this.$firstFileInput.val().length)return this.$firstFileInput.click(),!1;if((t=$(t[t.length-1])).hasClass("is-hidden"))return t.find('.ff-file [type="file"]').click(),!1;var t=this.$wrapFileRowWrap.find(".file-inputs-template").first().html(),e=this.inputMatrix.findIndex(this.isTrue),t=(t=t.replace(/%COUNT%/g,e+1),this.inputMatrix[e]=!1,t=(t=t.replace(/ui-js-file-row/g,"ui-js-file-row ui-js-file-added is-hidden")).replace(/file-button-wrapper/g,"file-button-wrapper is-hidden"),this.$wrapFileRowWrap.append(t),this.$wrapFileRowWrap.find('.ff-file [type="file"]'));(t=$(t[t.length-1])).attr("data-file-id",e+1),$(ui.bootstrapFormFieldUploadComponent(t[0]));},removeFileInput:function removeFileInput(t){this.inputMatrix[$(t.currentTarget).find("[data-file-id]").attr("data-file-id")-1]=!0,$(t.target).unbind(),$(t.currentTarget).remove(),this.setCounterAndSetButtonStatus(null,!1);}}),ui.ComponentFactory.createPlugin({pluginMethodName:"FormFileAddComponent",View:ui.FormFileAddComponentView,selector:".ui-js-file-add-wrap"}),$(ui.bootstrapFormFileAddComponent());}.call(this),!function(){"use strict";ui.FormMagazineOnlineComponentView=ui.ComponentView.extend({name:"ui.FormMagazineOnlineComponentView",initialize:function initialize(t){this.$formMagazineLink=this.$el.find('[data-js-item="form-magazine-online-btn"]'),this.$zipCodeEl=this.$el.find('[name="ref-zipCode"]'),this.$yearSelectEl=this.$el.find('[name="ref-year"]'),this.$zoneSelectEl=this.$el.find('[name="ref-zone"]'),this.$hiddenInputIssueEl=this.$el.find('input[name="ref-issue"]'),this.$issueSelectEl=this.$el.find('select[name="ref-issue"]'),this.$formErrorBox=this.$el.find('[data-js-item="form-magazine-online-error"]'),this.$zipCodeEl&&this.$yearSelectEl&&this.$yearSelectEl&&this.$issueSelectEl&&(this.changeHiddenInputIdAndDisableIt(this.$hiddenInputIssueEl),this.errorOnZipCode(this.$zipCodeEl,"remove"),this.sendYearAndGetIssue(this.$yearSelectEl),this.$yearSelectEl.on("change",function(){this.sendYearAndGetIssue(this.$yearSelectEl);}.bind(this)),this.$formMagazineLink.on("click",function(t){t.preventDefault(),this.$zipCodeEl.length?this.checkZipCodeAndGetLinkUrl(this.$zipCodeEl):this.$zoneSelectEl.length&&this.getLinkUrl();}.bind(this)));},sendYearAndGetIssue:function sendYearAndGetIssue(t){var e;this.isAjaxItem(t)&&(t=t.data("ajax-url").listIssueUrl,e={year:this.$yearSelectEl.val()},this.callAjax(t,e,"select"));},checkZipCodeAndGetLinkUrl:function checkZipCodeAndGetLinkUrl(t){this.zipCodeValueIsValid(t)?(this.errorOnZipCode(t,"remove"),this.getLinkUrl()):this.errorOnZipCode(t,"add");},getLinkUrl:function getLinkUrl(){var t,e;this.isAjaxItem(this.$el)&&(t=this.$el.data("ajax-url").magazineUrl,e=this.$el.serialize(),this.callAjax(t,e,"link"));},errorOnZipCode:function errorOnZipCode(t,e){"remove"===e?t.closest(".ui-js-form-item").find(".error-box").addClass("hidden"):"add"===e&&t.closest(".ui-js-form-item").find(".error-box").removeClass("hidden");},changeHiddenInputIdAndDisableIt:function changeHiddenInputIdAndDisableIt(t){t&&t.length&&(t[0].id=t[0].id+"-input",t.attr("disabled","disabled"));},zipCodeValueIsValid:function zipCodeValueIsValid(t){return!t.closest(".ui-js-form-item")[0].classList.contains("invalid")&&t.val().length;},isAjaxItem:function isAjaxItem(t){return void 0!==t.attr("data-ajax-url")&&""!==t.attr("data-ajax-url");},callAjax:function callAjax(t,e,i){var n,s="link"===i;s&&(n=window.open());var o=this;t={async:!1,url:t,dataType:"json",type:o.$el.attr("method")||"get",data:e};$.ajax(t).done(function(t){s?void 0!==t&&t.url&&t.url.length&&o.setLinkTargetAndOpenNewTab(t.url,n):"select"===i&&void 0!==t&&t.length&&o.resetOptionsAndSetNewOptions(t);}).fail(function(){console.error("no data is found for ajax request"),s&&o.setErrorMessageOnLink(n);});},setErrorMessageOnLink:function setErrorMessageOnLink(t){this.$formErrorBox[0].classList.remove("is-hidden"),t.close();},setLinkTargetAndOpenNewTab:function setLinkTargetAndOpenNewTab(t,e){this.$formErrorBox[0].classList.add("is-hidden"),this.$formMagazineLink.attr("href",t),e.target="_blank",e.opener=null,e.location=t;},resetOptionsAndSetNewOptions:function resetOptionsAndSetNewOptions(t){this.$issueSelectEl[0].options.length=0;var e=[],i="";Array.isArray(t)?Array.isArray(t)&&(e=t):e=[t],e.forEach(function(t,e){i+='<option value="'+t.value+'">'+t.value+"</option>";}),this.$issueSelectEl.append(i);}}),ui.ComponentFactory.createPlugin({pluginMethodName:"FormMagazineOnlineComponent",View:ui.FormMagazineOnlineComponentView,selector:'[data-js-module="form-magazine-online"]'}),$(ui.bootstrapFormMagazineOnlineComponent());}.call(this),!function(){"use strict";ui.FormValidationView=ui.ComponentView.extend({name:"ui.FormValidationView",events:{validate:"action",change:"action",reset:"action",focusout:"action",focusin:"action",keyup:"action",keydown:"action",submit:"action",show:"datePickerStatus",hide:"datePickerStatus","autocomplete:start":"autoCompleteStatus","autocomplete:selected":"autoCompleteStatus"},initialize:function initialize(t){var e;this.$form=this.$el.find("form"),this.$form.on("submit",this.submit.bind(this)),(e=this.$form.get(0)).uiSubmitConditions=e.uiSubmitConditions||{},e.uiSubmitConditions.validating="progress",this.isAllValid=!1,this.errors=[],this.validateSilent=!1,this.datePickerIsOpen=!1,this.autoCompleteIsOpen=!1,this.replacePrefixWithAutoFormat(),this.$el.hasClass("ui-js-disabled-until-valid")&&(this.setUpFormValidation(),this.tryToEnableSubmit(this.$el.find('[type="submit"]')));},replacePrefixWithAutoFormat:function replacePrefixWithAutoFormat(){this.$form.find('[type="tel"][value^="+41"]').each(function(t,e){var i=$(e).closest(".ui-js-form-item[data-setup]"),i=i[0]&&i[0].getAttribute("data-setup")||"";(i?JSON.parse(i.replace(/\\'/g,"'").replace(/'/g,'"')).validationRules:null).autoFormat&&(e.value=e.value.replace("+41","0"),e.value=e.value.replace("0 ","0"));});},datePickerStatus:function datePickerStatus(t){this.datePickerIsOpen="show"===t.type;},autoCompleteStatus:function autoCompleteStatus(t){this.autoCompleteIsOpen="autocomplete:start"===t.type,"autocomplete:selected"===t.type&&(this.autoCompleteIsOpen=!1,$(t.target).trigger("change"));},action:function action(t){var e,i,n=$(t.target),s=n.closest(".ui-js-form-item[data-setup]"),o=s[0]&&s[0].getAttribute("data-setup")||"",a=o?JSON.parse(o.replace(/\\'/g,"'").replace(/'/g,'"')).validationRules:null,o=o?JSON.parse(o.replace(/\\'/g,"'").replace(/'/g,'"')).autocomplete:null,r=t.type;if(n.is(":disabled")&&o&&0<o.autocompleteDependencies.length){var g=n.closest(".ui-js-form");o.autocompleteDependencies.reduce(function(t,e){return 0<g.find("[name=\""+e+"\"]").val();},!1)&&this.doValidate(s,n,a,!0);}if("reset"===r&&this.removeErrorStatus(s,n,a),"focusin"===r&&a&&a.dynamicSelectionRules&&(0,ui.validator.dynamicSelectionRules)(n[0],a.dynamicSelectionRules,!0),("keydown"===r||"keyup"===r)&&a&&a.touppercase&&n.val(n.val().toUpperCase()),"keydown"===r&&a&&(a.integer||a.number)&&a.onkeydown&&("tel"===n.attr("type")||a.plz)&&(o=t.keyCode||t.which,d=t.ctrlKey||t.metaKey,e=t.shiftKey,i=t.altKey,d=d&&65===o||d&&67===o||d&&86===o||d&&88===o||46===o||37===o||39===o||13===o||9===o||8===o,96<=o&&o<=105&&(o-=48),f=a.integer&&!/-?\d/.test(String.fromCharCode(o)),o=a.number&&!/\d/.test(String.fromCharCode(o)),d||(f||e||i||o||e||i)&&t.preventDefault()),n.is(":hidden")&&a&&a.hiddenValidate)this.doValidate(s,n,a,!1);else if(n.is(":hidden")&&"file"===n[0].type&&a&&a.fileSize&&a.fileType||!(!a||!1===a["on"+r]||"keyup"===r&&9===t.keyCode||n.is(":hidden, [readonly], [disabled]")||n.closest("button")[0]))if(this.datePickerIsOpen||this.autoCompleteIsOpen&&"keyup"!==r)this.autoCompleteIsOpen=!1,this.doValidate(s,n,a,!0);else if(a.autoFormat&&"keyup"===r&&a.onkeyup){var l,h,c=event.target.selectionStart,u=!1,d=/\b(\d{1,3})(\d{1,3})?(\d{1,2})?(\d{1,2})?(\d{1,})*\b/,p="$1 $2 $3 $4 $5",f=n.val(),m=!!n.next().hasClass("ui-js-placeholder-text")&&n.next();0<m.length&&(l=m.data("placeholder"),h=l),!0!==a.autoFormat&&a.autoFormatReplaceEx&&(d=new RegExp(a.autoFormat),p=a.autoFormatReplaceEx);var v=p.match(/(\$\d)/g);o=f.replace(/\s/g,"").replace(/\D/g,"").trim().replace(d,function(t){for(var e="",i=0;i<v.length;i++){var n="";void 0!==arguments[i+1]&&(0<i&&(n=p.substring(p.indexOf(v[i-1])+v[i-1].length,p.indexOf(v[i]))),c>e.length&&c<=e.length+n.length&&(u="Backspace"===event.key?c===e.length+n.length?c:e.length:"Delete"===event.key||"Del"===event.key||"d"===event.key&&event.ctrlKey?c:"ArrowRight"===event.key||"Right"===event.key?e.length+n.length:"ArrowLeft"===event.key||"Left"===event.key?c===e.length+n.length?c:e.length:e.length+n.length+1),e=e+n+arguments[i+1]);}return 0<m.length&&(h="<ins>"+l.slice(0,e.length)+"</ins>"+l.slice(e.length)),e;});0<m.length&&(m[0].innerHTML=h),n.val(o),a.checkMembershipPrefix&&1<o.length&&this.doValidate(s,n,{checkMembershipPrefix:a.checkMembershipPrefix},this.validateSilent||a.silent),"Backspace"===event.key?u?n[0].setSelectionRange(u,u):n[0].setSelectionRange(c,c):u?n[0].setSelectionRange(u,u):c<o.length&&n[0].setSelectionRange(c,c);}else"keyup"===r&&a.onkeyup?a.plz?(!a.minlength&&n.attr("minlength")&&0<parseInt(n.attr("minlength"))&&(a.minlength=parseInt(n.attr("minlength"))),!a.maxlength&&n.attr("maxlength")&&0<parseInt(n.attr("maxlength"))&&(a.maxlength=parseInt(n.attr("maxlength"))),a.minlength&&n.val().length>=a.minlength&&this.doValidate(s,n,a,!a.onkeyup)):this.doValidate(s,n,a,!a.onkeyup):a.partialDate&&"focusout"===r?0===$(t.currentTarget).find(t.relatedTarget).length&&this.doValidate(s,n,a,this.validateSilent||a.silent):"focusout"===r||"change"===r||"validate"===r?(!a.minlength&&n.attr("minlength")&&0<parseInt(n.attr("minlength"))&&(a.minlength=parseInt(n.attr("minlength"))),!a.maxlength&&n.attr("maxlength")&&0<parseInt(n.attr("maxlength"))&&(a.maxlength=parseInt(n.attr("maxlength"))),this.doValidate(s,n,a,this.validateSilent||a.silent)):"focusin"===r&&a.onfocusin&&this.removeErrorStatus(s,n,a);},doValidate:function doValidate(t,e,i,n){var s,o,a,r,l,h=!0,c=[];for(l in i){s=(o=ui.validator[l])&&o(e[0],i[l]),a=e.is(":radio")&&"required"===l,r=e.is(":checkbox")&&"required"===l,(i.required||""!==e.val())&&(o&&!s||a&&!this.$form.find("input[name="+e.attr("name")+"]").is(":checked")||r&&!e.is(":checked"))&&(this.isAllValid=h=!1,c.push(l),this.errors.push(l));}h||n?(i.onkeyup&&i.onfocusin||h&&!n)&&this.removeErrorStatus(t,e,i):this.setErrorStatus(t,e,i,c),n||e.trigger("validates:"+(h?"valid":"invalid"),{$item:t,$element:e,rules:i,isValid:h,silent:!!n,errors:c});},setErrorStatus:function setErrorStatus(t,e,i,n){var s,o=t.closest(".ui-js-form-group-items");if(t[n?"addClass":"removeClass"]("invalid"),(s=(o=o[0]?o.eq(0):t).find(".error-box")).addClass("hidden").eq(0)[n?"removeClass":"addClass"]("hidden"),1===o.length)for(var a=o.find(".ui-js-form-item"),r=0;r<a.length;r++){if($(a[r]).hasClass("invalid")){1===s.length&&s.removeClass("hidden");break;}}},removeErrorStatus:function removeErrorStatus(t,e,i){this.setErrorStatus(t,e,i);},submit:function submit(t){t.preventDefault(),this.valid()||/noValidate/.test(window.location.search)?((t=t.target).uiSubmitConditions.validating="done",ui.formSubmitHandler(t)):window.grecaptcha&&window.grecaptcha.reset();},valid:function valid(t,e){var i=e||this.$form[0];this.isAllValid=!0,this.errors=[],this.validateSilent=!!t;for(var n=0,s=i.length;n<s;n++){$(i[n]).trigger("validate");}return this.$form.trigger("validation",{view:this,isValid:this.isAllValid,silent:this.validateSilent,errors:this.errors}),this.validateSilent=!1,this.isAllValid;},setUpFormValidation:function setUpFormValidation(){var _this12=this;var e=this.$el.find('[type="submit"]');e.addClass("disabled"),Array.from(this.$form[0]).forEach(function(t){t.type&&"hidden"!==t.type&&"FIELDSET"!==t.nodeName&&$(t).on("input",function(){return _this12.tryToEnableSubmit(e);});}),ui.on(ui.GlobalEvents.FORM_TRY_TO_ENABLE,function(){_this12.tryToEnableSubmit(e);}),ui.on(ui.GlobalEvents.LOGIN_PREFILL_DONE,function(){_this12.tryToEnableSubmit(e);});},tryToEnableSubmit:function tryToEnableSubmit(t){t.toggleClass("disabled",!this.valid(!0));}}),ui.ComponentFactory.createPlugin({pluginMethodName:"FormValidationView",View:ui.FormValidationView,selector:".ui-js-form"}),$(ui.bootstrapFormValidationView(".ui-js-form")),jQuery.fn.valid=function(t){return $(this).closest(".ui-js-form").prop("View").valid(t);};}.call(this),!function(){"use strict";ui.PasswordCheckerView=ui.ComponentView.extend({name:"ui.PasswordCheckerComponentView",events:{"change input.ui-js-password":"checkStrength","keyup input.ui-js-password":"checkStrength","paste input.ui-js-password":"checkStrength",reset:"checkStrength"},$password:null,$passRepeat:null,$hints:null,lastValue:"",strength:-1,stopCriteria:{whitespace:/\s/g},negCriteria:{stopwords:/(password|qwert|asdf|fghj|hello|world|welt|pwd|migros)/g},posCriteria:{special:/\W/g,uppercase:/[A-Z]/g,lowercase:/[a-z]/g,digit:/[0-9]/g},defaults:{pwExcellent:{matchCriteria:4},pwSufficient:{minlength:5,matchCriteria:2}},initialize:function initialize(){this.$password=this.$(".ui-js-password"),this.$passRepeat=this.$(".ui-js-password-repeat"),this.$hints=this.$(".strength");},matchRegex:function matchRegex(t,e){t=t.match(e);return t?t.length:0;},countMatches:function countMatches(t,e){var i,n=0;for(i in e){this.matchRegex(t,e[i])&&n++;}return n;},checkStrength:function checkStrength(t){var e=this.$password.val();if("reset"===t.type)e="",this.strength=-1;else if(e===this.lastValue)return;0<e.length&&e.length<this.setup.pwSufficient.minlength?this.strength=0:0<e.length&&(this.countMatches(e,this.stopCriteria)?this.strength=0:(this.strength=0,this.strength+=this.countMatches(e,this.posCriteria),this.strength-=this.countMatches(e,this.negCriteria))),this.lastValue=e,this.render();},passed:function passed(){return!(this.strength<this.setup.pwSufficient.matchCriteria);},render:function render(){return this.$hints.addClass("hidden"),this.$password.removeClass("lev-0 lev-1 lev-2 lev-3 lev-4 is-green"),this.$password.val()&&0<=this.strength&&(this.strength>=this.setup.pwExcellent.matchCriteria?(this.$(".strength.excellent").removeClass("hidden"),this.$password.addClass("is-green")):this.strength>=this.setup.pwSufficient.matchCriteria?(this.$(".strength.sufficient").removeClass("hidden"),this.$password.addClass("is-green")):this.$(".strength.insufficient").removeClass("hidden"),this.$password.addClass("lev-"+this.strength)),this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"PasswordCheckerComponent",View:ui.PasswordCheckerView,selector:".ui-js-password-checker"}),$(ui.bootstrapPasswordCheckerComponent());}.call(this),!function(t){"use strict";var o={fileSizes:{}};t.ui.validator={fileSize:function fileSize(t,e){var i=t.form.querySelector('[name="MAX_FILE_SIZE"]'),i=parseInt(t.getAttribute("data-max-size")||t.getAttribute("max-size")||(i?i.value:2e10));return(t.files&&t.files[0]?+t.files[0].size:0)<=i;},formFileSizeGroup:function formFileSizeGroup(t,e){var i=t.form.querySelector('[name="GROUP_MAX_FILE_SIZE"][data-file-size-group-max="'+e+'"]'),n=t.form.querySelectorAll('[data-file-size-group="'+e+'"] input[type="file"]'),i=parseInt(i?i.value:2e10),s=t.files&&t.files[0]?+t.files[0].size:0;return t===n[0]&&(o.fileSizes[e]=0),o.fileSizes[e]+=s,o.fileSizes[e]<=i;},fileType:function fileType(t,e){var i=t.getAttribute("accept"),n=(t.files&&t.files[0]?t.files[0].type.replace(/^.*[\\/]/g,""):t.value.replace(/^.*\./g,"")).toLowerCase();if(i&&n)for(var s=(i=i.replace(/,\s+/g,",").split(",")).length;s--;){var o=i[s].replace(/^.*[\\/]/g,"").toLowerCase();if(0<=n.indexOf(o))return!0;}return!!n&&!i;},oneCheckRequired:function oneCheckRequired(t){return!!$(t).closest(".ui-js-form-item").find("input:checked").length;},autoSuggest:function autoSuggest(t){return ui.autocompleteLookup&&ui.autocompleteLookup[t.name]&&-1!==ui.autocompleteLookup[t.name].indexOf(t.value);},required:function required(t){return t.checked||""!==t.value;},minlength:function minlength(t,e){return $(t).val().length>=e;},maxlength:function maxlength(t,e){return $(t).val().length<=e;},dynamicSelectionRules:function dynamicSelectionRules(t,e,i){var n,s,o=$(t),e=o.closest("form").find('[name="'+e+'"]').find("option:selected"),e=e[0]&&e[0].getAttribute("data-setup")||"",a=e?JSON.parse(e.replace(/\\'/g,"'").replace(/'/g,'"')).dynamicSelectionRules:null;if(!i){for(var r in a){if(!(s=(n=ui.validator[r])&&n($(t)[0],a[r])))break;}return s;}a&&a.minlength&&o.attr("minlength",a.minlength),a&&a.maxlength&&o.attr("maxlength",a.maxlength);},min:function min(t,e){return+t.value>=e;},max:function max(t,e){return+t.value<=e;},alphanumeric:function alphanumeric(t){return /^\w+$/i.test(t.value);},integer:function integer(t){return /^-?\d+$/.test(t.value);},lettersonly:function lettersonly(t){return /^[a-z]+$/i.test(t.value);},passwordSufficient:function passwordSufficient(){return $(".ui-js-password-checker").prop("View").passed();},isDate:function isDate(t){return ui.validator.isISODate(t.value)||ui.validator.isDINDate(t.value);},isISODate:function isISODate(t){return /^([0-9]{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01]))$/gm.test(t);},isDINDate:function isDINDate(t){return /^((0[1-9]|[12][0-9]|3[01])\.(0[1-9]|1[012])\.[0-9]{4})$/gm.test(t);},isSimpleDate:function isSimpleDate(t){return /^(([1-9]|[12][0-9]|3[01])\.([1-9]|1[012])\.[0-9]{4})$/gm.test(t.value);},isMYDate:function isMYDate(t){return /^(0[1-9]|1[0-2])\.([0-9]{4})$/gm.test(t);},isProductDate:function isProductDate(t){return ui.validator.isDINDate(t.value)||ui.validator.isMYDate(t.value);},partialDate:function partialDate(t){t=ui.validator.getConcatenateDate(t);return ui.validator.isSimpleDate({value:t})||ui.validator.isDate({value:t});},getConcatenateDate:function getConcatenateDate(t){t=$(t).parent().find("input");return(t.eq(0).val().length<2?"0"+t.eq(0).val():t.eq(0).val())+"."+(t.eq(1).val().length<2?"0"+t.eq(1).val():t.eq(1).val())+"."+t.eq(2).val();},parseDate:function parseDate(t){return ui.validator.isISODate(t)?new Date(t):ui.validator.isDINDate(t)?(t=t.split("."),(t=new Date(t[2]+"-"+t[1]+"-"+t[0]))instanceof Date?t:null):null;},trim:function trim(t){return t.replace(/\s/g,"");},minDate:function minDate(t,e){t=ui.validator.parseDate(t.value);return!!t&&t.getTime()>=new Date(e).getTime();},maxDate:function maxDate(t,e){t=ui.validator.parseDate(t.value);return!!t&&t.getTime()<=new Date(e).getTime();},number:function number(t){return /^\d*$/.test(t.value);},isCumulusNr:function isCumulusNr(t){t=ui.validator.trim(t.value);return /^\d*$/.test(t)&&9===t.length;},isEmail:function isEmail(t){return /^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i.test(t.value);},checkAgeMinMax:function checkAgeMinMax(t,e){var i=$(t).closest(".form-group"),n=i.find(".ws-errormessage");if(ui.validator.partialDate(t)){void 0===i.data("originMsg")&&i.data("originMsg",n.text());var t=ui.validator.getConcatenateDate(t),s=new Date(),s=new Date(s.getFullYear(),s.getMonth(),s.getDate()),t=ui.validator.parseDate(t),t=new Date(t.getFullYear(),t.getMonth(),t.getDate());if(null==t)return console.warn("No valid Date Format!"),!1;s=(s.getTime()-t.getTime())/315576e5;return s<e.min?(n.text(e.minError),!1):s>e.max?(n.text(e.maxError),!1):(n.text(i.data("originMsg")),!0);}void 0!==i.data("originMsg")&&n.text(i.data("originMsg"));},equalTo:function equalTo(t,e){return $(t).val()===$(e).val();},url:function url(t,e){return!e||/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})([/\w .-]*)*\/?$/.test(t.value);},checkMembershipPrefix:function checkMembershipPrefix(t,e){var i=$(t).closest(".form-group"),n=i.find(".ws-errormessage");return void 0===i.data("originMsg")&&i.data("originMsg",n.text()),/^(01|02|03|04|05|06|07|08|09|10|12|88|98|99)/.test(t.value)?(n.text(i.data("originMsg")),!0):(n.text(e),!1);}};}(window),!function(){"use strict";ui.FragmentLoaderModel=ui.ComponentModel.extend({url:function url(){return this.get("url");},defaults:{requestEvent:"domready",replaceAnimation:"none"},initialize:function initialize(t){this.options=t||{};},sync:function sync(t,e,i){var n=this.get("paramsModel"),n=(i=i||{},n={type:"GET",dataType:"html",url:this.url(),contentType:"text/html",data:n},this.options.withCredentials&&(n.xhrFields={withCredentials:!0},console.info(n)),i.xhr=Backbone.ajax(ui.utils.extend(n,i)));return e.trigger("request",e,n,i),n;},set:function set(t,e,i){var n,s,o={},a=["fragmentHTMLString","requestEvent","replaceAnimation","paramsModel"];for(s in"object"==(typeof t==="undefined"?"undefined":_typeof(t))?(n=t,i=e):(n={})[t]=e,n){Object.prototype.hasOwnProperty.call(n,s)&&(e=n[s],"requestUrl"===s?o.url=this._urlAttribute(e):-1!==a.indexOf(s)&&(o[s]=e));}return ui.ComponentModel.prototype.set.call(this,o,i);},_urlAttribute:function _urlAttribute(t){var e;return-1!==t.indexOf("?")&&(e=ui.helpers.unserializeGetParams(t.substring(t.indexOf("?")+1)),this.set("paramsModel",ui.utils.extend(this.get("paramsModel"),e))),t.split("?")[0];}}),ui.FragmentLoaderCollection=ui.ComponentCollection.extend({model:ui.FragmentLoaderModel}),ui.FragmentLoaderComponent=ui.ComponentView.extend({name:"ui.FragmentLoaderComponent",initialize:function initialize(t){this.fragmentLoaderViews=this.$("[data-setup*=requestUrl]"),this.collection=new ui.FragmentLoaderCollection(),ui.on(ui.GlobalEvents.FRAGMENT_PLACED,this.onFragmentsPlaced.bind(this));},onFragmentsPlaced:function onFragmentsPlaced(t){t=$("[data-setup*=uiFragmentLoader]",t);t.length&&(this.fragmentLoaderViews.add(t),t.each(this.addOne.bind(this)));},addAll:function addAll(){this.fragmentLoaderViews.each(this.addOne.bind(this));},addOne:function addOne(t,e){var i=new ui.FragmentLoaderModel(),e=ui.bootstrapFragmentLoaderView(e,this.el,{model:i}).call(this);this.collection.add(i),"domready"===i.get("requestEvent")&&e.trigger(i.get("requestEvent"));},render:function render(){return this.addAll(),this;}}),ui.FragmentLoaderView=ui.ComponentView.extend({name:"ui.FragmentLoaderView",ON_TRANSITION_END:"webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",defaults:{cssTransitionClass:"animation-transition-300ms"},initialize:function initialize(t){var e=this.setup&&this.setup.withCredentials?{withCredentials:!0}:{};this.model.options.withCredentials=e.withCredentials,this.model.set(this.setup),t&&t.ajaxCache||this.model.set("paramsModel",{ajax:1}),this.$fragmentContainer=this.$el,this.setup.replaceElSelector&&0<this.$(this.setup.replaceElSelector).length?this.$fragmentContainer=this.$(this.setup.replaceElSelector):this.setup.replaceElSelector&&console.warn(this+" is trying to include fragment on a non existing element, selector was "+this.setup.replaceElSelector),!this.setup.requestEvent||this.setup.requestEvent instanceof Array||(this.setup.requestEvent=[this.setup.requestEvent]),this.setup.requestEvent?this.setup.requestEvent.forEach(this.setupRequestEvents.bind(this)):this.on("domready",this.requestFragment.bind(this));},setupRequestEvents:function setupRequestEvents(t){"domready"===t?this.requestFragment():ui.on(t,this.requestFragment.bind(this,{requestEvent:t}));},requestFragment:function requestFragment(t,e){var i=this.model.get("paramsModel")||{};this.model.set(this.setup),e&&e.fragmentUrl&&this.model.set("requestUrl",e.fragmentUrl),t&&t.requestEvent&&(i.requestEvent=t.requestEvent,this.model.set("paramsModel",i)),this.model.fetch({success:this.onFragmentLoaded.bind(this),error:(this[this.setup.errorCallback]||this.onError).bind(this)});},onError:function onError(){console.error("Fetching of fragment failed for View id "+this.cid+" with url "+this.model.url()+".");},onFragmentLoaded:function onFragmentLoaded(t,e){var i="none"===t.get("replaceAnimation")||!ui.cssSupports("transition");"doNotRenderMe"!==e.trim()&&(t.set("fragmentHTMLString",e),ui.bootstrapper.defuse({context:this.$fragmentContainer}),i?this.placeFragment(t.get("fragmentHTMLString")):this.animateReplacedOut(t.get("fragmentHTMLString")));},animateReplacedOut:function animateReplacedOut(t){var e=this.$fragmentContainer.children(),i=this.setup.cssTransitionClass+" "+this.model.get("replaceAnimation")+"-out";"none"!==this.model.get("replaceAnimation")&&e.addClass(i).on(this.ON_TRANSITION_END,this.animateFragmentIn.bind(this,t));},placeFragment:function placeFragment(t){this.$fragmentContainer.html(t),ui.bootstrapper.reinitialize({context:this.$fragmentContainer.get(0)}),ui.trigger(ui.GlobalEvents.FRAGMENT_PLACED,this.$fragmentContainer);},animateFragmentIn:function animateFragmentIn(t){var e=this.setup.cssTransitionClass,i=this.model.get("replaceAnimation")+"-in";this.placeFragment(t),this.$fragmentContainer.children().addClass(e).addClass(i).on(this.ON_TRANSITION_END,this.resetAnimatedFragment.bind(this,t));},resetAnimatedFragment:function resetAnimatedFragment(){var t=this.$fragmentContainer.children(),e=this.model.get("replaceAnimation")+"-in",i=this.setup.cssTransitionClass;t.removeClass(i).removeClass(e);},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"FragmentLoaderView",View:ui.FragmentLoaderView,selector:"[data-setup*=uiFragmentLoader]",reinitialize:!1}),ui.ComponentFactory.createPlugin({pluginMethodName:"FragmentLoaderComponent",View:ui.FragmentLoaderComponent,selector:document,reinitialize:!1}),$(ui.bootstrapFragmentLoaderComponent());}.call(this),!function(){"use strict";ui.FreeHtmlHotspotsComponentView=ui.ComponentView.extend({name:"ui.FreeHtmlHotspotsComponentView",hotSpotBox:".hotspot-box",hotspotSelector:".ui-js-hotspot",hotspotContentSelector:".ui-js-hotspot-content",hotspotBtnSel:".ui-js-hotspot-btn",hotspotIndex:0,contentCopy:!1,$hotspots:null,$hotspotContents:null,$hotspotBtns:null,events:{"focusin .ui-js-hotspot":"toggleHotspot","focusout .ui-js-hotspot":"toggleHotspot","mouseenter .ui-js-hotspot":"toggleHotspot","mouseleave .ui-js-hotspot":"toggleHotspot","click .ui-js-hotspot-close":"closeHotspot"},initialize:function initialize(t){if(this.$hotspots=$(this.hotspotSelector,this.$el),this.$hotspotContents=$(this.hotspotContentSelector,this.$el),this.$hotspotBtns=$(this.hotspotBtnSel,this.$hotspots),!this.$hotspotBtns.length)return console.warn("No HotspotBtns!"),!1;this.setHotspotPosition(this.$hotspots),this.$lastBtn=$(this.$hotspotBtns[this.hotspotIndex]);var e=this.isMobileCheck.bind(this);ui.on("bootstrap.activemediaquery.changed",e),this.isMobileCheck(),this.$images=$(this.hotSpotBox,this.$el).find('[src*="/author"], [data-srcset*="/author"], [srcset*="/author"]'),this.adjustImagePaths(this.$images);},adjustImagePaths:function adjustImagePaths(t){$.each(t,function(){var t=$(this).attr("src")||$(this).attr("data-srcset")||$(this).attr("srcset");-1===location.pathname.indexOf("/author")&&$(this).attr("src")&&$(this).attr("src",t.replace(/author/g,"..")),-1===location.pathname.indexOf("/author")&&$(this).attr("data-srcset")&&$(this).attr("data-srcset",t.replace(/author/g,"..")),-1===location.pathname.indexOf("/author")&&$(this).attr("srcset")&&$(this).attr("srcset",t.replace(/author/g,".."));});},initTabletAndDesktop:function initTabletAndDesktop(){this.contentCopy||(this.copyHotspotContent(),this.contentCopy=!0),this.toggleNextHotspotHint();},deactivateTabletAndDesktop:function deactivateTabletAndDesktop(){this.deactivateHotspotHint(),this.$hotspots.removeClass("is-active");},isMobileCheck:function isMobileCheck(){var t=ui.Bootstrap?ui.Bootstrap.activeView:"";/xs|ms/.test(t)?this.deactivateTabletAndDesktop():this.initTabletAndDesktop();},setHotspotPosition:function setHotspotPosition(t){t.each(function(t,e){var e=$(e),i=e.data("pos");e.css({left:i.x,top:i.y});});},deactivateHotspotHint:function deactivateHotspotHint(){this.$hotspotBtns.off(ui.consts.ON_TRANSITION_END),this.$hotspotBtns.removeClass("is-hint");},toggleNextHotspotHint:function toggleNextHotspotHint(){var t=this;t.$lastBtn.one(ui.consts.ON_TRANSITION_END,function(){t.$lastBtn.removeClass("is-hint"),t.$lastBtn.one(ui.consts.ON_TRANSITION_END,function(){t.hotspotIndex++,t.hotspotIndex>t.$hotspotBtns.length-1&&(t.hotspotIndex=0),t.$lastBtn=$(t.$hotspotBtns[t.hotspotIndex]),t.toggleNextHotspotHint();});}),t.$lastBtn.addClass("is-hint");},toggleHotspot:function toggleHotspot(t){switch(t.type){case"mouseenter":case"focusin":this.setHotspotActive($(t.currentTarget));break;case"mouseleave":case"focusout":this.setHotspotInactive($(t.currentTarget));}},setHotspotActive:function setHotspotActive(t){var e=/(ms|xs)/.test(ui.Bootstrap.activeView);this.deactivateHotspotHint(),t.addClass("is-active"),e&&(e=this.$hotspots.index(t),$(this.$hotspotContents[e]).addClass("is-active"));},setHotspotInactive:function setHotspotInactive(t){this.toggleNextHotspotHint(),t.removeClass("is-active");},copyHotspotContent:function copyHotspotContent(){for(var t=0;t<this.$hotspotBtns.length;t++){$(this.$hotspotBtns[t]).after($(this.$hotspotContents[t]).html());}},closeHotspot:function closeHotspot(){$(this.$hotspotContents).removeClass("is-active");},render:function render(){return this;},closeView:function closeView(){this.unbind(),this.remove();}}),ui.ComponentFactory.createPlugin({pluginMethodName:"FreeHtmlHotspotsComponent",View:ui.FreeHtmlHotspotsComponentView,selector:".ui-js-free-html-hotspots",reinitialize:!0}),$(ui.bootstrapFreeHtmlHotspotsComponent());}.call(this),!function(){"use strict";ui.FreeHtmlRatioComponentView=ui.ComponentView.extend({name:"ui.FreeHtmlRatioComponentView",initialize:function initialize(t,e){},setRatioOnElements:function setRatioOnElements(t){this.$el.each(function(t,e){var i,e=$(e),n=+e.attr("data-height"),s=e.attr("data-ratio");s&&(s=s.split("/"),i=e.innerWidth(),n=Math.round(i/s[0]*s[1])),e.innerHeight(n||"");});},render:function render(){var e=this;ui.on("bootstrap.activemediaquery.changed",function(t){e.setRatioOnElements.call(e,t);}),this.setRatioOnElements();}}),ui.ComponentFactory.createPlugin({pluginMethodName:"FreeHtmlRatioComponent",View:ui.FreeHtmlRatioComponentView,selector:".ui-js-c238-XX-html"}),$(ui.bootstrapFreeHtmlRatioComponent(".ui-js-c238-XX-html"));}.call(this),!function(){"use strict";ui.GeoP13nComponentView=ui.ComponentView.extend({name:"ui.GeoP13nComponentView",initialize:function initialize(t){void 0===$.docCookies("g360-geo")&&this.getGeoData();},getGeoData:function getGeoData(){mui&&mui.helpers&&mui.helpers.GeoTargeting?mui.helpers.GeoTargeting.geoTarget("mgb_places_www_migros",this.success,this.error):console.warn("mui.helpers.GeoTargeting not found...");},success:function success(t){t.zip&&t.cooperative&&($.docCookies("g360-geo",t.zip+"|"+t.cooperative,{expires:.02,path:"/",secure:!0}),$("body.ui-js-geo-p13n-reload").length?(console.info("Do geo location reload ..."),window.location.reload()):ui.trigger("geoP13n"));},error:function error(t){console.warn("error ->",t),$.docCookies("g360-geo","|",{expires:.02,path:"/",secure:!0});}}),ui.ComponentFactory.createPlugin({pluginMethodName:"GeoP13nComponent",View:ui.GeoP13nComponentView,selector:".ui-js-geo-p13n",reinitialize:!1}),$(ui.bootstrapGeoP13nComponent());}.call(this),!function(){"use strict";ui.googleMapComponentView=ui.ComponentView.extend({name:"ui.googleMapComponentView",events:{setMarkerEvent:"clearMapSetMarker","click .ui-js-find-route":"openGoogleNavigation"},controls:null,map:null,marker:null,currentPosition:null,CENTER_LAT_DEFAULT:46.8,CENTER_LONG_DEFAULT:8.22,ZOOM_DEFAULT:8,PX_PAN_OFFSET:{x:-150,y:-75},mapSetup:{},googleMapsAPI3Src:"maps.googleapis.com/maps/api/js?callback=initializeGoogleMaps",defaultGoogleMapsAPIVersion:"3",hostnameWhitelist:["localhost"],navigationURL:"maps.google.com/",protocol:"https:"===document.location.protocol?"https://":"http://",mapOptions:{streetViewControl:!1,zoomControl:!0,panControl:!1,mapTypeControl:!1},iconPath:void 0,styles:[{featureType:"landscape",stylers:[{saturation:-100},{lightness:60}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:40},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{visibility:"on"},{lightness:30}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ef8c25"},{lightness:40}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#b6c54c"},{lightness:40},{saturation:-40}]},{featureType:"poi.business",elementType:"labels",stylers:[{visibility:"off"}]},{}],initialize:function initialize(){this.setup&&(this.mapSetup={lat:this.setup.lat||this.CENTER_LAT_DEFAULT,long:this.setup.long||this.CENTER_LONG_DEFAULT,zoom:this.setup.zoom||this.ZOOM_DEFAULT,scrollwheel:this.setup.scrollwheel||!1,iconBase:!!this.setup.iconBase&&this.setup.iconBase+"/",iconPath:this.setup.iconpath||"",title:this.setup.title||void 0,panOffset:this.setup.panOffset||this.PX_PAN_OFFSET},this.loadGoogleMapsApi());},render:function render(){return this;},setMarker:function setMarker(t,e,i,n,s){t=new google.maps.LatLng(t,e),e={url:this.mapSetup.iconBase&&n?this.mapSetup.iconBase+n:void 0,scaledSize:new google.maps.Size(75,75)},n=/(sm|md|lg)/.test(ui.Bootstrap.activeView);this.marker=new google.maps.Marker({position:t,animation:google.maps.Animation.DROP,map:this.map,optimized:!1,icon:e,title:i}),this.map.setCenter(t),n&&s&&this.map.panBy(s.x,s.y);},clearMapSetMarker:function clearMapSetMarker(t,e,i,n,s){this.marker.setMap(null),this.setMarker(e,i,n,s);},renderMap:function renderMap(){var t=this.$(".js-map-canvas").get(0),e=$.extend({},this.mapOptions,this.mapSetup,{mapTypeId:google.maps.MapTypeId.ROADMAP,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.RIGHT_BOTTOM}});this.map=new google.maps.Map(t,e),this.map.set("styles",this.styles),this.setMarker(this.mapSetup.lat,this.mapSetup.long,this.mapSetup.title,this.mapSetup.iconPath,this.mapSetup.panOffset);},openGoogleNavigation:function openGoogleNavigation(t){var e=$(t.currentTarget).data("directionsmode"),i=this;t.preventDefault(),!this.currentPosition&&navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){i.currentPosition=new google.maps.LatLng(t.coords.latitude,t.coords.longitude),window.open(i.createNavigationUrl(e),"_blank");},function(){window.open(i.createNavigationUrl(),"_blank");}):this.currentPosition?window.open(this.createNavigationUrl(e),"_blank"):window.open(this.createNavigationUrl(),"_blank");},createNavigationUrl:function createNavigationUrl(t){var e=this.protocol+this.navigationURL+"?daddr="+this.marker.getPosition().toUrlValue();return this.currentPosition&&(e+="&saddr="+this.currentPosition.toUrlValue()),t&&(e+="&dirflg="+t),e;},loadGoogleMapsApi:function loadGoogleMapsApi(){var t=this,e=document.createElement("script");window.initializeGoogleMaps||(window.initializeGoogleMaps=function(){t.renderMap();}),e.type="text/javascript",e.src=this.protocol+this.googleMapsAPI3Src,e.src+="&v="+this.defaultGoogleMapsAPIVersion,e.src+=this.setup.language?"&language="+this.setup.language:"",this.setup.key&&this.hostnameWhitelist.indexOf(window.location.hostname)<0&&(e.src+="&key="+this.setup.key),document.body.appendChild(e);}}),ui.ComponentFactory.createPlugin({pluginMethodName:"GoogleMapComponent",View:ui.googleMapComponentView,selector:".ui-js-google-map"}),$(ui.bootstrapGoogleMapComponent(".ui-js-google-map")),ui.bootstrapGoogleMapComponent.setMarker=function(t,e,i,n){$(".ui-js-google-map").trigger("setMarkerEvent",[t,e,i,n]);};}.call(this),!function(){"use strict";ui.GuideComponentView=ui.ComponentView.extend({name:"ui.GuideComponentView",guideNav:'[data-js-item="ui-js-guide-nav"]',mobileCloseArrow:'[data-js-item="ui-js-guide-mobile-arrow"]',collapsePanels:".panel-collapse",events:{"show.bs.tab":"toggleMobileNav",'click [data-js-item="ui-js-guide-mobile-arrow"]':"handleMobileGuideNav",'click [data-toggle="collapse"]':"disabledClick"},initialize:function initialize(){this.$guideNavigation=this.$el.find(this.guideNav),this.$tabs=this.$el.find(".tab-pane"),this.$tabsAnchor=this.$el.find(".nav-item"),this.$collapsePanels=this.$el.find(this.collapsePanels),this.isMobile=/(ms|xs)/.test(ui.Bootstrap.activeView),this.isMobile&&(this.$guideNavigation.addClass("is-open"),this.deactivateTabs(),this.$collapsePanels.on("shown.bs.collapse",function(t){var e=$(this).closest(".panel");$("html,body").animate({scrollTop:e.offset().top-7},300);})),this.$collapsePanels.on("show.bs.collapse",this.onShowCollapsable.bind(this)),this.$collapsePanels.on("hide.bs.collapse",this.onHideCollapsable.bind(this));},render:function render(){var t=this.$el.find(".nav-item.active");var e=t.find(".ui-js-data-layer-item"),i=this.$el.find(".tab-pane.active .panel.is-collapse .ui-js-data-layer-item");$("[property='og:title']").attr("content",t.text().trim()),this.pushToDataLayer(e),this.pushToDataLayer(i);},pushToDataLayer:function pushToDataLayer(t){window.dataLayer&&t&&0!==t.length&&(t=ui.getElementSetup({el:t})["data"],t&&t.event&&"guide-widget"===t.event&&t.navigationLevel&&(window.dataLayer.push(t),window.logTracking&&(console.info("added dataLayer data:",JSON.stringify(t)),console.info("Tracking Obj",t))));},toggleMobileNav:function toggleMobileNav(t){var e=$(t.target);t=this.$el.find(e.attr("href")+" .panel.is-collapse .ui-js-data-layer-item");this.isMobile&&this.$guideNavigation.hasClass("is-open")&&this.$guideNavigation.removeClass("is-open"),this.pushToDataLayer(t);},handleMobileGuideNav:function handleMobileGuideNav(){this.$guideNavigation.hasClass("is-open")?this.$guideNavigation.removeClass("is-open"):this.$guideNavigation.addClass("is-open");},deactivateTabs:function deactivateTabs(){this.$tabs.removeClass("in active"),this.$tabsAnchor.removeClass("active");},onShowCollapsable:function onShowCollapsable(t){var e=$(t.currentTarget),i=e.parent();i.addClass("is-collapse");},onHideCollapsable:function onHideCollapsable(t){var e=$(t.currentTarget);this.isMobile||e.parent().removeClass("is-collapse");},disabledClick:function disabledClick(t){var e=$(t.currentTarget);e.parents(".panel").children(".panel-collapse").hasClass("in")&&(t.preventDefault(),t.stopPropagation());}}),ui.ComponentFactory.createPlugin({pluginMethodName:"GuideComponent",View:ui.GuideComponentView,selector:".ui-js-guide"}),$(ui.bootstrapGuideComponent());}.call(this),!function(){"use strict";ui.HeaderNavigation=ui.ComponentView.extend({name:"ui.HeaderNavigation",hasMainMenuOpenState:!1,hasProfileOpenState:!1,hasSearchbarOpenState:!1,hasSearchWidgetOpenState:!1,events:{"click .ui-js-profile":"onProfileButtonClick","click .js-search-button":"onSearchWidgetButtonClick","click .js-mainmenu-button":"onMainMenuButtonClick","click .js-collapsable-search-btn":"onSearchbarButtonClick","click .button":"doTrack"},initialize:function initialize(t){this.$body=$("body"),this.$searchBtn=this.$(".js-search-button"),this.$searchBlock=$(".js-search-widget"),this.$mainMenuBlock=$(".ui-js-main-menu"),this.$footerAffix=$(".mui-js-footer-affix"),this.$profileBlock=$(".ui-js-profile"),this.mainMenuButton=this.$(".js-mainmenu-button"),this.headerbarCollapseSearch=this.$("#headerbar-collapsable-search"),this.desktopItems=this.$(".desk-item"),this.list=$(".ui-js-header-navigation .list"),ui.on(ui.GlobalEvents.HEADERSTATEMANAGER_FINISHED,this.checkDisableBodyScroll.bind(this)),ui.on(ui.GlobalEvents.HEADER_FIX,this.fixPosition.bind(this)),ui.on(ui.GlobalEvents.HEADER_UNFIX,this.unfixPosition.bind(this)),ui.on(ui.GlobalEvents.SEARCHBAR_CLOSE,this.closeSearchBar.bind(this)),ui.on(ui.GlobalEvents.SEARCHWIDGET_CLOSE,this.closeSearchWidget.bind(this)),ui.on(ui.GlobalEvents.MAIN_MENU_CLOSE,this.mainMenuButtonOpenState.bind(this));},onProfileButtonClick:function onProfileButtonClick(t){this[this.$el.find(".js-mainmenu-button").hasClass("is-open")?"openProfile":"closeProfile"]();},openProfile:function openProfile(){this.hasProfileOpenState=!0,ui.trigger(ui.GlobalEvents.PROFILE_OPEN);},closeProfile:function closeProfile(){this.hasProfileOpenState=!1;},checkDisableBodyScroll:function checkDisableBodyScroll(t){bodyScrollLock.clearAllBodyScrollLocks(),this.$body.removeClass("body-is-fixed"),"mainmenu"===t.el&&this.disableBodyScroll(this.$mainMenuBlock[0]);},disableBodyScroll:function disableBodyScroll(t){/(xs|ms)/.test(ui.Bootstrap.activeView)&&(bodyScrollLock.disableBodyScroll(t),this.$body.addClass("body-is-fixed"));},enableBodyScroll:function enableBodyScroll(t){bodyScrollLock.enableBodyScroll(t),this.$body.removeClass("body-is-fixed");},onMainMenuButtonClick:function onMainMenuButtonClick(t){t=$(t.currentTarget);this[this.hasMainMenuOpenState?"closeMainMenu":"openMainMenu"](t);},mainMenuButtonOpenState:function mainMenuButtonOpenState(t){this.hasMainMenuOpenState=!1,this.mainMenuButton.removeClass("is-open");},openMainMenu:function openMainMenu(t){$(t).addClass("is-open"),this.hasMainMenuOpenState=!0,ui.trigger(ui.GlobalEvents.MAIN_MENU_OPEN);},closeMainMenu:function closeMainMenu(t){$(t).removeClass("is-open"),this.hasMainMenuOpenState=!1,ui.trigger(ui.GlobalEvents.MAIN_MENU_CLOSE),this.enableBodyScroll(this.$mainMenuBlock[0]);},onSearchbarButtonClick:function onSearchbarButtonClick(t){t=$(t.currentTarget);this[this.hasSearchbarOpenState?"closeSearchBar":"openSearchBar"](t);},onSearchWidgetButtonClick:function onSearchWidgetButtonClick(t){t=$(t.currentTarget);this[this.hasSearchWidgetOpenState?"closeSearchWidget":"openSearchWidget"](t);},openSearchBar:function openSearchBar(t){$(t).addClass("is-open"),this.hasSearchbarOpenState=!0,ui.trigger(ui.GlobalEvents.SEARCHBAR_OPEN);},closeSearchBar:function closeSearchBar(t){$(t).removeClass("is-open"),this.headerbarCollapseSearch.length&&this.headerbarCollapseSearch.collapse("hide"),this.hasSearchbarOpenState=!1;},openSearchWidget:function openSearchWidget(t){var e=this;$(document).click(function(t){!e.$searchBlock.hasClass("is-active")||!e.hasSearchWidgetOpenState||$(t.target).hasClass("js-search-button")||$(t.target).hasClass("js-search-widget")||$(t.target).parents(".js-search-widget").length||$(t.target).parents(".js-search-button").length||ui.trigger(ui.GlobalEvents.SEARCHWIDGET_CLOSE);}),this.desktopItems.addClass("hide-item"),this.list.addClass("hide-tablet"),this.$searchBtn.addClass("is-open"),this.$searchBlock.addClass("is-active"),this.$searchBlock.find("input").focus(),this.hasSearchWidgetOpenState=!0,this.$footerAffix.addClass("is-search-open"),ui.trigger(ui.GlobalEvents.SEARCHWIDGET_OPEN);},closeSearchWidget:function closeSearchWidget(t){this.desktopItems.removeClass("hide-item"),this.list.removeClass("hide-tablet"),this.$searchBtn.removeClass("is-open"),this.$searchBlock.removeClass("is-active"),this.$footerAffix.removeClass("is-search-open"),this.hasSearchWidgetOpenState=!1;},fixPosition:function fixPosition(){this.$el.addClass("is-fixed");},unfixPosition:function unfixPosition(){this.$el.removeClass("is-fixed");},doTrack:function doTrack(t){var t=$(t.currentTarget),e=t.hasClass("is-cta"),t=t.text(),i={};!e&&t&&(i.event="topNavigation",i.navigationLevel1=t,window.dataLayer.push(i));},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"HeaderNavigationComponent",View:ui.HeaderNavigation,selector:".ui-js-header-panel"}),$(ui.bootstrapHeaderNavigationComponent());}.call(this),!function(){"use strict";ui.HeaderStateManager=ui.ComponentClass.extend({name:"ui.HeaderStateManager",initialize:function initialize(t){this.allCloseMethods={loginpopover:this.closeLoginPopover,preferredstorepopover:this.closePreferredStorePopover,searchbar:this.closeSearchbar,searchwidget:this.closeSearchWidget,searchflyout:this.closeSearchflyout,profile:this.closeProfile,mainmenu:this.closeMainMenu,safetyteaser:this.closeSafetyTeaser,genericflyout:this.closeGenericFlyout},ui.on(ui.GlobalEvents.MAIN_MENU_OPEN,this.mainMenuOpens.bind(this)),ui.on(ui.GlobalEvents.SEARCHBAR_OPEN,this.searchbarOpens.bind(this)),ui.on(ui.GlobalEvents.SEARCHWIDGET_OPEN,this.searchWidgetOpens.bind(this)),ui.on(ui.GlobalEvents.PROFILE_OPEN,this.profileOpens.bind(this)),ui.on(ui.GlobalEvents.SEARCHFLYOUT_OPEN,this.searchflyoutOpens.bind(this)),ui.on(ui.GlobalEvents.LOGIN_POPOVER_OPEN,this.loginPopoverOpens.bind(this)),ui.on(ui.GlobalEvents.SAFETY_TEASER_OPEN,this.safetyTeaserOpens.bind(this)),ui.on(ui.GlobalEvents.GENERIC_HEADER_FLYOUT_OPEN,this.genericFlyoutOpens.bind(this));},closeAllBut:function closeAllBut(t){var e=this.allCloseMethods;if(e[t=t.toLowerCase()]){for(var i in e){i!==t&&Object.prototype.hasOwnProperty.call(e,i)&&"function"==typeof e[i]&&e[i]();}ui.trigger(ui.GlobalEvents.HEADERSTATEMANAGER_FINISHED,{el:t});}else console.error("Cannot find "+t+" in method map.");},genericFlyoutOpens:function genericFlyoutOpens(){this.closeAllBut("genericFlyout");},loginPopoverOpens:function loginPopoverOpens(){this.closeAllBut("loginPopover");},safetyTeaserOpens:function safetyTeaserOpens(){this.closeAllBut("safetyteaser");},searchbarOpens:function searchbarOpens(){this.closeAllBut("searchbar");},searchWidgetOpens:function searchWidgetOpens(){this.closeAllBut("searchwidget");},searchflyoutOpens:function searchflyoutOpens(){this.closeAllBut("searchflyout");},profileOpens:function profileOpens(){this.closeAllBut("profile");},mainMenuOpens:function mainMenuOpens(){this.closeAllBut("mainMenu"),ui.trigger(ui.GlobalEvents.Z_INDEX_ACTOR_OPEN);},closeMainMenu:function closeMainMenu(){ui.trigger(ui.GlobalEvents.MAIN_MENU_CLOSE);},closeSearchbar:function closeSearchbar(){ui.trigger(ui.GlobalEvents.SEARCHBAR_CLOSE);},closeSearchWidget:function closeSearchWidget(){ui.trigger(ui.GlobalEvents.SEARCHWIDGET_CLOSE);},closeSearchflyout:function closeSearchflyout(){ui.trigger(ui.GlobalEvents.SEARCHFLYOUT_CLOSE);},closeProfile:function closeProfile(){ui.trigger(ui.GlobalEvents.PROFILE_CLOSE);},closeGenericFlyout:function closeGenericFlyout(){ui.trigger(ui.GlobalEvents.GENERIC_HEADER_FLYOUT_MENU_CLOSE);},closeLoginPopover:function closeLoginPopover(){ui.trigger(ui.GlobalEvents.LOGIN_POPOVER_CLOSE);},closeSafetyTeaser:function closeSafetyTeaser(){ui.trigger(ui.GlobalEvents.SAFETY_TEASER_CLOSE);},closePreferredStorePopover:function closePreferredStorePopover(){$(".mui-preferred-store").trigger("mui:preferred-store:hide");}}),$(document).ready(function(){new ui.HeaderStateManager();});}.call(this),!function(){"use strict";ui.SafetyTeaserComponentView=ui.ComponentView.extend({name:"ui.SafetyTeaserComponentView",defaults:{name:"safetyTeaser",daysValid:365},events:{"click .close":"dismiss","click a":"dismiss"},initialize:function initialize(){var t=this.appear.bind(this),e=this.disappear.bind(this);ui.on(ui.GlobalEvents.SAFETY_TEASER_OPEN,t),ui.on(ui.GlobalEvents.SAFETY_TEASER_CLOSE,e),ui.on(ui.GlobalEvents.SAFETY_TEASER_HIDE,e),this.htmlRequested();},render:function render(){return this;},htmlRequested:function htmlRequested(){ui.trigger(ui.GlobalEvents.PERSONALIZED_HEADERBAR_SAFETY_INFO),this.findCookie(this.setup.name)?this.showIndicator(this.setup.name)&&$(".ui-js-safety-info").addClass("is-indicator"):(ui.trigger(ui.GlobalEvents.SAFETY_TEASER_OPEN),this.setCookie(!1));},findCookie:function findCookie(t){if($.docCookies){t=$.docCookies(t);if(t&&-1<t.indexOf(this.setup.prodId))return!0;}return!1;},showIndicator:function showIndicator(t){if($.docCookies){t=$.docCookies(t);if(t&&-1===t.indexOf("|true"))return!0;}return!1;},setCookie:function setCookie(t){var e=window.location.hostname,i=e.split("."),i=(1<i.length&&(e="."+i[i.length-2]+"."+i[i.length-1]),{expires:this.defaults.daysValid,path:"/",domain:e,secure:!0,sameSite:"Lax"});$.docCookies&&($.docCookies(this.setup.name)&&$.docCookies(this.setup.name,"",{path:"/"}),$.docCookies(this.setup.name,this.setup.prodId+(t?"|true":""),i));},dismiss:function dismiss(){ui.trigger(ui.GlobalEvents.SAFETY_TEASER_CLOSE),this.setCookie(!0);},disappear:function disappear(){this.$el.addClass("is-collapsed");},appear:function appear(){this.$el.removeClass("is-collapsed"),this.$el.trigger("safety-teaser:open");}}),ui.ComponentFactory.createPlugin({pluginMethodName:"SafetyTeaserComponent",View:ui.SafetyTeaserComponentView,selector:".ui-js-safety-teaser",reinitialize:!0}),$(ui.bootstrapSafetyTeaserComponent());}.call(this),!function(){"use strict";ui.Headerbar=ui.ComponentView.extend({name:"ui.Headerbar",defaults:{delayUntilAutoActivate:3e3},isOpen:!1,isLoggedIn:!1,isSafetyInfoVisible:!1,dataString:"",HIDDEN_CLASS:"hidden",LOGGEDOUT_ID:"headerbar-collapsable-logged-out",LOGGEDIN_ID:"headerbar-collapsable-logged-in",TRANSITION_IN_CLASS:"in",widget:null,initialize:function initialize(t){this.collapsableButton=this.$(".js-collapsable-btn"),this.safetyTeaserInfo=this.$(".ui-js-safety-info"),this.$safetyTeaserInfoBtn=this.$(".ui-js-safety-info-btn"),this.otherButtons=this.$(".js-headerbar-btn"),0<this.safetyTeaserInfo.length&&(this.safetyTeaserInfo[0].clientWidth,this.safetyTeaserInfo.addClass(this.HIDDEN_CLASS)),ui.on(ui.GlobalEvents.PERSONALIZED_HEADERBAR_SAFETY_INFO,this.showSafetyIcon.bind(this)),ui.on(ui.GlobalEvents.SAFETY_TEASER_OPEN,this.activateSafetyTeaserInfo.bind(this)),ui.on(ui.GlobalEvents.SAFETY_TEASER_CLOSE,this.deactivateSafetyTeaserInfo.bind(this)),ui.on(ui.GlobalEvents.SAFETY_TEASER_HIDE,this.hideSafetyTeaserInfo.bind(this)),setTimeout(this.activate.bind(this),this.setup.delayUntilAutoActivate),this.$safetyTeaserInfoBtn.on("click",this.safetyInfoClick.bind(this));},safetyInfoClick:function safetyInfoClick(t){var e=$(t.currentTarget).attr("href");e&&"#"===e&&t.preventDefault(),this.isSafetyInfoVisible?ui.trigger(ui.GlobalEvents.SAFETY_TEASER_HIDE):ui.trigger(ui.GlobalEvents.SAFETY_TEASER_OPEN);},activate:function activate(){this.activateOtherBtns();},activateOtherBtns:function activateOtherBtns(){this.otherButtons.removeClass(this.HIDDEN_CLASS);},showSafetyIcon:function showSafetyIcon(){this.safetyTeaserInfo.removeClass(this.HIDDEN_CLASS);},activateSafetyTeaserInfo:function activateSafetyTeaserInfo(){this.isSafetyInfoVisible=!0,this.safetyTeaserInfo.addClass("is-open");},deactivateSafetyTeaserInfo:function deactivateSafetyTeaserInfo(){this.isSafetyInfoVisible=!1,this.safetyTeaserInfo.removeClass("is-indicator").removeClass("is-open");},hideSafetyTeaserInfo:function hideSafetyTeaserInfo(){this.isSafetyInfoVisible=!1,this.safetyTeaserInfo.removeClass("is-open");},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"HeaderbarComponent",View:ui.Headerbar,selector:".ui-js-headerbar"}),$(ui.bootstrapHeaderbarComponent());}.call(this),!function(){"use strict";ui.HistoryComponentView=ui.ComponentView.extend({name:"ui.HistoryComponentView",masonry:null,defaults:{gridSelector:".ui-js-history__timeline-grid",timeLineSelector:".ui-js-history__timeline-line",itemSelector:".ui-js-history__item",stickyFilterSel:".ui-js-history__filter-sticky",stickyFilterTextSel:".ui-js-history__filter-sticky-text",filterChoiceSel:".ui-js-history__filter",filterChoiceTextSel:".ui-js-history__filter-choice-text",filterChoiceOpenSel:".ui-js-history__filter-choice-open",filterChoiceCloseSel:".ui-js-history__filter-choice-close",filterChooserWrapperSel:".ui-js-history__filter-chooser",filterChooserItemSel:".ui-js-history__filter-chooser-list-item",isLoadedClass:"is-loaded",isStickyClass:"is-sticky",isFadeOutClass:"is-fade-out",isActiveClass:"is-active",amountOfStartItems:{xs:12,ms:12,sm:12,md:12,lg:12},amountOfToScrollItems:12,amountOfLoadingItems:{xs:12,ms:12,sm:12,md:12,lg:12}},initialize:function initialize(){$("body").addClass("is-overflow-x-hidden"),this.$grid=this.$el.find(this.defaults.gridSelector),this.stickyFilter=this.$el.find(this.defaults.stickyFilterSel),this.$timeLine=this.$el.find(this.defaults.timeLineSelector),this.$items=this.$el.find(this.defaults.itemSelector),this.$years=this.$items.filter("[data-sticky]"),this.$stickyText=this.$el.find(this.defaults.stickyFilterTextSel),this.$filterChoice=this.$el.find(this.defaults.filterChoiceSel),this.$filterChoiceText=this.$el.find(this.defaults.filterChoiceTextSel),this.$filterChoiceOpen=this.$filterChoice.find(this.defaults.filterChoiceOpenSel),this.$filterChoiceClose=this.$filterChoice.find(this.defaults.filterChoiceCloseSel),this.$filterChoiceWrapper=this.$filterChoice.find(this.defaults.filterChooserWrapperSel),this.$filterChoiceLink=this.$filterChoice.find(this.defaults.filterChooserItemSel),this.$filterStickyChoiceOpen=this.stickyFilter.find(this.defaults.filterChoiceOpenSel),this.$filterStickyChoiceClose=this.stickyFilter.find(this.defaults.filterChoiceCloseSel),this.$filterStickyChoiceWrapper=this.stickyFilter.find(this.defaults.filterChooserWrapperSel),this.$filterStickyChoiceLink=this.stickyFilter.find(this.defaults.filterChooserItemSel),this.scrollCheck=!1,this.scrollReset=!1,this.ticking=!1,this.$anchorTaget=!1,this.scrollToAnchorBool=!1,this.lastScrollTop=0,this.$stickyText.text($(this.$years[0]).attr("data-sticky")),this.itemsAjaxCounter=0,this.$grid.addClass(this.defaults.isActiveClass),this.$timeLine.addClass(this.defaults.isActiveClass),this.bindEvents(),this.setActiveYear(),this.toggleStickyFilter(),this.loadFirstItems(),this.callAfterTimeout();},callAfterTimeout:function callAfterTimeout(){var t=this;setTimeout(function(){t.$items.trigger("history:scroll:item:check");},500);},bindEvents:function bindEvents(){this.$filterChoiceOpen.on("click",this.openFilterHandler.bind(this)),this.$filterChoiceClose.on("click",this.closeFilterHandler.bind(this)),this.$filterChoiceLink.on("click",".ui-history__filter-chooser-link",this.clickFilterLinkHandler.bind(this)),this.$filterStickyChoiceOpen.on("click",this.openStickyFilterHandler.bind(this)),this.$filterStickyChoiceClose.on("click",this.closeStickyFilterHandler.bind(this)),this.$filterStickyChoiceLink.on("click",".ui-history__filter-chooser-link",this.clickStickyFilterLinkHandler.bind(this)),$(window).on("scroll",this.onScroll.bind(this)),$(window).on("hashchange",this.jumpToStory.bind(this)),ui.on(ui.GlobalEvents.EXPANDER_UPDATEVIEW,this.onExpanderToggle.bind(this)),ui.on(ui.GlobalEvents.EXPANDER_SCROLLBACK,this.resetScrollCheck.bind(this)),this.$el.on("history:ajax:item",".ui-js-history__item",this.loadItem.bind(this)),this.$el.on("history:item:loaded",".ui-js-history__item",this.showItem.bind(this)),this.$el.on("history:scroll-to-anchor",this.scrollToAnchor.bind(this)),this.$el.on("history:scroll:check",this.resetScrollCheck.bind(this)),this.$el.on("history:scroll:item:check",".ui-js-history__item",this.itemInViewport.bind(this));},setActiveYear:function setActiveYear(){var t=this.$years.filter(function(t,e){return void 0!==$(e).attr("data-sticky")&&e.getBoundingClientRect().top<100;}),t=$(t[t.length-1]),e=t.attr("data-sticky"),t=t.attr("data-range-id");e&&this.$stickyText.text(e),t&&this.updateRangeText(t);},checkItemsInView:function checkItemsInView(){var t=window.pageYOffset||document.documentElement.scrollTop;this.setActiveYear(),this.toggleStickyFilter(),(t<this.lastScrollTop||t>this.lastScrollTop)&&this.$items.trigger("history:scroll:item:check",{direction:t<this.lastScrollTop?"top":t>this.lastScrollTop&&"bottom"}),this.lastScrollTop=t<=0?0:t;},itemInViewport:function itemInViewport(t,e){var i,n,s,o=window.innerHeight||document.documentElement.clientHeight,a=window.innerWidth||document.documentElement.clientWidth,r=t.currentTarget.getBoundingClientRect(),t=$(t.currentTarget);0<=r.top&&0<=r.left&&r.right<=a&&r.bottom<=1.5*o&&e&&e.direction&&("top"===e.direction&&(s=t.prevUntil("[data-ajax]"),!1!==(n=!!(s=$(s[s.length-1]).prev()).length&&s[0].getBoundingClientRect())&&n.top>=-3*o&&0<=n.left&&n.right<=a&&n.bottom<=o&&(s.data("loaded")||s.data("ajaxTrigger")||(n=this.$items.index(s),n=$(this.$items[n-this.defaults.amountOfLoadingItems[ui.Bootstrap.activeView]]),i=s.prevUntil(n),s.data("ajaxTrigger",!0),i.data("ajaxTrigger",!0),n.data("ajaxTrigger",!0),s.trigger("history:ajax:item",{direction:e.direction}),i.trigger("history:ajax:item",{direction:e.direction}),n.trigger("history:ajax:item",{direction:e.direction})))),"bottom"===e.direction&&(s=t.nextUntil("[data-ajax]"),!1!==(n=!!(i=$(s[s.length-1]).next()).length&&i[0].getBoundingClientRect())&&0<=n.top&&0<=n.left&&n.right<=a&&n.bottom<=3*o&&(i.data("loaded")||i.data("ajaxTrigger")||(s=this.$items.index(i),n=$(this.$items[s+this.defaults.amountOfLoadingItems[ui.Bootstrap.activeView]]),s=i.nextUntil(n),i.data("ajaxTrigger",!0),s.data("ajaxTrigger",!0),n.data("ajaxTrigger",!0),i.trigger("history:ajax:item",{direction:e.direction}),s.trigger("history:ajax:item",{direction:e.direction}),n.trigger("history:ajax:item",{direction:e.direction}))))),r.top>=-1.5*o&&0<=r.left&&r.right<=a&&r.bottom<=1.5*o&&(t.data("loaded")||t.data("ajaxTrigger")||(t.data("ajaxTrigger",!0),t.trigger("history:ajax:item",{direction:"inview"})));},setAnchor:function setAnchor(t){t=t?this.anchor:window.location.hash;t&&$(document.getElementById(t.slice(1))).length&&(this.$anchorTaget=$(document.getElementById(t.slice(1))));},loadFirstItems:function loadFirstItems(){var t=this.defaults.amountOfStartItems[ui.Bootstrap.activeView],e=this.defaults.amountOfToScrollItems;this.setAnchor(),this.addItemsToQueue(0,t),this.$anchorTaget&&this.$anchorTaget.length&&(t=this.$items.index(this.$anchorTaget),this.addItemsAnchorToQueue(t,e));},resetScrollCheck:function resetScrollCheck(){this.scrollCheck=!0;},jumpToStory:function jumpToStory(t){t?(t.preventDefault(),this.setAnchor(!1)):this.setAnchor(!0),this.scrollCheck=!1,this.$anchorTaget&&this.$anchorTaget.length&&(this.setUrlHash(this.$anchorTaget),this.addItemsAnchorToQueue(this.$items.index(this.$anchorTaget),12));},checkToScroll:function checkToScroll(){this.scrollToAnchorBool?this.$el.trigger("history:scroll-to-anchor"):this.$el.trigger("history:scroll:check");},scrollToAnchor:function scrollToAnchor(){var e=this,t=e.$anchorTaget,i=e.$stickyText.outerHeight(!0);return e.scrollCheck=!1,setTimeout(function(){$("html, body").animate({scrollTop:$(t).offset().top-i},{duration:1e3,complete:function complete(){if(!e.scrollToAnchorBool)return!1;e.anchor=!1,e.$anchorTaget=!1,e.scrollToAnchorBool=!1,setTimeout(function(){e.setActiveYear(),e.toggleStickyFilter();var t=window.pageYOffset||document.documentElement.scrollTop;e.lastScrollTop=t<=0?0:t,e.scrollCheck=!0;},500);}});},400),!1;},addItemsAnchorToQueue:function addItemsAnchorToQueue(t,e){this.scrollToAnchorBool=!0,this.addItemsToQueue(t-Math.round(e/2),e);},addItemsToQueue:function addItemsToQueue(t,e){for(var i=t+e;t<i;t++){-1<t&&t<this.$items.length&&void 0!==$(this.$items[t]).attr("data-ajax")&&$(this.$items[t]).trigger("history:ajax:item",{direction:"inview"});}this.itemsAjaxCounter||this.checkToScroll();},loadItem:function loadItem(t,e){t=$(t.currentTarget);this.itemsAjaxCounter++,t.addClass("is-loading"),t.attr("data-ajax-load",!0),this.ajaxCall(t,t.data("ajax"),e.direction);},ajaxCall:function ajaxCall(i,t,n){var s=this;$.ajax({async:!0,url:t}).done(function(t,e){s.ajaxSucces(i,t,n);}).fail(function(){console.log("request failed",t);});},ajaxSucces:function ajaxSucces(i,t,n){var s=this;i.html(t),i.find(".ui-js-expander").length?i.one("init-expander",function(t,e){e.idx===i.index()&&s.itemLoaded(i,n);}):setTimeout(function(){s.itemLoaded(i,n);},1),ui.bootstrapper.reinitialize({context:i.get(0)});},itemLoaded:function itemLoaded(t,e){t.data("loaded",!0),t.removeAttr("data-ajax"),t.trigger("history:item:loaded");},showItem:function showItem(t){t=$(t.currentTarget);this.itemsAjaxCounter<0&&(this.itemsAjaxCounter=0),0<this.itemsAjaxCounter&&this.itemsAjaxCounter--,t.removeClass("is-loading"),t.addClass("is-loaded"),this.itemsAjaxCounter||this.checkToScroll();},onExpanderToggle:function onExpanderToggle(t){var e,i=$(t.context).parents(".ui-js-history__item");i.length&&(e=i.index(),t.init&&i.trigger("init-expander",{idx:e}));},openFilterHandler:function openFilterHandler(){this.$filterChoiceOpen.addClass(this.defaults.isFadeOutClass),this.$filterChoiceClose.removeClass(this.defaults.isFadeOutClass),this.$filterChoiceWrapper.addClass(this.defaults.isActiveClass);},openStickyFilterHandler:function openStickyFilterHandler(){this.$filterStickyChoiceOpen.addClass(this.defaults.isFadeOutClass),this.$filterStickyChoiceClose.removeClass(this.defaults.isFadeOutClass),this.$filterStickyChoiceWrapper.addClass(this.defaults.isActiveClass);},closeFilterHandler:function closeFilterHandler(){this.$filterChoiceClose.addClass(this.defaults.isFadeOutClass),this.$filterChoiceOpen.removeClass(this.defaults.isFadeOutClass),this.$filterChoiceWrapper.removeClass(this.defaults.isActiveClass);},closeStickyFilterHandler:function closeStickyFilterHandler(){this.$filterStickyChoiceClose.addClass(this.defaults.isFadeOutClass),this.$filterStickyChoiceOpen.removeClass(this.defaults.isFadeOutClass),this.$filterStickyChoiceWrapper.removeClass(this.defaults.isActiveClass);},clickFilterLinkHandler:function clickFilterLinkHandler(t){t.preventDefault();var e=this,t=(this.$filterChoiceLink.removeClass(this.defaults.isActiveClass),$(t.currentTarget)),i=(this.$filterChoiceText.text(t.attr("data-choice-text")),t.parent(this.defaults.filterChooserItemSel));i.addClass(this.defaults.isActiveClass),this.$filterStickyChoiceLink.removeClass(this.defaults.isActiveClass),$(this.$filterStickyChoiceLink[i.index()]).addClass(this.defaults.isActiveClass),this.anchor=t.attr("href"),this.closeFilterHandler(),setTimeout(function(){e.jumpToStory();},400);},clickStickyFilterLinkHandler:function clickStickyFilterLinkHandler(t){t.preventDefault(),this.$filterStickyChoiceLink.removeClass(this.defaults.isActiveClass);var t=$(t.currentTarget),e=(this.$filterChoiceText.text(t.attr("data-choice-text")),t.parent(this.defaults.filterChooserItemSel));e.addClass(this.defaults.isActiveClass),this.$filterChoiceLink.removeClass(this.defaults.isActiveClass),$(this.$filterChoiceLink[e.index()]).addClass(this.defaults.isActiveClass),this.anchor=t.attr("href"),this.closeStickyFilterHandler(),this.jumpToStory();},updateRangeText:function updateRangeText(t){this.$filterChoiceLink.removeClass(this.defaults.isActiveClass),this.$filterStickyChoiceLink.removeClass(this.defaults.isActiveClass),$(this.$filterStickyChoiceLink[t]).addClass(this.defaults.isActiveClass),$(this.$filterChoiceLink[t]).addClass(this.defaults.isActiveClass),this.$filterChoiceText.text($(this.$filterChoiceLink[t]).find(".ui-history__filter-chooser-link").attr("data-choice-text"));},setUrlHash:function setUrlHash(t){t=t?"#"+t.attr("id"):location.href.replace(location.hash,"");history.pushState?history.pushState(null,null,t):location.href=t;},requestTick:function requestTick(t){this.ticking||requestAnimationFrame(t),this.ticking=!0;},onScroll:function onScroll(){this.requestTick(this.scrollHandler.bind(this));},scrollHandler:function scrollHandler(){this.ticking=!1,this.scrollCheck?this.scrollReset?this.scrollReset=!1:this.checkItemsInView():this.scrollReset=!0;},toggleStickyFilter:function toggleStickyFilter(){this.$grid[0].getBoundingClientRect().top<=0?this.stickyFilter.addClass(this.defaults.isStickyClass):(this.stickyFilter.removeClass(this.defaults.isStickyClass),this.closeStickyFilterHandler());}}),ui.ComponentFactory.createPlugin({pluginMethodName:"HistoryComponent",View:ui.HistoryComponentView,selector:".ui-js-history",reinitialize:!1}),$(ui.bootstrapHistoryComponent());}.call(this),!function(){"use strict";ui.HotspotsComponentView=ui.ComponentView.extend({name:"ui.HotspotsComponentView",hotspotSelector:".ui-js-hotspot",collapseItems:".panel-collapse",ON_ANIMATION_END:"webkitAnimationEnd oAnimationEnd msAnimationEnd animationend",ON_TRANSITION_END:"webkitTransitionEnd mozTransitionEnd oTransitionEnd msTransitionEnd transitionend",hotspotContentSelector:".ui-js-hotspot-content",hotspotBtnSel:".ui-js-hotspot-btn-open",hotspotBoxSel:".ui-js-hotspot-box",scrollIcon:".ui-js-scroll-icon",hotspotIndex:0,activeClass:"is-active",stopAnimationClass:"is-stop-animation",mobilBodyClass:"is-overlay-open",contentCopy:!1,isMobil:!1,$hotspots:null,$hotspotContents:null,$hotspotBtns:null,touchPointX:0,touchPointY:0,distanceX:0,distanceY:0,touchStartTime:0,swipeSpeedThreshold:2.2,isMoving:!1,events:{"click .ui-js-hotspot-btn-open":"openHotspot","click .ui-js-hotspot-btn-close":"closeHotspot","touchstart .ui-js-hotspot-mobile-panel":"touchEvent","touchmove .ui-js-hotspot-mobile-panel":"touchEvent","touchend .ui-js-hotspot-mobile-panel":"touchEvent"},initialize:function initialize(t){if(this.$hotspots=$(this.hotspotSelector,this.$el),this.$collapseItems=$(this.collapseItems,this.$el),this.$hotspotContents=$(this.hotspotContentSelector,this.$el),this.$hotspotBtns=$(this.hotspotBtnSel,this.$hotspots),this.$hotspotBox=$(this.hotspotBoxSel,this.$el),this.$scrollIcon=$(this.scrollIcon,this.$el),this.body=$("body"),this.isAnimated=!1,this.isComplete=!1,this.isntInit=!1,!this.$hotspotBtns.length)return console.warn("No HotspotBtns!"),!1;this.isMobil=/xs|ms/.test(ui.Bootstrap.activeView),this.$lastBtn=$(this.$hotspotBtns[this.hotspotIndex]),this.setHotspotContentPositions(),this.setAriaAttributes(),this.isMobilCheck();var e=this.isMobilCheck.bind(this);ui.on("bootstrap.activemediaquery.changed",e);},bindMobilEvents:function bindMobilEvents(){var e=this;this.$hotspotBox.on("scrollhandler:inview",function(t){this.isntInit||!$(t.currentTarget).hasClass("inview-completely")||e.isAnimated||(e.isAnimated=!0,t=e.$hotspotBox.find(".hotspot-box-scroller"),e.$hotspotBox.addClass("is-animation"),t.addClass("is-animation").on(e.ON_ANIMATION_END,function(t){"animateHotspotBox"===t.originalEvent.animationName&&e.setScrollPos();}),e.$hotspotBox.off("scrollhandler:inview"));}),this.$hotspotBox.on("touchstart",function(){e.$hotspotBox.hasClass("is-animation")&&(e.setScrollPos(),e.$hotspotBox.off("touchstart"));}),this.$hotspotBox.on("scroll",function(){0<e.$hotspotBox.get(0).scrollLeft&&e.$hotspotBox.hasClass("is-animation")&&(e.setScrollPos(),e.$hotspotBox.off("scroll"));});},unbindMobilEvents:function unbindMobilEvents(){this.$hotspotBox.off("scrollhandler:inview"),this.$hotspotBox.off("touchstart"),this.$hotspotBox.off("scroll");},setScrollPos:function setScrollPos(){var t,e;this.isComplete||(t=this.$hotspotBox.find(".hotspot-box-scroller"),e=this.getXfromTransform(t),this.$scrollIcon.addClass("is-hide"),this.$hotspotBox.removeClass("is-animation"),t.css("animation",""),this.$hotspotBox.get(0).scrollLeft=parseInt(-1*e),this.isComplete=!0);},getXfromTransform:function getXfromTransform(t){t=t.css("transform").replace(/[^0-9\-.,]/g,"").split(",");return t[12]||t[4];},isMobilCheck:function isMobilCheck(){this.isMobil=/xs|ms/.test(ui.Bootstrap.activeView),this.isMobil?this.bindMobilEvents():(this.setHotspotContentPositions(),this.unbindMobilEvents());},setAriaAttributes:function setAriaAttributes(){this.$hotspotBtns.attr("tabindex",0),this.$hotspotBtns.attr("aria-expanded",!1),this.$hotspotBtns.find(".ui-js-open-sr").attr("aria-hidden",!1),this.$hotspotBtns.find(".ui-js-close-sr").attr("aria-hidden",!0),this.$hotspotContents.attr("tabindex",-1),this.$hotspotContents.attr("aria-hidden",!0);},setHotspotContentPositions:function setHotspotContentPositions(){var d=this,p=this.$el.outerHeight(!0),f=this.$el.outerWidth(!0);this.$hotspots.each(function(t,e){var t=d.$hotspotContents[t],i=$(t),n=e.offsetTop,s=e.offsetTop-48,o=f-e.offsetLeft,a=f-e.offsetLeft-48,r=p-e.offsetTop,l=p-e.offsetTop-48,h=e.offsetLeft,e=e.offsetLeft-48,c=t.offsetHeight,t=t.offsetWidth,a=t<a,u=c<l,e=t<e,o=t/2<o/2&&t/2<h/2;c<s&&o&&l<=s?i.addClass("is-top"):u&&o&&s<=l?i.addClass("is-bottom"):a&&e<a?i.addClass("is-right"):e&&a<e?i.addClass("is-left"):r<=n?i.addClass("is-top"):n<=r&&i.addClass("is-bottom");});},openHotspot:function openHotspot(t){this.isntInit=!0;var e,s,o=this,a=$(t.target).closest(this.hotspotSelector);this.isMobil?(this.$hotspotContents.removeClass("is-swipe-down"),this.setScrollPos(),(e=a.find(".hotspot-content-wrapper")).on("click",function(t){$(t.target).hasClass("hotspot-content-wrapper")&&(e.off("click"),o.closeHotspot(t));})):(s=$("body")).on("click",function(t){var t=$(t.target),e=a.hasClass(o.activeClass),i=t.hasClass("ui-js-hotspot-btn-open"),n=t.hasClass("ui-js-hotspot-content"),t=t.parents(".hotspot-content-wrapper");!e||i||n||t.length||(s.off("click"),o.closeHotspot({target:a[0]}));}),this.setup.mobileAccordion&&this.isMobil?this.$collapseItems.on("shown.bs.collapse",function(t){var e=$(this).closest(".panel");$("html,body").animate({scrollTop:e.offset().top},500);}):a.hasClass(this.activeClass)?(this.closeHotspot(t),this.isMobil&&this.body.removeClass(this.mobilBodyClass)):(this.$hotspots.removeClass(this.activeClass),this.setAriaAttributes(),a.addClass(this.activeClass),a.find(this.hotspotBtnSel).attr("tabindex",-1).attr("aria-expanded",!0).focus(),a.find(this.hotspotContentSelector).attr("tabindex",1).attr("aria-hidden",!1).focus(),a.find(".ui-js-open-sr").attr("aria-hidden",!0),a.find(".ui-js-close-sr").attr("aria-hidden",!1),this.isMobil&&this.body.addClass(this.mobilBodyClass));},closeHotspot:function closeHotspot(t){$(t.target).closest(this.hotspotSelector).removeClass(this.activeClass),this.isMobil&&(this.body.removeClass(this.mobilBodyClass),this.$hotspotContents.removeClass("is-swipe-up"),this.$el.find(".hotspot-content-wrapper").removeClass("is-open")),this.setAriaAttributes();},touchEvent:function touchEvent(e){var t=null,i=this;if(e.originalEvent&&e.originalEvent.changedTouches&&!this.isIconPreviewAndLarge)switch(t=e.originalEvent.changedTouches[0],e.type){case"touchstart":this.currentTarget=$(e.target),this.hotspotContent=this.currentTarget.parent(),this.touchPointX=t.pageX,this.touchPointY=t.pageY,this.touchStartTime=new Date().getTime();break;case"touchmove":this.touchPointY&&(this.distanceX=this.touchPointX-t.pageX,this.distanceY=this.touchPointY-t.pageY,e.preventDefault(),this.isMoving=!0);break;case"touchend":this.isMoving&&(20<this.distanceY?(this.hotspotContent.addClass("is-swipe-up"),this.hotspotContent.closest(".hotspot-content-wrapper")[0].classList.add("is-open")):this.hotspotContent.removeClass("is-swipe-up"),this.distanceY<-20&&(this.hotspotContent.one(i.ON_TRANSITION_END,function(t){i.closeHotspot(e);}),this.hotspotContent.addClass("is-swipe-down"))),this.distanceY=0,this.isMoving=!1;}},render:function render(){return this;},closeView:function closeView(){this.unbind(),this.remove();},round:function round(t){return 0<t?t+this.roundUpLimit|0:0|-((t=-t)+this.roundUpLimit);}}),ui.ComponentFactory.createPlugin({pluginMethodName:"HotspotsComponent",View:ui.HotspotsComponentView,selector:".ui-js-hotspots",reinitialize:!0}),$(ui.bootstrapHotspotsComponent());}.call(this),!function(){"use strict";ui.PreviewTeaserSliderComponentView=ui.ComponentView.extend({name:"ui.PreviewTeaserSliderComponentView",TRANSITION_TIMEOUT:700,ON_TRANSITION_END:"transitionend",$carouselTrack:null,$items:null,$clonesL:null,$clonesR:null,IS_PREV_PREV:"is-prev-prev",IS_PREV:"is-prev",IS_CURRENT:"is-current",IS_NEXT:"is-next",IS_NEXT_NEXT:"is-next-next",IS_NEXT_NEXT_NEXT:"is-next-next-next",position:0,zeroOffset:0,outerWidth:0,amount:0,isMobile:!1,isTablet:!1,isDesktop:!0,autoplayIVL:null,TABdebut:!0,isRotating:!1,maxOffset:0,maxPosition:0,visibleWidth:0,startTransition:"",startOffsetX:0,touchPointX:0,touchPointY:0,distanceX:0,distanceY:0,isMoving:!1,animationClass:"is-animated",slowAnimationClass:"is-animated-slow",flyinAnimationClass:"is-flyin-animation",roundUpLimit:.75,snapInDuration:200,accelerationFactor:.4,touchStartTime:0,defaults:{step:1,loop:!0,autoplay:!1,interval:5,dynamicClones:{xs:!0,ms:!0,sm:!0,md:!0,lg:!0}},events:{"click .js-slider-item":"itemSelected","click .left.carousel-control":"rotateLeft","click .right.carousel-control":"rotateRight","touchstart .carousel-track":"touchEvent","touchmove .carousel-track":"touchEvent","touchend .carousel-track":"touchEvent",keyup:"keyupEvent"},initialize:function initialize(){var i=this,t=(ui.browser.supportsTouch()||this.$el.addClass("no-touch"),this.$carouselTrack=this.$(".carousel-track"),this.$leftButton=this.$(".left.carousel-control"),this.$rightButton=this.$(".right.carousel-control"),this.$items=this.$(".js-slider-item"),this.amount=this.$items.length,this.$carouselVisibleMask=this.$(".carousel-inner"),this.maskWidth=this.$carouselVisibleMask.width(),this.fullWidth=0,this.menuList=!(!this.setup||!this.setup.type||"menu-list"!==this.setup.type),this.brandList=this.setup&&this.setup.type&&"brand-list"===this.setup.type,this.allowMobil=this.setup&&this.setup.type&&"allow-mobil"===this.setup.type,this.dynamicSteps=!(!this.setup||!this.setup.dynamicSteps)&&this.setup.dynamicSteps,this.dynamicClones=(this.setup&&this.setup.dynamicClones?this.setup:this.defaults).dynamicClones,this.subscribeIds=this.setup&&this.setup.type&&this.setup.subscribeIds,this.$items.each(function(t,e){this.fullWidth+=$(e).outerWidth(!0),$(e).hasClass("is-active")&&(this.position=t);}.bind(this)),_.debounce(function(){if(i.menuList||i.brandList||i.allowMobil){i.$carouselVisibleMask.attr("style",""),i.$el.css("marginLeft","");var _t2=setTimeout(function(){clearTimeout(_t2),i.render();},150);}},500,!0)),t=($(window).on("resize",t),this.menuList&&this.brandList&&(this.$selectedItem=this.$items.filter(".is-selected"),this.selectedItemIndex=0<this.$selectedItem.length?this.$items.index(this.$selectedItem):0),this.$outerWidthItem=$(this.$items.filter(":not(.is-selected)")[0]),this.fullWidth-=this.$outerWidthItem.outerWidth(!0)-this.$outerWidthItem.width(),this.outerWidth=this.$outerWidthItem.outerWidth(!0),this.inviewClass=this.setup.inviewClass||null,this.animationClass=2<this.setup.step?this.slowAnimationClass:this.animationClass,this.render.bind(this));ui.on("bootstrap.activemediaquery.changed",t),this.$el.on("previewTeaserSlider:jumpToSlide",function(t,e){i.jumpToSlide(e);}),ui.on(ui.GlobalEvents.FRAGMENT_PLACED,function(t){0<i.$items.find($($(t)[0])).length&&i.removeCloneSlides();}),this.maskWidth>=this.fullWidth||!this.setup.loop||this.cloneSlides(),this.setup.autoplay&&3<=this.amount&&(this.autoplayIVL=setInterval(function(){i.rotateRight(null,!0);},1e3*this.setup.interval)),this.handleControlsForSliderBoundaries(),this.setup.syncCarouselId&&ui.on(ui.GlobalEvents.CAROUSEL_SLID,function(t){t&&t.carouselId===i.setup.syncCarouselId&&void 0!==t.position&&void 0!==(t=i.$items.eq(t.position).data("index"))&&(i.position=t);});},render:function render(){var t=ui.Bootstrap?ui.Bootstrap.activeView:"",e=this;if(this.$carouselVisibleMask.attr("style",""),this.isMobile=/xs|ms/.test(t),this.isTablet=/sm/.test(t),this.isDesktop=/md|lg/.test(t),this.$el.removeAttr("style"),this.$items.first().removeAttr("style"),this.brandListOffset=this.$el.offset().left,(this.isTablet||this.isMobile)&&this.brandList?(t=8<this.brandListOffset?window.screen.width-8:window.screen.width,this.brandListOffset=8<this.brandListOffset?this.$el.offset().left-4:this.$el.offset().left,this.$items.first().css({marginLeft:this.brandListOffset+"px"}),this.$el.css({width:t+"px",marginLeft:-this.brandListOffset+"px"})):(this.brandListOffset=0,this.$el.removeAttr("style"),this.$items.first().removeAttr("style")),this.position=this.convertToAbsolute(this.position),this.$outerWidthItem&&void 0!==this.$outerWidthItem[0]?this.outerWidth=this.$outerWidthItem.outerWidth(!0)-this.$outerWidthItem.outerWidth()+this.$outerWidthItem[0].getBoundingClientRect().width:this.outerWidth=this.$outerWidthItem.outerHeight(!0),this.fullWidth=0,this.snapRight=this.setup.snapRight||!1,this.$items.each(function(t,e){this.fullWidth+=$(e).outerWidth(!0);}.bind(this)),this.fullWidth-=this.$outerWidthItem.outerWidth(!0)-this.$outerWidthItem.width(),this.maskWidth=this.$carouselVisibleMask.outerWidth(),this.visibleWidth=this.$(".carousel-inner").outerWidth(),this.maxItems=Math.trunc(this.maskWidth/this.outerWidth),this.setup.loop||this.menuList||this.setNormalVariables(),(this.isDesktop||this.isTablet)&&this.menuList){if(this.isDesktop&&this.brandList)return;this.setMenuListSliderSettings();}if(this.maskWidth>=this.fullWidth?this.hideArrowNavigation():this.showArrowNavigation(),this.allowMobil||this.brandList||this.isDesktop||this.isTablet){if(this.brandList&&this.isDesktop)return void this.$carouselTrack.attr("style","");this.$carouselTrack.removeClass(this.animationClass),this.zeroOffset=this.outerWidth*this.$(".clone.clone-l").length,t=this.outerWidth*this.position+this.zeroOffset,this.setOffset(t),setTimeout(function(){e.$carouselTrack.addClass(e.animationClass),e.$el.removeClass(e.flyinAnimationClass);},0);}else this.$carouselTrack.attr("style","");return this.menuList&&this.switchMenuListCases(),this.handleControlsForSliderBoundaries(),this;},setNormalVariables:function setNormalVariables(){this.visibleWidth=this.$(".carousel-inner").outerWidth(),this.brandList&&this.isTablet&&this.brandListOffset&&(this.visibleWidth-=this.brandListOffset),this.maxPosition=this.amount-Math.ceil(this.visibleWidth/this.outerWidth),this.maxOffset=-Math.ceil(this.amount*this.outerWidth-this.visibleWidth),this.brandList&&(this.maxPosition=this.amount-Math.trunc(this.maskWidth/this.outerWidth),this.maxOffset=-(this.amount*this.outerWidth+this.brandListOffset-this.maskWidth));},switchMenuListCases:function switchMenuListCases(){var t;this.isMobile?(this.$el.removeClass(this.setup.toggleClass),this.$carouselTrack.attr("style",""),this.$el.attr("style","")):(this.isDesktop||this.isTablet)&&this.outerWidth*(this.amount-1)<this.maskWidth-this.outerWidth?(this.$el.removeClass(this.setup.toggleClass),this.$carouselTrack.attr("style",""),this.$carouselVisibleMask.attr("style",""),this.$el.attr("style","")):(this.isDesktop||this.isTablet)&&(this.$el.addClass(this.setup.toggleClass),0<this.$carouselVisibleMask.find(".ui-menu-list-item.is-back").length&&($(this.$items[0]).outerWidth(!0),this.$el.offset().left&&(0<$(this.$items[0]).outerWidth(!0)+22-this.$el.offset().left?this.$el.css("marginLeft",$(this.$items[0]).outerWidth(!0)+22-this.$el.offset().left+"px"):this.$el.css("marginLeft",""))),t=this.$items.filter(".is-selected"),t=this.$items.index(t),this.jumpToSlide(t),this.handleControlsForSliderBoundaries());},setMenuListSliderSettings:function setMenuListSliderSettings(){(this.maxItems*this.outerWidth-10<this.maskWidth||this.maxItems*this.outerWidth+10<this.maskWidth)&&(0<this.$carouselVisibleMask.find(".ui-menu-list-item.is-back").length&&document.body.clientWidth-this.maskWidth<1.5*this.outerWidth?(this.maxPosition=this.amount-Math.trunc(this.maskWidth/this.outerWidth)+1,this.maxItems=this.maxItems-1):this.maxPosition=this.amount-Math.trunc(this.maskWidth/this.outerWidth),this.maskWidth=this.maxItems*this.outerWidth+10,this.maxOffset=-(this.amount*this.outerWidth-this.maskWidth)-10);},debounce:function debounce(n,s,o){var a;return function(){var t=this,e=arguments,i=o&&!a;clearTimeout(a),a=setTimeout(function(){a=null,o||n.apply(t,e);},s),i&&n.apply(t,e);};},jumpToSlide:function jumpToSlide(t){var e=Math.ceil(Math.floor(this.maskWidth/$(this.$items[0]).width())/2),i=this.$items.length,t=t+1,n=0,n=t<=e?(t=e)-(this.position+e):i-e<=t?this.maxPosition-this.position:t-(this.position+e);this.rotate(n,!1,!1,!0);},hideArrowNavigation:function hideArrowNavigation(){this.hideLeftArrow(),this.hideRightArrow();},hideLeftArrow:function hideLeftArrow(){this.menuList||this.brandList?this.$leftButton.addClass("is-hide"):this.$leftButton.css("display","none");},hideRightArrow:function hideRightArrow(){this.menuList||this.brandList?this.$rightButton.addClass("is-hide"):this.$rightButton.css("display","none");},showArrowNavigation:function showArrowNavigation(){this.showLeftArrow(),this.showRightArrow();},showLeftArrow:function showLeftArrow(){this.menuList||this.brandList?this.$leftButton.removeClass("is-hide"):this.$leftButton.css("display","block");},showRightArrow:function showRightArrow(){this.menuList||this.brandList?this.$rightButton.removeClass("is-hide"):this.$rightButton.css("display","block");},handleControlsForSliderBoundaries:function handleControlsForSliderBoundaries(){!this.setup.sliderBoundaryHidesControls||this.setup.loop||isNaN(this.position)||isNaN(this.maxPosition)||(0<this.maxPosition&&this.position===this.maxPosition?this.hideRightArrow():0===this.position?this.hideLeftArrow():(this.showLeftArrow(),this.showRightArrow()),this.snapRight&&this.position===this.maxPosition&&0<this.position&&this.showLeftArrow(),this.snapRight&&this.position<this.maxPosition&&this.showRightArrow());},checkSize:function checkSize(){this.menuList&&(this.position===this.maxPosition&&this.selectedItemIndex===this.$items.length-1||0===this.position&&0===this.selectedItemIndex?this.maskWidth=this.$carouselVisibleMask.width(this.maxItems*this.outerWidth+10+20+"px").width():this.maskWidth=this.$carouselVisibleMask.width(this.maxItems*this.outerWidth+10+"px").width(),this.$selectedItem&&this.selectedItemIndex-this.position>=this.maxItems-1&&this.position!==this.maxPosition?this.$selectedItem.addClass("is-minimized"):this.$selectedItem&&this.$selectedItem.removeClass("is-minimized"));},rotate:function rotate(t,e,i,n){n&&(this.snapRight=!0);var s,n=!this.setup.loop&&!isNaN(this.position)&&0===this.position&&t<0,o=!this.setup.loop&&!isNaN(this.position)&&!isNaN(this.maxPosition)&&0<this.maxPosition&&this.position===this.maxPosition&&0<t;this.checkSize(),!i&&(this.isMobile&&!this.brandList&&!this.allowMobil||this.maskWidth>=this.fullWidth||n||o)||(i=this.outerWidth*this.position,i=this.outerWidth*t+i+this.zeroOffset,s=this.position+t,ui.trigger(ui.GlobalEvents.ICON_PREVIEW_TEASER_SLID,this.convertToAbsolute(s),this.setup.syncCarouselId),this.position=s,this.maskWidth>=this.fullWidth||n||o?this.$items.removeClass("is-active").eq(s).addClass("is-active"):(this.setOffset(i),this.handleControlsForSliderBoundaries(),(this.position>=this.amount||this.position<=-(this.amount-1)-t)&&!this.menuList&&(this.position=this.position%this.amount,e||!this.dynamicClones[ui.Bootstrap.activeView]?this.render():(n=this.render.bind(this),this.callAfterTransition(n,!0,"transform")))));},setOffset:function setOffset(t){this.snapRight&&(0<this.position&&t- -this.maxOffset>-$(this.$items[0]).width()&&(t=-this.maxOffset,this.position=this.maxPosition),0===this.position&&this.hideLeftArrow()),this.checkSize(),this.brandList&&!this.isDesktop&&this.$carouselTrack.addClass(this.animationClass),this.$carouselTrack.attr("style","").css({width:this.amount*this.outerWidth*3,transform:"translateX("+-t+"px)"}),this.$items.removeClass("is-active").eq(this.position).addClass("is-active"),this.updatePrevNextItems(this.$items.index(this.$items.filter(".is-active")),this.setup.loop,this.$items.length),this.$clonesL&&this.$clonesR&&this.$clonesL.length&&(this.$clonesL.removeClass("is-active").eq(this.position).addClass("is-active"),this.$clonesR.removeClass("is-active").eq(this.position).addClass("is-active"));},updatePrevNextItems:function updatePrevNextItems(t,e,i){var n=0===(t=t<0?0:t)||1===t?i-2:t-2,s=0===t?i-1:t-1,o=t===i-1?0:t+1,a=t===i-1?1:t===i-2?0:t+2,i=t===i-1?2:t===i-2?1:t===i-3?0:t+3;this.$items.removeClass(this.IS_PREV_PREV).eq(n).addClass(this.IS_PREV_PREV),this.$items.removeClass(this.IS_PREV).eq(s).addClass(this.IS_PREV),this.$items.removeClass(this.IS_CURRENT).eq(t).addClass(this.IS_CURRENT),this.$items.removeClass(this.IS_NEXT).eq(o).addClass(this.IS_NEXT),this.$items.removeClass(this.IS_NEXT_NEXT).eq(a).addClass(this.IS_NEXT_NEXT),this.$items.removeClass(this.IS_NEXT_NEXT_NEXT).eq(i).addClass(this.IS_NEXT_NEXT_NEXT);},removeCloneSlides:function removeCloneSlides(){this.$clonesL.remove(),this.$clonesR.remove(),this.maskWidth>=this.fullWidth||!this.setup.loop||this.cloneSlides();},cloneSlides:function cloneSlides(){this.$clonesL=this.$items.filter(":gt(-6)").clone(!0,!0).addClass("clone clone-l"),this.$clonesR=this.$items.filter(":lt(6)").clone(!0,!0).addClass("clone clone-r"),this.$clonesL.add(this.$clonesR).find("a, :input").attr("tabindex",-1),this.$carouselTrack.prepend(this.$clonesL).append(this.$clonesR);},itemSelected:function itemSelected(t){t=this.syncEvent(t,".js-slider-item");var e=$(t.currentTarget).data("index");if(void 0!==e){var i,n=this.convertToAbsolute(this.position);switch(t.preventDefault(),!0){case n<e:i=Math.abs(n-e),this.triggerTrackingEvent("right",e);break;case e<n:i=this.amount-n+e,this.triggerTrackingEvent("left",e);}i?this.rotate(i,!1,!0):this.maskWidth>=this.fullWidth&&this.rotate(0,!1,!0);}},syncEvent:function syncEvent(t,e){var i=!1;return this.subscribeIds&&t.syncEvent&&(t=t.syncEvent,i=!0),this.subscribeIds&&0<this.subscribeIds.length&&!i&&1===this.subscribeIds.length&&(i=$("#"+this.subscribeIds[0]),(null===e?i:i.find(e)).trigger({type:t.type,syncEvent:t})),t;},touchEvent:function touchEvent(t){t=this.syncEvent(t,".carousel-track");var e,i,n=null;if(this.$items.length===this.setup.step&&this.setup.step===this.dynamicSteps[ui.Bootstrap.activeView])return!1;if(t.originalEvent&&t.originalEvent.changedTouches&&3<=this.amount&&(!this.brandList||!this.isDesktop)&&(this.brandList||this.allowMobil||!this.isMobile))switch(n=t.originalEvent.changedTouches[0],t.type){case"touchstart":this.touchPointX=n.pageX,this.touchPointY=n.pageY,this.startOffsetX=this.outerWidth*this.position+this.zeroOffset,this.touchStartTime=new Date().getTime(),this.startTransition=this.$carouselTrack.attr("style"),clearInterval(this.autoplayIVL);break;case"touchmove":if(this.touchPointX)if(this.distanceX=this.touchPointX-n.pageX,this.distanceY=this.touchPointY-n.pageY,Math.abs(this.distanceX)>Math.abs(this.distanceY)){var s=-this.distanceX-this.startOffsetX;if(t.preventDefault(),this.maxOffset&&(20<s||20+s<this.maxOffset))break;this.$carouselTrack.css({transform:"translateX("+s+"px)",transitionDuration:"0ms"}),this.isMoving=!0;}else this.touchPointX=0;break;case"touchend":this.isMoving&&(s=this.distanceX/this.outerWidth,i=this.round(s),e=(new Date().getTime()-this.touchStartTime)/Math.abs(this.distanceX),0!==i?(e<this.accelerationFactor&&(i+=+Math.sign(i)),e=-i*this.outerWidth-this.startOffsetX,this.maxOffset&&20<e?(e=0,i=-this.position):this.maxOffset&&e<this.maxOffset&&(e=this.maxOffset,i=Math.abs(this.position-this.maxPosition)),this.$carouselTrack.attr("style",this.startTransition).css({transitionDuration:this.snapInDuration+"ms",transform:"translateX("+e+"px)"}),e=this.rotate.bind(this,i,!0),this.callAfterTransition(e,!1,"transform")):(this.$carouselTrack.attr("style",this.startTransition),this.dynamicClones[ui.Bootstrap.activeView]||s!=1/0&&s!=-1/0||(i=s==-1/0?-this.dynamicSteps[ui.Bootstrap.activeView]:this.dynamicSteps[ui.Bootstrap.activeView],this.rotate(i,!0))),this.touchPointX=0,this.touchPointY=0,this.isMoving=!1);}},callAfterTransition:function callAfterTransition(e,i,n){var s=this,o=(this.isRotating=!0,setTimeout(function(){e(),s.isRotating=!1,s.$carouselTrack.off(s.ON_TRANSITION_END);},this.TRANSITION_TIMEOUT));this.$carouselTrack.on(this.ON_TRANSITION_END,function(t){t.originalEvent&&t.originalEvent.propertyName!==n||t.target.className&&!/carousel-track/gi.test(t.target.className)||(i||s.$carouselTrack.removeClass(s.animationClass),s.$carouselTrack.off(s.ON_TRANSITION_END),clearTimeout(o),e(),s.isRotating=!1,i||setTimeout(function(){s.$carouselTrack.addClass(s.animationClass);},0));});},keyupEvent:function keyupEvent(t){switch((t=this.syncEvent(t,null)).keyCode){case 39:this.rotate(1),this.gainFocus(this.position),this.triggerTrackingEvent("right");break;case 37:this.rotate(-1),this.gainFocus(this.position),this.triggerTrackingEvent("left");break;case 9:this.TABdebut&&!t.shiftKey&&(this.position=0,this.render(),this.TABdebut=!1);}clearInterval(this.autoplayIVL);},gainFocus:function gainFocus(t){t=this.$items.eq(t).find("a");t.length&&t.focus();},rotateLeft:function rotateLeft(t){var e;t=this.syncEvent(t,".left.carousel-control"),e=this.maxPosition&&this.position-this.setup.step<0?-this.position:this.isTablet&&3<this.setup.step?1-this.setup.step:-this.setup.step,!1!==this.dynamicSteps&&(e=-this.dynamicSteps[ui.Bootstrap.activeView]),this.isRotating?t.preventDefault():(t&&(t.preventDefault(),clearInterval(this.autoplayIVL),this.triggerTrackingEvent("left")),this.rotate(e,!1),this.TABdebut=!0);},rotateRight:function rotateRight(t,e){var i;t=this.syncEvent(t,".right.carousel-control"),this.isRotating?t.preventDefault():e&&!this.$el.hasClass(this.inviewClass)||(i=this.maxPosition&&this.position+this.setup.step>this.maxPosition?Math.abs(this.position-this.maxPosition):this.isTablet&&3<this.setup.step?this.setup.step-1:this.setup.step,!1!==this.dynamicSteps&&(i=this.dynamicSteps[ui.Bootstrap.activeView]),t&&(t.preventDefault(),clearInterval(this.autoplayIVL),this.triggerTrackingEvent("right")),e&&this.$el.trigger("carousel:slid-auto",{direction:"right",currentTarget:this.el}),this.rotate(i,!1),this.TABdebut=!0);},triggerTrackingEvent:function triggerTrackingEvent(t,e){this.$el.trigger("carousel:slid-manually",{direction:t,currentTarget:this.el,nextIndex:e});},convertToAbsolute:function convertToAbsolute(t){return 0<=t?t%this.amount:(this.amount+t)%this.amount;},round:function round(t){return 0<t?t+this.roundUpLimit|0:0|-((t=-t)+this.roundUpLimit);}}),ui.ComponentFactory.createPlugin({pluginMethodName:"PreviewTeaserSliderComponent",View:ui.PreviewTeaserSliderComponentView,selector:".ui-js-bk-12-iconpreview-cr, .ui-js-preview-teaser, .ui-js-productcategory-slider"}),$(ui.bootstrapPreviewTeaserSliderComponent());}.call(this),!function(){"use strict";ui.TeaserSliderCollapseComponentView=ui.ComponentView.extend({name:"ui.TeaserSliderCollapseComponentView",TRANSITION_TIMEOUT:400,minVisible:0,allVisible:!1,inactiveClass:"",inactiveXSClass:"hidden-xs",inactiveMSClass:"hidden-ms",transitionClass:"is-collapsed",$slides:null,events:{"click .ui-js-show-all":"showAllSlides"},defaults:{minVisibleMS:4,minVisibleXS:4},initialize:function initialize(){var t;this.allowMobil=this.setup&&this.setup.type&&"allow-mobil"===this.setup.type,this.allowMobil||(this.$slides=this.$(".js-slider-item:not(.clone)"),t=this.render.bind(this),ui.on("bootstrap.activemediaquery.changed",t));},render:function render(){var t,e;this.allowMobil||(t=ui.Bootstrap?ui.Bootstrap.activeView:"",e=/xs/.test(t),t=/ms/.test(t),e?(this.minVisible=this.setup.minVisibleXS,this.inactiveClass=this.inactiveXSClass):t&&(this.minVisible=this.setup.minVisibleMS,this.inactiveClass=this.inactiveMSClass),(e=this.$slides.filter(":gt("+(this.minVisible-1)+")")).length?this.allVisible||(this.$slides.removeClass(this.inactiveMSClass+" "+this.inactiveXSClass+" "+this.transitionClass),e.addClass(this.inactiveClass+" "+this.transitionClass)):this.$slides.removeClass(this.transitionClass),"menu-list"===this.setup.type&&this.$slides.removeClass(this.inactiveClass).removeClass(this.transitionClass),"brand-list"===this.setup.type&&this.$slides.removeClass(this.inactiveClass).removeClass(this.transitionClass),"allow-mobil"===this.setup.type&&this.$slides.removeClass(this.inactiveClass));},showAllSlides:function showAllSlides(t){var e,i,n;t.preventDefault(),this.allVisible?((i=(e=this).$slides.filter(":gt("+(this.minVisible-1)+")")).addClass("is-collapsed"),setTimeout(function(){i.addClass(e.inactiveClass);},this.TRANSITION_TIMEOUT),this.allVisible=!1):(this.$slides.removeClass(this.inactiveClass).height(),this.$slides.removeClass("is-collapsed"),this.allVisible=!0),t.target&&t.target.dataset&&(n=this.allVisible?"closeText":"openText",$(t.target).text(t.target.dataset[n]));}}),ui.ComponentFactory.createPlugin({pluginMethodName:"TeaserSliderCollapseComponent",View:ui.TeaserSliderCollapseComponentView,selector:".ui-js-preview-teaser"}),$(ui.bootstrapTeaserSliderCollapseComponent());}.call(this),!function(){"use strict";ui.IFrameMediatorComponentView=ui.ComponentView.extend({name:"ui.IFrameMediatorComponentView",$IFrame:null,ifHeight:0,mobileSrc:null,defaultSrc:null,initialize:function initialize(){var t=ui.Bootstrap.activeView,e=this.loadIFrame.bind(this);this.$IFrame=this.$("iframe"),this.mobileSrc=this.setup.url.mobile,this.defaultSrc=this.setup.url.default,this.installMessageReceiver(),/ms|xs/.test(t)&&this.loadIFrame(t),ui.on("bootstrap.activemediaquery.changed",e);},render:function render(){return this;},installMessageReceiver:function installMessageReceiver(){var e=this;$.receiveMessage&&$.receiveMessage(function(t){t=Number(t.data.replace(/.*if_height=(\d+)(?:&|$)/,"$1"));!isNaN(t)&&0<t&&t!==e.ifHeight&&(e.$IFrame.height(t),e.ifHeight=t);});},loadIFrame:function loadIFrame(t){var e,i,n;this.mobileSrc&&this.defaultSrc&&(e=this.$IFrame.attr("src").split("#")[0],i=this.$IFrame.attr("src").split("#")[1],n=window.location.protocol+"//"+window.location.host,t&&/ms|xs/.test(t)?e!==this.mobileSrc&&this.$IFrame.attr("src",this.mobileSrc+"#"+(i||n)):t&&e!==this.defaultSrc&&this.$IFrame.attr("src",this.defaultSrc+"#"+(i||n)));}}),ui.ComponentFactory.createPlugin({pluginMethodName:"IFrameMediatorComponent",View:ui.IFrameMediatorComponentView,selector:".ui-js-iframe-mediator"}),$(ui.bootstrapIFrameMediatorComponent());}.call(this),!function(){"use strict";ui.EventCalendarComponentView=ui.ComponentView.extend({name:"ui.EventCalendarComponentView",isOpened:!1,$body:null,$panels:null,$headings:null,$pills:null,$filterBlock:null,$toggleFilterBtn:null,$toggleResultBtn:null,events:{"click .ui-js-show-filters":"toggleFilterBlock","click .ui-js-show-results":"scrollToResults","click .ui-js-open-pill":"togglePanel","click input.ui-js-input":"transferCheckboxFocus","click input.ui-js-checkbox-all":"transferCheckboxFocus","click input.ui-js-input-activate-select":"transferCheckboxFocus","click .ui-js-reset":"transferResetBtnFocus","click .ui-js-reset-by-id":"transferResetBtnFocus","click .ui-item-filter .dropdown-toggle":"transferDropdownFocus"},initialize:function initialize(){this.$body=$("html,body"),this.$panels=this.$(".ui-panel-migros .panel-collapse"),this.$headings=this.$(".ui-panel-migros .panel-heading"),this.$pills=this.$(".ui-js-open-pill"),this.$filterBlock=this.$(".ui-checkbox-block"),this.$pillBlock=this.$(".ui-pill-block"),this.$toggleFilterBtn=this.$(".ui-js-show-filters"),this.$toggleResultBtn=this.$(".ui-pill-block .ui-js-show-results"),this.isOpened=!this.$filterBlock.is(".hidden-xs"),this.$mobilBlock=this.$(".ui-js-mobil-block");},render:function render(){return ui&&ui.activeElement&&"string"==typeof ui.activeElement&&this.focusElement(),this;},toggleFilterBlock:function toggleFilterBlock(t){this.isOpened?(this.$filterBlock.addClass("hidden-xs hidden-ms"),this.$filterBlock.removeClass("is-active-filter-block is-in"),this.$toggleFilterBtn.removeClass("sr-only"),this.$toggleResultBtn.addClass("sr-only"),this.isOpened=!1):(this.$filterBlock.removeClass("hidden-xs hidden-ms"),this.$filterBlock.addClass("is-active-filter-block"),t&&!t.type&&this.$filterBlock.addClass("is-in"),this.$toggleResultBtn.removeClass("sr-only"),this.isOpened=!0);},scrollToResults:function scrollToResults(t){var e=this.$pillBlock.offset().top;t.preventDefault(),this.isOpened&&this.toggleFilterBlock(),this.togglePanel(),this.$(".collapse").collapse("hide"),/(ms|xs)/.test(ui.Bootstrap.activeView)?this.$body.animate({scrollTop:e},0):this.$body.animate({scrollTop:e},300);},togglePanel:function togglePanel(t){var e,i,n,s=this.$panels.filter(".in");this.$panels.removeClass("in is-in").attr("aria-expanded",!1),this.$headings.attr("aria-expanded",!1),this.$pills.removeClass("is-active").attr("aria-expanded",!1),t&&(n=t.target.hash,e=$(t.target),i=$(n),n=$('[href="'+n+'"]'),t.preventDefault(),i.length&&!i.is(s)&&this.openPanel(i,n,e));},openPanel:function openPanel(t,e,i){t.length&&(t.addClass("in is-in").attr("aria-expanded",!0),t.closest(".ui-js-mobil-block")&&t.closest(".ui-js-mobil-block").addClass("is-active-filter-block ")),e.length&&e.attr("aria-expanded",!0),i.length&&i.addClass("is-active").attr("aria-expanded",!0);},transferCheckboxFocus:function transferCheckboxFocus(t){t=t.currentTarget,t=t.nodeName.toLowerCase()+'[name="'+t.name+'"][value="'+t.value+'"]';ui&&(ui.activeElement=t,this.saveMobilScrollPos(!1));},transferDropdownFocus:function transferDropdownFocus(t){ui&&t.currentTarget.id&&(ui.activeElement="#"+t.currentTarget.id,this.saveMobilScrollPos(!1));},transferResetBtnFocus:function transferResetBtnFocus(t){var e=$(t.currentTarget);ui&&e.attr("data-reset")&&(ui.activeElement='[data-reset="'+e.attr("data-reset")+'"]',ui.activeElementIndex=this.$(ui.activeElement).index($(t.currentTarget)),this.saveMobilScrollPos(!0));},saveMobilScrollPos:function saveMobilScrollPos(t){/(ms|xs)/.test(ui.Bootstrap.activeView)&&(t?(ui.activeElementResetBtn=!0,ui.activeElementScrollPos=this.$mobilBlock.find(".panel-group").scrollTop()):(ui.activeElementResetBtn=!1,ui.activeElementScrollPos=$(ui.activeElement,this.$mobilBlock).closest(".form-group > .row").scrollTop()));},setMobilScrollPos:function setMobilScrollPos(){(ui.activeElementResetBtn?$(".ui-js-mobil-block .panel-group"):$(ui.activeElement,this.$mobilBlock).closest(".form-group > .row")).scrollTop(ui.activeElementScrollPos);},focusElement:function focusElement(){var t,e,i=ui.activeElement,n=ui.activeElementIndex,i=this.$(i);this.isOpened=!1,/(ms|xs)/.test(ui.Bootstrap.activeView)&&!i.length&&2===n&&(this.toggleFilterBlock(!0),this.setMobilScrollPos()),i.length&&(n=this.$panels.has(i),t=this.$headings.has(i),e=n.attr("id"),e=$('.ui-js-open-pill[aria-controls="'+e+'"]'),/(ms|xs)/.test(ui.Bootstrap.activeView)&&(0<n.length||this.$mobilBlock.has(i).length)&&this.toggleFilterBlock(!0),this.$panels.filter(".in").length&&this.togglePanel(),this.openPanel(n,t,e),!/(ms|xs)/.test(ui.Bootstrap.activeView)&&1<i.length?i.last().focus():/(ms|xs)/.test(ui.Bootstrap.activeView)||i.first().focus(),/(ms|xs)/.test(ui.Bootstrap.activeView)&&0<n.length&&this.setMobilScrollPos(),delete ui.activeElement,delete ui.activeElementIndex);},closeView:function closeView(){this.unbind(),this.remove();}}),ui.ComponentFactory.createPlugin({pluginMethodName:"EventCalendarComponent",View:ui.EventCalendarComponentView,selector:".ui-js-event-calendar",reinitialize:!0}),$(ui.bootstrapEventCalendarComponent());}.call(this),!function(){"use strict";ui.ItemFilterComponentView=ui.ComponentView.extend({name:"ui.ItemFilterComponentView",ajaxPageUrl:"",popState:!1,popStateHandler:null,fadeInCallback:null,customSubmMeth:!1,state:!1,queryObj:{},paginationParam:null,optionalParams:null,$resultNode:null,$resetBtn:null,events:{"click .ui-js-reset":"resetQuery","click .ui-js-reset-by-id":"resetQueryById","click .ui-js-reset-search":"resetSearch","submit .ui-js-searchbox":"searchSubmit","change .ui-js-input-activate-select":"toggleDisableSelect","change .ui-js-input-select":"selectChanged","change .ui-js-checkbox-all":"checkDependedCheckboxes"},initialize:function initialize(t){this.ajaxPageUrl=t.ajaxUrl,this.popState=t.popState,this.customSubmMeth=t.customSubmitMethod,this.historySupport=!!window.history.pushState||!1,this.paginationParam=t.pageParam||null,this.optionalParams=t.optionalParams||null,this.$resultNode=t.resultNodeId&&$("#"+t.resultNodeId),this.$resetBtn=this.$(".ui-js-reset"),this.metaData="",this.fadeInCallback=this.fadeInCB.bind(this),this.$searchField=this.$(".ui-js-searchinput"),this.searchValue="",this.$checkBoxAllInput=this.$el.find(".ui-js-checkbox-all"),this.initMetaObject(),this.childViews=[],t.additional_parameters&&(this.queryObj=$.extend(this.queryObj,t.additional_parameters||{})),this.$resultNode||console.warn("item-filter.js: No container for results found!"),this.model=ui.requests.getURLParamModel();for(var e=this.$resetBtn.length;e--;){var i=$(this.$resetBtn[e]);this.installResetBtnSwitch(i);}this.popState&&this.historySupport&&(this.popStateHandler=this.installPopState.bind(this),$(window).on("popstate",this.popStateHandler)),this.addAllFilterItems(),this.checkIfAllCheckBoxesActive(),this.setMetaContent(this.getLastModelAttributeMetaData());},render:function render(){for(var t=this.$resetBtn.length;t--;){var e=$(this.$resetBtn[t]),i=this.parseResetBtnParams(e);this.toggleResetBtn(e,this.model,i);}return this;},resetSearch:function resetSearch(t){t.preventDefault();var e=this,t=ui.requests.parseLocationParameters(location),i=this.$searchField.attr("name"),n=this.$searchField.val(),s=[];setTimeout(function(){e.$searchField.closest("form")[0].reset();},150),e.queryObj[i]?(s.push(i),$.each(t,function(t){e.optionalParams&&e.optionalParams[t]&&s.push(t);}),e.$el.trigger("delete:after:search"),e.requestPage(!1,s,e.fadeInCallback)):n&&i&&(this.$searchField.val(""),e.requestPage(!1,[i],e.fadeInCallback));},searchSubmit:function searchSubmit(t){t.preventDefault();var i=this,n=this.$searchField.attr("name"),t=this.$searchField.val(),e=ui.requests.parseLocationParameters(location),s=[];if(this.queryObj[n]===t)return!1;this.queryObj[n]=t,$.each(e,function(t,e){n&&n===t||"undefined"!==(!i.optionalParams||_typeof(i.optionalParams[t]))||s.push(t);}),this.$el.trigger("delete:after:search"),this.requestPage(!1,s,this.fadeInCallback);},checkIfAllCheckBoxesActive:function checkIfAllCheckBoxesActive(){this.$checkBoxAllInput.length&&$.each(this.$checkBoxAllInput,function(t,e){var i=$(e).closest(".form-group").find(".ui-subcategory").find("input[type=checkbox]:not(:disabled)"),n=i.filter(function(t,e){return e.checked;});e.checked=n.length===i.length;});},checkDependedCheckboxes:function checkDependedCheckboxes(t){t=t.target.checked?this.toggleCheckboxes(t.target,!0):this.toggleCheckboxes(t.target,!1);this.requestPage(!1,t,this.fadeInCallback);},setQueryObject:function setQueryObject(t,e){return t?(this.queryObj[e.attr("name")]=e.attr("value"),null):e.attr("name");},toggleCheckboxes:function toggleCheckboxes(t,i){var n=this,s=[],t=$(t).closest(".form-group").find(".ui-subcategory").find("input[type=checkbox]:not(:disabled)");return $.each(t,function(t,e){$(e)[0].checked=i;e=n.setQueryObject(i,$(e));null!==e&&s.push(e);}),s;},toggleDisableSelect:function toggleDisableSelect(t){var t=t.target,e=this.getToggleSelect(),i=[];e.prop("disabled",!t.checked),t.checked&&(this.queryObj[t.name]=t.value,this.queryObj[e.attr("name")]=e.val(),this.paginationParam&&i.push(this.paginationParam),this.$resultNode.addClass("loading"),this.$resultNode.find(".fade-in").attr("aria-busy",!0),this.requestPage(!1,i,this.fadeInCallback));},getToggleSelect:function getToggleSelect(){return this.$el.find(".ui-js-input-activate-select").closest(".ui-js-radio-group").find(".ff-select select");},selectChanged:function selectChanged(t){t.preventDefault();var e=$(t.currentTarget).attr("name");void 0!==e&&(ui.activeElement="[name="+e+"]"),this.queryObj[t.target.name]=t.target.value,this.requestPage(!1,null,this.fadeInCallback);},initMetaObject:function initMetaObject(){var t=$("title"),e=$('[name="description"]'),i=$('[name="robots"]');this.meta={robots:i,robotsContent:i.attr("content"),title:t,titleText:t.length?t.text():"",ogTitle:$('[property="og:title"]'),description:e,descriptionText:e.length?e.attr("content"):"",ogDescription:$('[property="og:description"]'),canonical:$('[rel="canonical"]'),ogUrl:$('[property="og:url"]')};},formatData:function formatData(t){return t=t&&"string"==typeof t?JSON.parse(t.replace(/\\'/g,"'").replace(/'/g,'"')):t;},setMetaContentText:function setMetaContentText(t,e,i,n,s){t.length&&(e&&e[i]?n?t.attr(n,e[i]):t.text(e[i]):n?t.attr(n,s):t.text(s));},getLastModelAttributeMetaData:function getLastModelAttributeMetaData(){var t=Object.keys(this.model.attributes)[Object.keys(this.model.attributes).length-1],e=this.$el.find('[name="'+t+'"]');return e.length||(e=this.$el.find('[data-name="'+t+'"][data-value="'+this.model.attributes[t]+'"]')),this.formatData(e.data("meta"));},setMetaContent:function setMetaContent(t){var e=Object.keys(this.model.attributes).length,i=((1<e||0===e)&&(t=""),location.origin+location.pathname);0<e?($(this.meta.canonical).remove(),this.setMetaContentText(this.meta.robots,{robotsContent:"noindex"},"robotsContent","content",this.meta.robotsContent)):(0===this.meta.canonical.length&&($("head").append('<link rel="canonical" href="./"/>'),this.meta.canonical=$('[rel="canonical"]')),this.setMetaContentText(this.meta.canonical,t,"canonical","href",i)),this.setMetaContentText(this.meta.title,t,"title",!1,this.meta.titleText),this.setMetaContentText(this.meta.ogTitle,t,"title","content",this.meta.titleText),this.setMetaContentText(this.meta.description,t,"description","content",this.meta.descriptionText),this.setMetaContentText(this.meta.ogDescription,t,"description","content",this.meta.descriptionText),this.setMetaContentText(this.meta.ogUrl,t,"ogUrl","content",i);},parseResetBtnParams:function parseResetBtnParams(t){var e=this;if(t.data("reset"))return $.grep(t.data("reset").split(" "),function(t){return t!==e.paginationParam;});},installResetBtnSwitch:function installResetBtnSwitch(e){var i=this.parseResetBtnParams(e),n=this;i&&0<i.length&&this.model.on("change",function(t){n.toggleResetBtn(e,t,i);});},toggleResetBtn:function toggleResetBtn(i,n,t){var s;this.customSubmMeth||(s=!1,t&&t.length&&$.each(t,function(t,e){if(n.has(e))return void 0===i.data("reset-value")||n.attributes[e]===i.data("reset-value")?!(s=!0):void 0;}),i.toggleClass("is-collapsed",!s),i.toggleClass("hidden",!s),i.attr("aria-hidden",!s),i.attr("tabindex",s?0:-1));},addOneFilter:function addOneFilter(t,e,i){var n;switch(t){case"dropdown":n=ui.bootstrapDropdownComponent;break;case"checkbox":n=ui.bootstrapCheckboxComponent;break;case"radio":n=ui.bootstrapRadioComponent;break;case"linklist":n=ui.bootstrapLinklistComponent;break;case"daterange":n=ui.bootstrapDateRangeComponent;break;default:return;}t=n(i,this.$el,{model:this.model}).call(this),i=this.handleEvent.bind(this);t.$el.on(t.setup.activeChangeEvent,i),this.childViews.push(t);},addAllFilterItems:function addAllFilterItems(){var t=this.addOneFilter.bind(this,"dropdown");this.$(".dropdown").each(t),t=this.addOneFilter.bind(this,"checkbox"),this.$('.ui-js-input[name][value][type="checkbox"]').each(t),t=this.addOneFilter.bind(this,"radio"),this.$(".ui-js-radio-group").each(t),t=this.addOneFilter.bind(this,"linklist"),this.$(".linklist").each(t),t=this.addOneFilter.bind(this,"daterange"),this.$(".ui-js-daterange-filter").each(t);},installPopState:function installPopState(t){var e,i=this,n=window.history.state;n&&n.params?i.queryObj=n.params:window.location&&(window.location.search||ui.requests.locationHasCustomParams(window.location))?i.queryObj=ui.requests.parseLocationParameters(window.location):i.queryObj={},e=function e(){n&&n.scrollTop&&!t.target.location.hash&&(document.body.scrollTop=n.scrollTop),i.fadeInCB.apply(i);},i.$resultNode.addClass("loading"),i.$resultNode.find(".fade-in").attr("aria-busy",!0),i.requestPage(!0,null,e);},handleEvent:function handleEvent(t,e){var i=e.name,n=e.value,e=e.type,s=[],o=!1;switch(e){case"dropdown":case"linklist":case"radio":this.queryObj[i]=n;break;case"checkbox":void 0===this.model.attributes[i]?(delete this.queryObj[i],this.queryObj[i]=n):(s.push(i),o=!0);break;case"daterange":n instanceof Array&&1<n.length&&1<i.length?(this.queryObj[i[0]]=n[0],this.queryObj[i[1]]=n[1]):this.queryObj[i]=n;break;default:return;}var a=ui.requests.parseLocationParameters(location),e=(a&&(e=Object.keys(a).length,(1<Object.keys(this.queryObj).length-e||0<s.length)&&Object.keys(this.queryObj).forEach(function(t){a[t]||o&&t!==i&&s.push(t);})),this.paginationParam&&s.push(this.paginationParam),this.getToggleSelect());e.length&&e.prop("disabled")&&s.push(e.attr("name")),this.$resultNode.addClass("loading"),this.$resultNode.find(".fade-in").attr("aria-busy",!0),this.requestPage(!1,s,this.fadeInCallback);},requestPage:function requestPage(t,e,i){var n=this;e&&e.length&&$.each(e,function(t,e){delete n.queryObj[e];}),this.optionalParams&&(this.queryObj=$.extend(this.queryObj,this.optionalParams||{})),ui.requests.ajaxRequestPage({url:this.ajaxPageUrl,query:this.queryObj,$el:this.$resultNode,customSubmitMethod:this.customSubmMeth,isPopState:t,deleteParams:e,successCb:i,failCb:function failCb(){console.log("request failed",n.ajaxPageUrl);}});},fadeInCB:function fadeInCB(){var t=this;setTimeout(function(){t.$resultNode.removeClass("loading"),t.$resultNode.find(".fade-in").attr("aria-busy",!1),t.setMetaContent(t.getLastModelAttributeMetaData());},0);},resetQuery:function resetQuery(t){t.preventDefault();t=$(t.target).data("reset");t&&(this.$resultNode.addClass("loading"),this.$resultNode.find(".fade-in").attr("aria-busy",!0),this.requestPage(!1,t.split(" ").concat("p"),this.fadeInCallback));},resetQueryById:function resetQueryById(t){t.preventDefault();var t=$(t.target).data("reset"),i=[];t&&($("#"+t+" .ui-js-input[name][value], #"+t+" .ui-js-input-select, #"+t+" .ui-js-filter-btn.is-active, #"+t+" .ui-js-filter-link.is-active, #"+t+" .ui-js-page[data-name]:first").each(function(t,e){e=e.name||$(e).data("name");i.indexOf(e)<0&&i.push(e);}),i.length&&this.requestPage(!1,i,null));},closeView:function closeView(){$(window).off("popstate",this.popStateHandler),this.childViews.forEach(function(t){t.$el.off(t.setup.activeChangeEvent),t.unbind(),t.remove();}),this.unbind(),this.remove();}}),ui.ComponentFactory.createPlugin({pluginMethodName:"ItemFilterComponent",View:ui.ItemFilterComponentView,selector:".ui-js-item-filter",reinitialize:!0}),$(ui.bootstrapItemFilterComponent());}.call(this),!function(){"use strict";ui.LoadMoreComponentView=ui.ComponentView.extend({name:"ui.LoadMoreComponentView",loadMoreClassSel:".ui-js-load_more",spinnerClassSel:".ui-js-spinner",isHiddenClass:"is-hidden",events:{"click .ui-js-load_more":"loadMore"},initialize:function initialize(t){return this.$button=$(this.loadMoreClassSel,this.$el),this.$spinner=$(this.spinnerClassSel,this.$el),t.loadMoreResultId?(this.$results=$("[data-load-more-result-id="+t.loadMoreResultId+"]",this.$el),t.ajaxUrl?(this.ajaxUrl=t.ajaxUrl,t.page?(this.page=t.page,t.offset?void(this.offset=t.offset):(console.warn("No offset declared! ... add a offset parameter to data-setup!"),!1)):(console.warn("No page declared! ... add a page parameter to data-setup!"),!1)):(console.warn("No ajaxUrl declared! ... add a ajaxUrl parameter to data-setup!"),!1)):(console.warn("No Result Node declared! ... add a loadMoreResultId parameter to data-setup!"),!1);},loadMore:function loadMore(t){t.preventDefault(),this.$spinner.removeClass(this.isHiddenClass),this.getNextItems();},getNextItems:function getNextItems(){var e=this;$.ajax({type:"GET",dataType:"html",data:{page:this.page,offset:this.offset},url:this.ajaxUrl}).done(function(t){e.$results.append(t),e.$spinner.addClass(e.isHiddenClass),e.incrementPageIndex(),e.$results.find(".ui-js-last-item").length&&e.$button.addClass(e.isHiddenClass);}).fail(function(t){console.log("load-more Error",t);});},incrementPageIndex:function incrementPageIndex(){this.page++;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"LoadMoreComponent",View:ui.LoadMoreComponentView,selector:".ui-js-load-more",reinitialize:!1}),$(ui.bootstrapLoadMoreComponent());}.call(this),window.immediateReload=function(){console.log("immediateReload triggered..."),ui.trigger("immediateReload");},!function(){"use strict";var i=void 0,n=void 0,s=void 0;var e="true"===localStorage.getItem("logLogin"),o={checkImmediateLogin:function checkImmediateLogin(t,e){this.logToConsole("#######","checkImmediateLogin","immediateLoginURL",t,"logoutURL",e),void 0!==i&&void 0!==n&&(n===i?this.logToConsole("Do not try immediate login in this session again. Is same user "+i+"."):0<n.length?e&&(this.logToConsole("Trigger global logout. Different user are detected "+n+"/"+i+"."),window.location.href=e):jQuery("iframe#mconnector").length?this.logToConsole("Do not try immediate login again. IFrame immediate login was already triggered."):(this.logToConsole("Check immediate login for loginId:"+i+" ..."),jQuery('<iframe src="'+t+'" class="hidden" id="mconnector" width="0" height="0">').appendTo("body")));},checkImmediateLogout:function checkImmediateLogout(t){this.logToConsole("#######","checkImmediateLogin"),void 0!==n&&0<n.length&&t&&(this.logToConsole("Do logout for loginId:"+i),window.location.href=t);},logToConsole:function logToConsole(t){console&&e&&console.info(t);}};ui.DelegateLoginView=ui.ComponentView.extend({name:"ui.DelegateLoginView",initialize:function initialize(t){if(o.logToConsole("#####","delegate-login","el",this.el),this.immediateLoginURL=this.$el.data("immediateLoginUrl"),this.immediateLogoutURL=this.$el.data("immediateLogoutUrl"),this.logoutURL=this.$el.data("logoutUrl"),this.immediateLoginReload=this.$el.data("immediateLoginReload"),this.loginStateUrl=this.$el.data("loginStateUrl"),this.immediateLoginURL&&this.loginStateUrl){var _e2=this;jQuery.ajax({url:this.loginStateUrl,success:function success(t){n=t,o.logToConsole("Got state from server serverId="+n+" and loginState from widget is "+s+" ..."),void 0!==s&&(s?o.checkImmediateLogin(_e2.immediateLoginURL,_e2.logoutURL):o.checkImmediateLogout(_e2.immediateLogoutURL));}}),ui.on(ui.GlobalEvents.LOGIN_AUTHENTICATED,this.checkImmediateLogin.bind(this)),ui.on(ui.GlobalEvents.LOGIN_ANONYMOUS,this.checkLogout.bind(this)),ui.on("immediateReload",this.immediateReload.bind(this));}},checkImmediateLogin:function checkImmediateLogin(t){o.logToConsole("#######","checkImmediateLogin");t=t.data;i=t.sub,s=!0,o.logToConsole("checkImmediateLogin","user",t,"loginId",i,"loginState",s),o.logToConsole("Got state from widget "+s+", check immediate login for "+n+"/"+i+" ..."),o.checkImmediateLogin(this.immediateLoginURL,this.logoutURL);},checkLogout:function checkLogout(t){o.logToConsole("#######","checkLogout"),s=!1,o.logToConsole("checkLogout","loginId",i,"loginState",s),o.logToConsole("Got state from widget "+s+", check immediate logout for "+n+"/"+i+" ..."),o.checkImmediateLogout(this.immediateLogoutURL);},immediateReload:function immediateReload(t){o.logToConsole("#######","immediateReload","this.immediateLoginReload",this.immediateLoginReload),this.immediateLoginReload&&(o.logToConsole("Do immediate login reload ..."),window.location.reload());}}),ui.ComponentFactory.createPlugin({pluginMethodName:"DelegateLoginComponent",View:ui.DelegateLoginView,selector:"[data-immediate-login-url]"}),$(ui.bootstrapDelegateLoginComponent());}.call(this),!function(){"use strict";ui.MainMenuMobileBreadcrumb=ui.ComponentView.extend({name:"ui.MainMenuMobileBreadcrumb",events:{"click .js-main-menu-mobile-breadcrumb":"onBreadcrumbClick"},isActive:!1,isMenuOpen:!1,activateViews:/(xs|ms)/,lastbreadcrumbModel:{},HIDDEN_CLASS:"hidden",initialize:function initialize(t){this.$breadcrumb=this.$(".js-main-menu-mobile-breadcrumb"),this.toggleActivation(),ui.on("bootstrap.activemediaquery.changed",this.toggleActivation.bind(this)),ui.on(ui.GlobalEvents.MAIN_MENU_OPEN,this.onMainMenuOpen.bind(this)),ui.on(ui.GlobalEvents.MAIN_MENU_CLOSE,this.onMainMenuClose.bind(this)),ui.on(ui.GlobalEvents.MAIN_MENU_BREADCRUMB_CHANGE,this.onMainMenuBreadcrumbChange.bind(this));},onBreadcrumbClick:function onBreadcrumbClick(t){t.preventDefault(),ui.trigger(ui.GlobalEvents.MAIN_MENU_GOTO,t.currentTarget.href);},onMainMenuOpen:function onMainMenuOpen(){this.isMenuOpen=!0,this.toggleActivation();},onMainMenuClose:function onMainMenuClose(){this.isMenuOpen=!1,this.toggleActivation();},onMainMenuBreadcrumbChange:function onMainMenuBreadcrumbChange(t){-1<(t&&parseInt(t.level,10))&&t&&t.uuid&&t.title?(this.isActive&&this.$el.removeClass(this.HIDDEN_CLASS),this.$breadcrumb.attr("href","#menu/"+t.uuid),this.$breadcrumb.text(t.title),this.lastbreadcrumbModel=t):(this.$el.addClass(this.HIDDEN_CLASS),this.$breadcrumb.attr("href","#"),this.$breadcrumb.text(""));},toggleActivation:function toggleActivation(){this.activateViews.test(ui.Bootstrap.activeView)&&this.isMenuOpen?this.activate():setTimeout(this.deactivate.bind(this),1);},activate:function activate(){this.isActive||(this.isActive=!0,this.onMainMenuBreadcrumbChange(this.lastbreadcrumbModel));},deactivate:function deactivate(){this.isActive&&(this.$el.addClass(this.HIDDEN_CLASS),this.lastbreadcrumbModel={},this.isActive=!1);},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"MainMenuMobileBreadcrumbComponent",View:ui.MainMenuMobileBreadcrumb,selector:".ui-js-main-menu-breadcrumb"}),$(ui.bootstrapMainMenuMobileBreadcrumbComponent());}.call(this),!function(){"use strict";ui.MainMenuComponentView=ui.ComponentView.extend({name:"ui.MainMenu",defaults:{},ON_TRANSITION_END:"webkitTransitionEnd mozTransitionEnd oTransitionEnd msTransitionEnd transitionend",topOffset:0,isOpen:!1,setup:{},visibleView:null,bodyNode:null,phoneExtrasInitialized:!1,events:{"click .js-close":"onCloseClick",'click a[href^="#menu/"]:not(.js-main-menu-mobile-breadcrumb)':"onSubMenuItemClick",'click a[href="#"]':function clickAHref(t){t.preventDefault();},"click .menu-link":"doTrackMainNavigation","click .ui-t354-03-logo":"doTrackOutNavigation"},initialize:function initialize(t){var i=this;this.$overlayBackground=this.$(".js-background"),this.menuOptions=$("nav[data-setup]",this.$el).attr("data-setup"),this.menuRequestUrl=this.menuOptions?JSON.parse(this.menuOptions.replace(/'/g,'"')).requestURL:"",this.menuRequestUrl?$.ajax({url:this.menuRequestUrl}).done(function(t,e){i.renderMenuLayers(t,e),i.init2();}).fail(function(){console.log("request failed",this.menuRequestUrl);}):this.init2();},init2:function init2(){this.windowRef=$(window),this.bodyNode=$("body"),this.headNode=$("head"),this.name=this.setup.name||this.name,this.breadCrumb=[],this.configure(),this.responsiveSetup(),this.scrollbarTakesWidth=ui.scrollbarTakesWidth(),this.scrollbarWidth=ui.scrollbarWidth(),this.hightlightActivePageItem(),this.startPageGroupItems=this.activeSlide.find(".group-item"),this.windowRef.on("orientationchange",this.checkPhoneExtrasInit.bind(this)),this.windowRef.on("resize",this.checkPhoneExtrasInit.bind(this));var t=this.$el.length?parseInt(this.$el.height()):0,e=this.headerNavigation.length?parseInt(this.headerNavigation.height()):0;this.$el.addClass("is-not-visible").css({top:-(t+e)+"px"}),window.dataLayer=window.dataLayer||[];},renderMenuLayers:function renderMenuLayers(t,e){$(t).insertAfter('[data-menu-level="1"]',this.$el);},calculateMainMenuHeights:function calculateMainMenuHeights(){var t,e;e="xs"===ui.Bootstrap.activeView||"ms"===ui.Bootstrap.activeView?0:(t=this.safetyTeaser.length?parseInt(this.safetyTeaser.height()):0,e=this.pageBreadcrumb.length&&"none"!==this.pageBreadcrumb.css("display")?parseInt(this.pageBreadcrumb.height())-3:0,this.headerPanel.height()-e-t),this.$el.css({"margin-top":e+"px",height:"100%"}).css("height","-="+e+"px");},prepareBodyAndMenuScrollLayout:function prepareBodyAndMenuScrollLayout(){var t=this;function doScrollbarPreparation(){t.isOpen&&(t.scrollbarTakesWidth&&t.bodyNode.addClass("body-has-width-taking-scrollbar"),t.$el.removeClass("is-scrollbar-hidden"));}ui.cssSupports("transition")&&(this.$el.addClass("is-scrollbar-hidden"),this.activeSlide===this.slides[0]&&ui.cssSupports("transition")?this.startPageGroupItems.eq(2).one(this.ON_TRANSITION_END,doScrollbarPreparation):doScrollbarPreparation());},open:function open(){this.isOpen=!0,document.body.scrollIntoView(!0),this.prepareBodyAndMenuScrollLayout(),this.renderTemplate(this.activeSlide),this.$el.addClass("is-menu-item-animate is-visible").removeClass("is-not-visible").css({top:"0px"}).scrollTop(0),this.pageBreadcrumb.removeClass("is-visible"),this.pageBreadcrumb.addClass("is-not-visible"),this.showOverlay(),ui.trigger(ui.GlobalEvents.MAIN_MENU_OPENED),this.currentId&&setTimeout(function(){this.mirrorSlideHeight(this.currentId);}.bind(this),300);},close:function close(){var t=this,e=(ui.trigger(ui.GlobalEvents.HEADER_UNFIX),this.bodyNode.removeClass("body-is-fixed body-has-width-taking-scrollbar"),this.$el.length?parseInt(this.$el.height()):0),i=this.headerNavigation.length?parseInt(this.headerNavigation.height()):0;this.$el.removeClass("is-menu-item-animate is-visible").addClass("is-not-visible").css({top:-(e+i)+"px"}),setTimeout(function(){t.hightlightActivePageItem();},600),ui.cssSupports("transition")||this.hightlightActivePageItem(),this.pageBreadcrumb.removeClass("is-not-visible"),this.pageBreadcrumb.addClass("is-visible"),this.hideOverlay(),this.isOpen=!1;},onCloseClick:function onCloseClick(){ui.trigger(ui.GlobalEvents.MAIN_MENU_CLOSE),this.hasMainMenuOpenState=!1,this.close();},onSubMenuItemClick:function onSubMenuItemClick(t){t.preventDefault();var t=this.$(t.target).closest("a"),e=t.attr("href");!this.phoneExtrasInitialized&&t.hasClass("ui-js-phone-menu-special-link")||e&&-1!==e.indexOf("menu")&&this.showMenuItem(e);},doTrackMainNavigation:function doTrackMainNavigation(t){var t=$(t.currentTarget),e=t.closest("[data-menu-level]").data("menu-level"),e=this.getLevelFromMenuLevel(e),i=t.data("relation-category"),t=this.setDataLayerPart(t,e,i,"mainNavigation");void 0!==t&&window.dataLayer.push(t);},getLevelFromMenuLevel:function getLevelFromMenuLevel(t){return 1<t?t:1;},setDataLayerPart:function setDataLayerPart(t,e,i,n){var s={};return s.event=n,i&&1===e?(s["navigationLevel"+e]=t.closest(".menu-group").find(".headline").text(),s["navigationLevel"+ ++e]=t.text(),s):i||!i&&1===e?(s["navigationLevel"+e]=t.text(),s):void 0;},doTrackOutNavigation:function doTrackOutNavigation(t){var e={},t=$(t.currentTarget).find("img").attr("alt");t&&(e.event="outNavigation",e.navigationLevel1=t,window.dataLayer.push(e));},hideOverlay:function hideOverlay(){this.$overlayBackground.removeClass("is-show"),this.$el.removeClass("is-show");},showOverlay:function showOverlay(){this.$overlayBackground.addClass("is-show"),this.$el.addClass("is-show");},uuidFromMenuRoute:function uuidFromMenuRoute(t){t=t.split("#"),t=t&&t[1],t=t&&t.split("/");return t[0]&&t[1]&&"menu"===t[0]&&t[1];},getMenuItem:function getMenuItem(t){var e;return"string"==typeof t&&-1!==t.indexOf("menu")&&(t=this.uuidFromMenuRoute(t)),e=this.slides.find('[data-menu-uuid="'+t+'"]'),t&&e.length?e:console.warn(this+".showMenuItem("+t+") no menu item found!")||$();},updateModel:function updateModel(t,e,i){var n,e=e||+t.closest("[data-menu-level]").data("menu-level");return i=i||+this.activeSlide.data("menu-level")||0,this.lastActiveMenuItem=this.activeMenuItem,this.activeMenuItem=t=t,(i<e||e)&&(this.breadCrumb.splice(1),this.reverseUpdateModel(t,e),n=this.breadCrumb[this.breadCrumb.length-2]),ui.trigger(ui.GlobalEvents.MAIN_MENU_BREADCRUMB_CHANGE,n),this;},reverseUpdateModel:function reverseUpdateModel(t,e){var i;if(0!==e)return i=t.data("backurl")?t.data("backurl"):t.data("menu-uuid"),e-1==1&&/xs|sm/.test(ui.Bootstrap.activeView)&&t.data("backurlmobil")&&(i=t.data("backurlmobil")),i=this.getMenuItem(i),this.reverseUpdateModel(i,e-1),this.pushNewItemToBreadCumbModel(t,e);},pushNewItemToBreadCumbModel:function pushNewItemToBreadCumbModel(t,e){!this.breadCrumb.filter(function(t){return t.level===e;}).length&&t.length&&t.data("title")&&this.breadCrumb.push({title:t.data("title"),uuid:t.data("menu-uuid"),backurl:t.data("backurl"),level:e,isMobileHelperSlide:t.hasClass("js-normal-group")});},showMenuItem:function showMenuItem(t){var e=this.getMenuItem("string"!=typeof t&&this.breadCrumb[t]?this.breadCrumb[t].uuid:t);var i=+this.activeSlide.data("menu-level")||0,n=(this.currentId=t,this.isOpen&&this.renderTemplate(e),this.lastActiveMenuItem&&this.lastActiveMenuItem.addClass("menu-item-pass-invisible"),e.removeClass("menu-item-pass-invisible"),+e.closest("[data-menu-level]").data("menu-level"));this.mirrorSlideHeight(t),this.updateModel(e,n,i),this.renderBreadcrumb(e),this.slider.carousel(n),$(".js-mobile-navigation").toggleClass("hidden",0!=n),this.searchBlock.toggleClass("is-toplevel",0==n);},mirrorSlideHeight:function mirrorSlideHeight(t){var t=this.getMenuItem("string"!=typeof t&&this.breadCrumb[t]?this.breadCrumb[t].uuid:t),e=/xs|ms|sm/.test(ui.Bootstrap.activeView)?0:70,i={};i[/xs|ms|sm/.test(ui.Bootstrap.activeView)?"height":"max-height"]=t.closest(".item").outerHeight()+e+"px",this.$(".carousel").css(i);},renderTemplate:function renderTemplate(t){t.find(".js-menu-group-template").each(function(){$(this).replaceWith($(this).html());}),this.hasRenderedOnce||(this.hasRenderedOnce=!0,setTimeout(function(){ui.trigger(ui.GlobalEvents.MAIN_MENU_TEMPLATES_RENDER);},1),setTimeout(function(){ui.trigger(ui.GlobalEvents.MAIN_MENU_TEMPLATES_RENDERED);},200));},hightlightActivePageItem:function hightlightActivePageItem(){var t,e=$(document.body),i=e.data("menuCategory"),e=e.data("menuGroupCategory");e&&this.$('[data-group-category="'+e+'"]').addClass("is-active"),i&&this.$('a[data-relation-category="'+i+'"]').addClass("is-active"),this.phoneExtrasInitialized||this.$(".ui-js-phone-menu-link.is-active").removeClass("is-active"),(t=(t=(i=0<!(i=this.$("[data-menu-uuid].is-active").first()).length?(/xs|ms/.test(ui.Bootstrap.activeView)?this.$(".js-helper-inside .menu-link.is-active"):this.$(".menu-link.is-active")).first().closest("[data-menu-uuid]"):i).data("menu-uuid"))||this.$("[data-menu-uuid]").first().data("menu-uuid"))&&e&&i.data("backurl")&&(e=i.data("backurl").replace("#menu/",""),this.$el.find('[data-menu-uuid="'+e+'"]').find('.menu-link[href="#menu/'+t+'"]').addClass("active")),this.showMenuItem(t);},onMenuChangeStart:function onMenuChangeStart(t){this.activeSlide=this.$(".item.active"),this.isOpen&&document.body.scrollIntoView(!0);},onMenuChangeEnd:function onMenuChangeEnd(t){this.activeSlide=this.$(".item.active");},initializePhoneExtras:function initializePhoneExtras(){var t=this.searchField.data("shortPlaceholder")||this.searchField.attr("placeholder");this.searchField.attr("placeholder",t),this.$(".ui-js-phone-menu-special-link").css({cursor:"pointer"}),this.phoneExtrasInitialized=!0;},removePhoneExtras:function removePhoneExtras(){var t=this.searchField.data("longPlaceholder")||this.searchField.attr("placeholder");this.searchField.attr("placeholder",t),this.$(".ui-js-phone-menu-special-link").css({cursor:"default"}),this.phoneExtrasInitialized=!1;},checkPhoneExtrasInit:function checkPhoneExtrasInit(){var t="xs"===ui.Bootstrap.activeView||"sm"===ui.Bootstrap.activeView;t&&!this.phoneExtrasInitialized?this.initializePhoneExtras():t||this.removePhoneExtras();},onBreakPointChange:function onBreakPointChange(){this.calculateMainMenuHeights(),this.checkPhoneExtrasInit();},responsiveSetup:function responsiveSetup(){var e=this,o=this.responsiveElements={},t=ui.Bootstrap.activeView,s="menu-item-pass-invisible";function shuffleNormalGroup(t){t&&o.$elmsFromNormalGroup.each(function(t,e){var i=$(e).clone(!0,!0),n=(i.addClass(s),i.find(".menu-group > .headline").text());i.attr("data-menu-uuid",$(e).attr("data-mobilemenu-uuid")),i.attr("data-title",n),i.removeClass("hidden-xs hidden-ms"),o.$mobileHelperSlide.append(i);});}function applyIconToggleHover(t){function toggleIconOnMouseEvent(t){var e,i=$(t.target),n=!0,s=i.data("image-hover")&&!i.hasClass("js-no-hover");/xs|ms/.test(ui.Bootstrap.activeView)||(n=!i.hasClass("js-no-hover-above-ms")),/xs|ms/.test(ui.Bootstrap.activeView)&&(n=!1),s&&n?(e=i.data("image-before-hover"),s=i.data("image-hover"),n=-1<["mouseout","touchend","pointerup"].indexOf(t.type),e||(e=i.css("background-image").replace(/^url\((.*)\)$/,"$1"),i.data("image-before-hover",e)),i.css({"background-image":"url("+(n?e:s)+")"})):o.$dataImageHoverItems.each(function(){(e=$(this).data("image-before-hover"))&&$(this).css({"background-image":"url("+e+")"});});}o.$dataImageHoverItems=e.$el.find('[data-menu-level="0"] [data-image-hover]').filter(function(){return!$(this).hasClass("js-no-hover");}),/xs|ms/.test(ui.Bootstrap.activeView)||(o.$dataImageHoverItems=o.$dataImageHoverItems.filter(function(){return!$(this).hasClass("js-no-hover-above-ms");})),t?(e.$el.on("mouseover touchstart pointerdown",toggleIconOnMouseEvent),e.$el.on("mouseout touchend pointerup",toggleIconOnMouseEvent)):(e.$el.off("mouseover touchstart pointerdown",toggleIconOnMouseEvent),e.$el.off("mouseout touchend pointerup",toggleIconOnMouseEvent));}function triggerResponsiveActors(t){t=/ms|xs/.test(t);t&&!o.isPhoneLayout?(shuffleNormalGroup(!0),applyIconToggleHover(!0),o.isPhoneLayout=!0):!t&&o.isPhoneLayout&&(e.lastActiveMenuItem&&"1"===e.lastActiveMenuItem.closest(".item").attr("data-menu-level")&&(e.lastActiveMenuItem=$()),shuffleNormalGroup(!1),applyIconToggleHover(!1),o.isPhoneLayout=!1,e.slider.carousel(0),e.searchBlock.addClass("is-toplevel"),e.breadCrumb=[e.breadCrumb[0]]),e.calculateMainMenuHeights();}o.$mobileHelperSlide=this.slides.eq(1).find(".js-helper-inside"),o.$elmsFromNormalGroup=this.slides.find(".js-normal-group"),o.$normalGroupFirstElement=o.$elmsFromNormalGroup.eq(0),o.$normalGroups=o.$elmsFromNormalGroup.parent(),o.$tmpIcons=$(),triggerResponsiveActors(t),ui.on("bootstrap.activemediaquery.changed",triggerResponsiveActors),applyIconToggleHover(!1),applyIconToggleHover(!0);},configure:function configure(){var t;this.searchBlock=this.$(".js-search-block"),this.searchField=this.$(".ui-js-search-field .js-input-search"),this.phoneBackButton=this.$(".js-phone-search-back"),this.slider=this.$(".js-main-menu-slides"),this.slides=this.slider.find(".item"),this.headerPanel=$(".ui-js-header-panel"),this.safetyTeaser=$(".ui-js-safety-teaser"),this.pageBreadcrumb=this.headerPanel.find(".ui-js-breadcrumb"),this.headerBar=this.headerPanel.find(".ui-js-headerbar"),this.headerNavigation=this.headerPanel.find(".ui-js-header-navigation"),0===(t=this.slider.find(".item.active")).length&&(t=this.slider.find(".item").first().addClass("active")),this.activeSlide=t,this.breadCrumb=[{title:this.slides.eq(0).data("title"),uuid:this.slides.eq(0).find("[data-menu-uuid]").data("menu-uuid"),level:0}],this.slider.eq(0).prepend('<div class="container menu-breadcrumb"><div class="col-xs-12 menu-breadcrumb-container js-menu-breadcrumb-container"></div></div>'),this.$breadCrumb=this.slider.eq(0).children().first(),this.calculateMainMenuHeights(),this.slider.carousel({interval:!1}),this.searchBlock.addClass("is-toplevel"),this.checkPhoneExtrasInit(),ui.on(ui.GlobalEvents.MAIN_MENU_OPEN,this.open.bind(this)),ui.on(ui.GlobalEvents.MAIN_MENU_CLOSE,this.close.bind(this)),ui.on(ui.GlobalEvents.MAIN_MENU_GOTO,this.showMenuItem.bind(this)),this.slider.on("slide.bs.carousel",this.onMenuChangeStart.bind(this)),this.slider.on("slid.bs.carousel",this.onMenuChangeEnd.bind(this)),ui.on("bootstrap.activemediaquery.changed",this.onBreakPointChange.bind(this));},renderBreadcrumb:function renderBreadcrumb(t){for(var e,i,n,s,o,a,r=t.closest(".item").data("menu-level"),l=[],h=0,c=this.breadCrumb.length;h<c;h++){e=this.breadCrumb[h],i=h===c-1,n=-1<c-2&&h===c-2,s=0===h,o=1===h&&/(lg|md)/.test(ui.Bootstrap.activeView),a=2===h&&/(lg|md)/.test(ui.Bootstrap.activeView)||1===h&&!/(lg|md)/.test(ui.Bootstrap.activeView),i||(n||s||o?l.push('<a href="#menu/'+e.uuid+'" class="breadcrumb-link">'+e.title+"</a>"):a&&l.push('<span class="breadcrumb-dots">...</span>'));}r?this.$breadCrumb.find(".js-menu-breadcrumb-container").html(l.join("")):this.$breadCrumb.find(".js-menu-breadcrumb-container").html(""),t.closest(".item").prepend(this.$breadCrumb);},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"MainMenuComponent",View:ui.MainMenuComponentView,selector:".ui-js-main-menu",reinitialize:!1}),$(ui.bootstrapMainMenuComponent());}(),!function(){"use strict";ui.MasonryLayoutComponentView=ui.ComponentView.extend({name:"ui.MasonryLayoutComponentView",loadMoreClassSel:"ui-js-masonry-layout__load-more",resultMEssageClassSel:"ui-js-masonry-layout__results-message",$loadMoreBtn:null,pageIndex:null,pageIndexDataAttr:"page-index",defaults:{ajaxUrl:"",customSubmitMethod:!1,customEvent:!1,gridSelector:"ui-js-masonry-grid",itemSelector:"ui-js-masonry-item",pageParam:"p",loadItemsOnly:"true",loadItemsOnLoad:!0,spinner:!1,offset:!1,lastItemClass:"ui-js-last-masonry-item"},events:{"click .ui-js-masonry-layout__load-more":"loadMore"},masonry:null,initialize:function initialize(t){this.$loadMoreBtn=$("."+this.loadMoreClassSel,this.$el),this.$masonryGrid=$("."+this.setup.gridSelector,this.$el),this.$spinner=this.$el.find(".ui-js-masonry-spinner"),this.initMasonry(),this.setup.loadItemsOnLoad&&this.ajaxGetMasonryItems();},initMasonry:function initMasonry(){this.$masonryGrid.masonry({itemSelector:"."+this.setup.itemSelector,percentPosition:!0,transitionDuration:0});},loadMore:function loadMore(t){t.preventDefault(),this.$spinner.addClass("fade-in"),this.ajaxGetMasonryItems();},ajaxGetMasonryItems:function ajaxGetMasonryItems(){var i=this,t=this.setup.ajaxUrl,e=ui.requests.stringifyParameters(this.getAjaxParams(),this.setup.customSubmitMethod||!1),n="";t&&t.length?(n=this.setup.customSubmitMethod?ui.requests.stringifyCustomUrl(t,e):t+"?"+e+window.location.hash,$.ajax({type:"GET",dataType:"html",url:n}).done(function(t){var e;""===$.trim(t)?i.$loadMoreBtn.addClass("is-hidden"):(e=$("<div>emtpy</div>").html(t).find("."+i.setup.itemSelector),i.setup.spinner&&e.addClass("is-hidden"),i.appendToGrid(e),i.reloadLayout(),i.incrementPageIndex(),ui.trigger(ui.GlobalEvents.FRAGMENT_PLACED,i.$el),i.$masonryGrid.imagesLoaded().always(function(){i.setup.spinner&&(i.$spinner.removeClass("fade-in"),e.removeClass("is-hidden"),e.addClass("fade-in")),i.$masonryGrid.masonry("layout");}),$(t).filter("."+i.setup.lastItemClass).length?i.$loadMoreBtn.addClass("is-hidden"):i.$loadMoreBtn.removeClass("is-hidden"));}).fail(function(t){console.log("request error",t.responseText);})):console.warn("MasonryLayoutComponentView: No ajaxUrl specified");},getPageIndex:function getPageIndex(){return this.pageIndex=this.$loadMoreBtn.data(this.pageIndexDataAttr),this.pageIndex;},incrementPageIndex:function incrementPageIndex(){this.$loadMoreBtn.data(this.pageIndexDataAttr,this.pageIndex+1);},getAjaxParams:function getAjaxParams(){var t=ui.requests.getURLParamModel(),e={loadItemsOnly:this.setup.loadItemsOnly};return this.setup.offset&&(e.offset=this.setup.offset),e[this.setup.pageParam]=this.getPageIndex(),$.extend({},t.attributes,e);},appendToGrid:function appendToGrid(t){this.$masonryGrid.append(t);},reloadLayout:function reloadLayout(){this.$masonryGrid.masonry("reloadItems").masonry();},closeView:function closeView(){this.$masonryGrid.masonry("destroy");}}),ui.ComponentFactory.createPlugin({pluginMethodName:"MasonryLayoutComponent",View:ui.MasonryLayoutComponentView,selector:".ui-js-masonry-layout",reinitialize:!0}),$(ui.bootstrapMasonryLayoutComponent());}.call(this),!function(){"use strict";ui.ModalAjaxComponentView=ui.ComponentView.extend({name:"ui.ModalAjaxComponentView",events:{},initialize:function initialize(t){this.content=this.$el.find(".modal-content"),this.$ctas=$('.ui-js-modal-ajax-link[data-toggle="#'+this.el.id+'"]'),this.scrollBackPos=!1,this.bindEvents();},bindEvents:function bindEvents(){0<this.$ctas.length&&(this.$ctas.on("click",this.onOpenModalBtnClick.bind(this)),this.$ctas.hasClass("o-swap-intro__btn")&&this.$ctas.addClass("is-active"));},onOpenModalBtnClick:function onOpenModalBtnClick(t){t.preventDefault(),t.currentTarget.dataset.jumpBack&&(this.scrollBackPos=$("html").scrollTop(),this.$el.on("hidden.bs.modal",this.scrollBack.bind(this))),this.requestContent(t.currentTarget.href);},scrollBack:function scrollBack(t){$("html").scrollTop(this.scrollBackPos),this.$el.off("hidden.bs.modal");},requestContent:function requestContent(t){var e=this;$.ajax({type:"GET",dataType:"html",url:t}).done(function(t){e.content.html(t),$(e.el).modal("show");}).fail(function(t,e,i){console.error("ERROR AJAX",e,i);});},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"ModalAjaxComponent",View:ui.ModalAjaxComponentView,selector:".ui-js-modal-ajax",reinitialize:!1}),$(ui.bootstrapModalAjaxComponent());}.call(this),!function(){"use strict";ui.ModalDialogFullscreen=ui.ComponentView.extend({name:"ui.ModalDialogFullscreen",events:{click:"hideModal","show.bs.modal":"zIndexActor"},initialize:function initialize(t){this.$modalFullscreen=this.$el.find(".modal-fullscreen"),this.$imageFullscreen=this.$el.find(".image-fullscreen");},hideModal:function hideModal(){(0<this.$modalFullscreen.length||0<this.$imageFullscreen.length)&&this.$el.modal("hide");},zIndexActor:function zIndexActor(){ui.trigger(ui.GlobalEvents.Z_INDEX_ACTOR_OPEN);},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"ModalDialogFullscreenComponent",View:ui.ModalDialogFullscreen,selector:".modal",reinitialize:!1}),$(ui.bootstrapModalDialogFullscreenComponent());}.call(this),!function(){"use strict";ui.ModalGallery=ui.ComponentView.extend({name:"ui.ModalGallery",modalGalleryIdIdentifier:"mgId",events:{"show.bs.modal":"slideGallery","shown.bs.modal":"setScrollPos","hide.bs.modal":"closeGallery","hidden.bs.modal":"setScrollPos"},initialize:function initialize(t){this.carousel=this.$el.find(".ui-js-carousel"),this.carouselInner=this.carousel.find(".carousel-inner"),this.items=this.carouselInner.find(".item"),this.id="#"+this.$el.attr("id"),this.isHistory=this.$el.parents(".ui-js-history").length,this.isGridGallery=this.$el.hasClass("is-grid-gallery"),this.isHistory||this.carousel.attr("data-seturl",this.id),this.checkIfHashSet(),this.callFirstItem=!1,this.scrollPosition=!1;},checkIfHashSet:function checkIfHashSet(){var t=new RegExp("(^"+this.id+"$)|((^"+this.id+")(?=:))"),t=location.hash.match(t),e=location.hash.match(/(?::mgId=)(\d+)/);null!==t&&t.length&&(this.$el.modal("show"),this.rotateToSlide(parseInt(e[1]-1)));},setScrollPos:function setScrollPos(t){this.isHistory&&this.scrollPosition&&$("html,body").scrollTop(this.scrollPosition),this.isGridGallery&&this.scrollPosition&&$("html,body").scrollTop()!==this.scrollPosition&&$("html,body").scrollTop(this.scrollPosition),"shown"===t.type&&ui.trigger(ui.GlobalEvents.MODAL_GALLERY_OPEN,{cid:this.cid}),this.callFirstItem&&ui.trigger(ui.GlobalEvents.MODAL_GALLERY_CAROUSEL_FIRST);},slideGallery:function slideGallery(t){this.isHistory&&(this.scrollPosition=window.pageYOffset||document.documentElement.scrollTop,$("body").addClass("is-history-modal")),this.isGridGallery&&(this.scrollPosition=window.pageYOffset||document.documentElement.scrollTop,$("body").addClass("ui-grid-gallery-modal"));t=$(t.relatedTarget).data("modal-slide-to");0===t&&(this.callFirstItem=!0),this.rotateToSlide(t);},rotateToSlide:function rotateToSlide(t){var e;this.carousel.length&&this.carousel.get(0).View&&(e=$(this.items[t]),this.items.removeClass("active"),e.addClass("active"),this.carousel.get(0).View.index=t,this.carousel.get(0).View.reinitVars(),this.checkIfAjaxItem(e)&&(e.hasClass("is-loaded")||this.requestItem(e,e.attr("data-ajax-url")),this.checkIfAjaxItem(e.prev())&&!e.prev().hasClass("is-loaded")&&this.requestItem(e.prev(),e.prev().attr("data-ajax-url")),this.checkIfAjaxItem(e.next())&&!e.next().hasClass("is-loaded")&&this.requestItem(e.next(),e.next().attr("data-ajax-url"))));},checkIfAjaxItem:function checkIfAjaxItem(t){return void 0!==t.attr("data-ajax-url")&&""!==t.attr("data-ajax-url");},requestItem:function requestItem(e,t){$.ajax({type:"GET",dataType:"html",url:t}).done(function(t){e.html(t),e.addClass("is-loaded"),ui.trigger(ui.GlobalEvents.FRAGMENT_PLACED,e),ui.trigger(ui.GlobalEvents.CAROUSEL_AJAX_ITEM,e),ui.reinitbootstrapVendorWidgets(e),ui.bootstrapper.reinitialize({context:e.get(0)});}).fail(function(t){console.log(t);});},closeGallery:function closeGallery(){var t;this.items.find("iframe").each(function(t,e){$(e)[0].contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*");}),this.isHistory?$("body").removeClass("is-history-modal ui-grid-gallery-modal"):(t=window.location.href.replace(/#.*$/,""),window.history.replaceState("",document.title,t));},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"ModalGallery",View:ui.ModalGallery,selector:".ui-js-modal-gallery",reinitialize:!0}),$(ui.bootstrapModalGallery());}.call(this),!function(){"use strict";ui.ModalRemoteComponentView=ui.ComponentView.extend({name:"ui.ModalRemoteComponentView",$IFrame:null,$frameBody:null,isActiveClass:"is-active",isMovingOutClass:"is-moving-out",isMovingInClass:"is-moving-in",initialize:function initialize(t){this.$IFrame=this.$("iframe"),this.$modalLinks=$(".ui-js-toggle-modal"),this.lastSrc=this.$IFrame.attr("src"),this.isOpen=!1,/iP(hone|od|ad)/.test(navigator.userAgent)||this.$el.css("overflow-y","hidden"),this.bindEvents(),this.checkIfHashSet();},bindEvents:function bindEvents(){var t=this.loadIFrameAndShowIt.bind(this);this.$modalLinks.on("click",t);},checkIfHashSet:function checkIfHashSet(){var t;this.$modalLinks&&0<this.$modalLinks.length&&window.location.hash&&"?"!==window.location.hash.charAt(1)&&(t=this.$modalLinks.filter(function(t,e){return window.location.hash==="#"+e.id;})).length&&t.click();},loadIFrameAndShowIt:function loadIFrameAndShowIt(t){t.preventDefault();var e=$(t.currentTarget),i=this;e.data("target")&&i.$el.attr("id")&&e.data("target")!=="#"+i.$el.attr("id")||i.$IFrame&&e&&(t=e.data("modal-src"),i.lastSrc=t,i.$IFrame.attr("src",t),i.$IFrame.on("load",function(){i.$el.modal("show"),i.initEventsOnIframe(e);}));},initEventsOnIframe:function initEventsOnIframe(t){var e=this,i=(this.isOpen=!0,this.$frameBody=this.$IFrame.contents().find("body"),this.$frameBody.find(".ui-c282-generic-overlay")),n=new CustomEvent("modalIframeLoaded");this.toggleUrlHash(t),this.$frameBody.find(".ui-js-close-modal").one("click",function(){e.hideModal();}),e.$el.one("shown.bs.modal",function(){e.$frameBody.get(0).dispatchEvent(n);}),this.$frameBody.on("click",function(t){t=$(t.target);0===i.find(t).length&&(e.hideModal(),e.$frameBody.off("click"));}),setTimeout(function(){e.$el.css("padding","0"),e.$frameBody.css("padding","0"),$("body").css("padding","0"),e.$frameBody.addClass(e.isMovingInClass),e.$frameBody.find(".link[href], .btn[href]").attr("target","_top");},150),/iP(hone|od|ad)/.test(navigator.userAgent)&&setTimeout(function(){e.$IFrame.height(e.$IFrame.contents().height());},2e3);},toggleUrlHash:function toggleUrlHash(t){t=t&&t.attr("id")?"#"+t.attr("id"):location.href.replace(location.hash,"");history.pushState?history.pushState(null,null,t):location.href=t;},hideModal:function hideModal(){this.$frameBody.addClass(this.isMovingInClass),this.$el.modal("hide"),this.isOpen=!1,this.toggleUrlHash(!1);}}),ui.ComponentFactory.createPlugin({pluginMethodName:"ModalRemoteComponent",View:ui.ModalRemoteComponentView,selector:".ui-js-modal-iframe",reinitialize:!1}),$(ui.bootstrapModalRemoteComponent()),ui.ModalIframeComponentView=ui.ComponentView.extend({name:"ui.ModalIframeComponentView",events:{touchstart:"onTouchStart",touchmove:"onTouchMove"},initialize:function initialize(t){/iP(hone|od|ad)/.test(navigator.userAgent)&&(this.touchStartY=0,this.touchMoveY=0,this.lastScrollY=0,this.$body=this.$el);},onTouchStart:function onTouchStart(t){/iP(hone|od|ad)/.test(navigator.userAgent)&&(this.touchStartY=t.originalEvent.touches[0].pageY);},onTouchMove:function onTouchMove(t){/iP(hone|od|ad)/.test(navigator.userAgent)&&(this.touchMoveY=t.originalEvent.touches[0].pageY,25<Math.abs(this.touchStartY-this.touchMoveY)&&(this.lastScrollY+=this.touchStartY-this.touchMoveY,t=this.$el.outerHeight(!0)-window.screen.availHeight,this.lastScrollY<0&&(this.lastScrollY=0),this.lastScrollY>t&&(this.lastScrollY=t),window.ui.trigger(ui.GlobalEvents.IOS_MOBILE_TOUCH_TO_SCROLL,this.lastScrollY)));}}),ui.ComponentFactory.createPlugin({pluginMethodName:"ModalIframeComponent",View:ui.ModalIframeComponentView,selector:".ui-body-iframe",reinitialize:!1}),$(ui.bootstrapModalIframeComponent());}.call(this),!function(){"use strict";ui.NativeSliderComponentView=ui.ComponentView.extend({name:"ui.NativeSliderComponentView",sliderClass:".ui-js-native-slider-list",sliderItemClass:".ui-js-native-slider-item",paginationClass:".ui-js-native-slider-pagination",paginationItemClass:".ui-js-native-slider-pagination-item",intersectionObserver:null,activeClass:"is-active",events:{"click .ui-js-native-slider-pagination-item":"onPaginationItemClick"},initialize:function initialize(t){this.$slider=this.$el.find(this.sliderClass),this.$sliderItems=this.$el.find(this.sliderItemClass),this.$pagination=this.$el.find(this.paginationClass),this.$paginationItems=this.$el.find(this.paginationItemClass),0<this.$sliderItems.length&&($(this.$paginationItems[0]).addClass(this.activeClass),this.initIntersectionObserver(this.$sliderItems)),this.scrollBehavior="scrollBehavior"in document.documentElement.style;},onPaginationItemClick:function onPaginationItemClick(t){var t=$(t.currentTarget),e=this.$el.find("[data-target-id="+t.attr("data-target")+"]");0<e.length&&(this.$paginationItems.removeClass(this.activeClass),t.addClass(this.activeClass),seamless.elementScrollIntoView(e[0],{behavior:"smooth",block:"center",inline:"center"}));},handelIntersections:function handelIntersections(t){var e=this;t.forEach(function(t){.95<=t.intersectionRatio&&(t=e.$el.find("[data-target="+$(t.target).attr("data-target-id")+"]"),e.$paginationItems.removeClass(e.activeClass),t.addClass(e.activeClass));});},initIntersectionObserver:function initIntersectionObserver(t){var i=this,e={root:this.el,rootMargin:"0px",threshold:[.95]};this.intersectionObserver=new IntersectionObserver(this.handelIntersections.bind(this),e),t.each(function(t,e){i.intersectionObserver.observe(e);});},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"NativeSliderComponent",View:ui.NativeSliderComponentView,selector:".ui-js-native-slider"}),$(ui.bootstrapNativeSliderComponent());}.call(this),!function(){"use strict";ui.NavigationInterrupterComponentView=ui.ComponentView.extend({name:"ui.NavigationInterrupterComponentView",desktop:/md|lg/,mobil:/xs|ms|sm/,tabletPortrait:/sm/,isDesktop:!1,isMobil:!1,isActiveClass:"is-active",showNavigationInterrupter:!0,events:{"click .close-button":"closeNavigationInterrupter"},initialize:function initialize(t){if(this.$arrow=this.$el.find(".arrow"),this.$targetElement=$("[data-navigation-interrupter-id="+t.navigationInterrupterId+"]"),0===this.$targetElement.length)return!1;this.updateId=t.updateId||null,this.bindEvents();},bindEvents:function bindEvents(){ui.on(ui.GlobalEvents.LOGIN_AUTHENTICATED,this.isLoggedIn.bind(this)),ui.on(ui.GlobalEvents.LOGIN_ANONYMOUS,this.isLoggedOut.bind(this));},bindOtherEvents:function bindOtherEvents(){this.handleVisibility(),$(window).on("resize",this.handleVisibility.bind(this)),ui.on("bootstrap.activemediaquery.changed",this.handleVisibility.bind(this)),$(document).on("click.interrupter",this.closeNavigationInterrupter.bind(this));},isLoggedIn:function isLoggedIn(){this.loggedIn=!0,this.bindOtherEvents();},isLoggedOut:function isLoggedOut(){this.loggedIn=!1,this.bindOtherEvents();},handleVisibility:function handleVisibility(){"true"===$.docCookies("navigation-interrupter-login")!==this.loggedIn&&($.docCookies("navigation-interrupter-login",""),$.docCookies("navigation-interrupter",""),$.docCookies("navigation-interrupter-domain",""),$.docCookies("navigation-interrupter-update","")),this.checkViewport(),this.toggleShowHide();},checkViewport:function checkViewport(){this.isDesktop=this.desktop.test(ui.Bootstrap.activeView),this.isMobil=this.mobil.test(ui.Bootstrap.activeView),this.isTabletPortrait=this.tabletPortrait.test(ui.Bootstrap.activeView);},closeNavigationInterrupter:function closeNavigationInterrupter(t){$(t.target).closest(".ui-js-safety-teaser").length||(this.close(),this.toggleClass(!1),$(document).off("click.interrupter"));},close:function close(){var t={path:"/",secure:!0,sameSite:"Lax"};$.docCookies("navigation-interrupter-login",this.loggedIn?"true":"false",t),$.docCookies("navigation-interrupter","false",t),$.docCookies("navigation-interrupter-domain","false",_extends({},t,{domain:".migros.ch"})),$.docCookies("navigation-interrupter-update",""+this.updateId,t);},toggleClass:function toggleClass(t){var e=this;$.docCookies("navigation-interrupter-update")===this.updateId&&("false"===$.docCookies("navigation-interrupter")||"false"===$.docCookies("navigation-interrupter-domain"))||""===$.docCookies("navigation-interrupter-login")?this.$el.removeClass(this.isActiveClass):(setTimeout(function(){e.$el.addClass(e.isActiveClass);},1e3),setTimeout(function(){e.$el.hasClass(e.isActiveClass)&&("desktop"===e.el.dataset.viewport&&e.isMobil||"mobil"===e.el.dataset.viewport&&e.isDesktop)&&e.$el.removeClass(e.isActiveClass);},1001));},setPositionMobil:function setPositionMobil(){var t,e=this.$targetElement.offset().left,i=this.$targetElement.width(),n=e+i/2,s=this.getLandscapeLeft(e,i);360<window.screen.width?(20<(t=(t=e<(t=window.screen.width-360)?e:t)<20?0:t)&&(t-=20),e=this.isShorterThanTargetEl(e,i)&&this.isLandscape()?s:t,this.isTabletPortrait&&(t=!((n=Math.round(n))+(s=(i=this.$el.width())/2)>window.screen.width),n<i&&!(s<n)?e=0:t&&(e=n-s)),this.$el.css("left",e+"px")):this.$el.css("left",0),this.$arrow.css("left",n+"px");},getLandscapeLeft:function getLandscapeLeft(t,e){return t+e-(this.$el.width()+e)+e;},isShorterThanTargetEl:function isShorterThanTargetEl(t,e){return t+e>this.$el.width()+e;},isLandscape:function isLandscape(){return window.innerWidth>window.innerHeight;},toggleShowHide:function toggleShowHide(){"mobil"===this.el.dataset.viewport&&(this.setPositionMobil(),this.toggleClass(this.isMobil)),"desktop"===this.el.dataset.viewport&&(this.$el.detach(),this.$el.appendTo(this.$targetElement.closest("li")),this.toggleClass(this.isDesktop));}}),ui.ComponentFactory.createPlugin({pluginMethodName:"NavigationInterrupterComponent",View:ui.NavigationInterrupterComponentView,selector:".ui-js-navigation-interrupter"}),$(ui.bootstrapNavigationInterrupterComponent());}.call(this),!function(){"use strict";ui.NavigationComponentView=ui.ComponentView.extend({initialize:function initialize(){this.direction=null,this.isOpen=!1,this.$pageContainer=this.$el.find(".js-navigation-page-container"),this.$currentPage=this.$el.find(".js-is-current-page"),this.fetchedCache={},this.buildCache(),this.bindEventListeners(),this.setNewMaxHeight(this.$currentPage),this.isAnimating=!1,this.$el.find(".meta-nav-list-item:not(.is-mobile-only)").last().addClass("remove-space-right");},bindEventListeners:function bindEventListeners(){var _this13=this;this.$el.on("transitionend",".js-is-current-page",function(t){return _this13.activateCurrentNode(t);}),this.$el.on("click",".js-has-children",function(t){return _this13.drillDown(t);}),this.$el.on("click",".js-drill-up",function(t){return _this13.drillUp(t);}),this.$el.on("click",".js-close-navigation, .navigation-background",function(){ui.trigger(ui.GlobalEvents.MAIN_MENU_CLOSE),_this13.toggleNavigation();}),$(window).on("resize",_.debounce(function(){return _this13.setNewMaxHeight(_this13.$currentPage);},200,{leading:!0})),ui.on(ui.GlobalEvents.MAIN_MENU_TOGGLE_MEGA_MENU,function(t){return _this13.toggleNavigation(t);}),ui.on(ui.GlobalEvents.MAIN_MENU_FORCE_CLOSE,function(){return _this13.forceCloseNavigation();}),ui.on("bootstrap.activemediaquery.changed",function(){return _this13.setBodyOverflow();});},setNewMaxHeight:function setNewMaxHeight(t){t.length<1||(t=t.innerHeight(),this.$pageContainer.css("min-height",t));},drillDown:function drillDown(t){var _this14=this;if(t.preventDefault(),!this.isAnimating){this.isAnimating=!0;var e=$(t.currentTarget);t=this.parseSetup(e.data("setup"));this.$el.addClass("no-initial-delay"),this.fetchNode(t.ajaxUrl,t.uuid).then(function(t){var e=$(t).addClass("is-next");_this14.direction="down",window.requestAnimationFrame(function(){_this14.$pageContainer.append(e),_this14.setNewMaxHeight(e),_this14.$currentPage.addClass("animate-out-to-left"),window.requestAnimationFrame(function(){_this14.$currentPage.next().removeClass("is-next");});});});}},drillUp:function drillUp(t){var _this15=this;if(t.preventDefault(),!this.isAnimating){this.isAnimating=!0;var e=$(t.currentTarget);t=this.parseSetup(e.data("setup"));this.$el.addClass("no-initial-delay"),this.fetchNode(t.ajaxUrl,t.uuid).then(function(t){var e=$(t).addClass("is-prev");_this15.direction="up",window.requestAnimationFrame(function(){_this15.$pageContainer.prepend(e),_this15.setNewMaxHeight(e),_this15.$currentPage.addClass("animate-out-to-right"),window.requestAnimationFrame(function(){_this15.$currentPage.prev().removeClass("is-prev");});});});}},activateCurrentNode:function activateCurrentNode(t){this.direction&&$(t.target).hasClass("js-is-current-page")&&(this.$currentPage.removeClass("is-current-page js-is-current-page"),"up"===this.direction?(this.$currentPage=this.$currentPage.prev(),this.$currentPage.next().remove()):(this.$currentPage=this.$currentPage.next(),this.$currentPage.prev().remove()),this.$currentPage.addClass("is-current-page js-is-current-page").find(".page-title-link").focus(),this.direction=null,this.buildCache(),this.isAnimating=!1);},fetchNode:function fetchNode(t,n){var _this16=this;return new Promise(function(e,i){Object.prototype.hasOwnProperty.call(_this16.fetchedCache,n)?e(_this16.fetchedCache[n]):_this16.fetchedCache[n]=$.ajax({url:t,type:"GET",success:function success(t){e(t);},error:function error(t){i(t);}});});},parseSetup:function parseSetup(e){if(e&&"string"==typeof e)try{e=JSON.parse(e.replace(/\\'/g,"'").replace(/'/g,'"'));}catch(t){console.log("Error parsing JSON -> data",e),console.log("Error Msg",t);}return e;},buildCache:function buildCache(){var _this17=this;var t=this.$currentPage.find(".js-has-children, .js-drill-up");t.each(function(t,e){e=_this17.parseSetup($(e).data("setup"));_this17.fetchNode(e.ajaxUrl,e.uuid);});},toggleNavigation:function toggleNavigation(){var _this18=this;ui.trigger(ui.GlobalEvents.SAFETY_TEASER_CLOSE),document.body.scrollIntoView(!0),this.isOpen=!this.isOpen,this.setBodyOverflow(),this.$el.toggleClass("is-visible"),this.$el.removeClass("no-initial-delay"),window.requestAnimationFrame(function(){_this18.setNewMaxHeight(_this18.$currentPage),window.requestAnimationFrame(function(){_this18.$el.find(".js-navigation-container").toggleClass("in-view"),_this18.isOpen&&_this18.$el.find(".js-close-navigation").focus();});});},setBodyOverflow:function setBodyOverflow(){/(xs|ms)/.test(ui.Bootstrap.activeView)&&this.isOpen?($("body").addClass("body-is-fixed"),bodyScrollLock.disableBodyScroll(this.el)):($("body").removeClass("body-is-fixed"),bodyScrollLock.enableBodyScroll(this.el));},forceCloseNavigation:function forceCloseNavigation(){this.isOpen=!1,$("body").removeClass("body-is-fixed"),this.$el.removeClass("is-visible"),this.$el.find(".js-navigation-container").removeClass("in-view"),this.$el.removeClass("no-initial-delay"),this.setBodyOverflow();}}),ui.ComponentFactory.createPlugin({pluginMethodName:"NavigationComponent",View:ui.NavigationComponentView,selector:".ui-js-g120-navigation"}),$(ui.bootstrapNavigationComponent());}.call(this),!function(){"use strict";ui.NavigationalHeaderComponentView=ui.ComponentView.extend({name:"ui.NavigationalHeaderComponentView",events:{"click .js-open-search":"toggleSearch","click .js-close-search":"toggleSearch","click .js-burger":"toggleMegaMenu","focus .js-search-widget input":"forceCloseMegaMenu"},initialize:function initialize(){var _this19=this;this.$burger=this.$el.find(".js-burger"),this.$el.find(".ui-js-profile").on("click",function(){return _this19.forceCloseMegaMenu();}),ui.on(ui.GlobalEvents.MAIN_MENU_CLOSE,function(){return _this19.changeBurger();});},toggleMegaMenu:function toggleMegaMenu(){this.changeBurger(),ui.trigger(ui.GlobalEvents.MAIN_MENU_TOGGLE_MEGA_MENU);},changeBurger:function changeBurger(){this.$burger.toggleClass("is-open"),this.$el.toggleClass("mega-menu-open");var t=this.$burger.hasClass("is-open");this.$burger.attr("aria-expanded",t),t||this.$burger.focus();},forceCloseMegaMenu:function forceCloseMegaMenu(){this.$burger.removeClass("is-open"),this.$burger.attr("aria-expanded",!1),this.$el.removeClass("mega-menu-open"),ui.trigger(ui.GlobalEvents.MAIN_MENU_FORCE_CLOSE);},toggleSearch:function toggleSearch(){var t=this.$el.find(".js-open-search, .js-close-search");this.$el.toggleClass("search-active"),this.$el.hasClass("search-active")?(this.$el.find(".js-search-widget input").focus(),t.attr("aria-expanded",!0)):t.attr("aria-expanded",!1);}}),ui.ComponentFactory.createPlugin({pluginMethodName:"NavigationalHeaderComponent",View:ui.NavigationalHeaderComponentView,selector:".ui-js-103-12-navigational-header",reinitialize:!0}),$(ui.bootstrapNavigationalHeaderComponent());}.call(this),!function(){"use strict";ui.OpeningHoursComponentView=ui.ComponentView.extend({name:"ui.OpeningHoursComponentView",date:null,today:null,notes:null,initialize:function initialize(t){this.date=new Date(),0<this.date.getDay()?this.today=this.date.getDay()-1:this.today=6,this.notes=this.$el.find(".ui-js-note"),this.setTodayMarker();},setTodayMarker:function setTodayMarker(){this.notes.length&&this.notes[this.today]&&$(this.notes[this.today]).removeClass("hidden");},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"OpeningHoursComponent",View:ui.OpeningHoursComponentView,selector:".ui-js-opening-hours"}),$(ui.bootstrapOpeningHoursComponent(".ui-js-opening-hours"));}.call(this),!function(){"use strict";ui.NewsPaginationComponentView=ui.ComponentView.extend({name:"ui.NewsPaginationComponentView",initialize:function initialize(t){var e=this.render.bind(this);this.$firstArticleParagraph=$(".ui-c213-08-copyimage p"),this.$links=this.$(".page"),ui.on("bootstrap.activemediaquery.changed",e);},render:function render(){var t=this.$firstArticleParagraph.offset()||{top:""},t=/(?:xs|ms)/.test(ui.Bootstrap.activeView)?"":t.top;return this.$links.css({top:t}),this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"NewsPaginationComponent",View:ui.NewsPaginationComponentView,selector:".ui-js-g111-pagination",reinitialize:!1}),$(ui.bootstrapNewsPaginationComponent());}.call(this),!function(){"use strict";ui.PaginationComponentView=ui.ComponentView.extend({name:"ui.PaginationComponentView",ajaxPageUrl:"",popState:!1,fadeInCallback:null,customSubmMeth:!1,scrollTop:!1,historySupport:!1,replaceViewOnRender:!1,queryObj:{},isSecondary:!1,$resultNode:null,$body:null,events:{"click .ui-js-page":"onItemClick","click .ui-js-filter-btn":"onItemClick","click .ui-item-filter .dropdown-toggle":"transferDropdownFocus","click a.ui-js-page":"transferPageFocus"},initialize:function initialize(t){this.ajaxPageUrl=t.ajaxUrl,this.popState=t.popState,this.customSubmMeth=t.customSubmitMethod,this.scrollTop=t.scrollTop,this.$resultNode=t.resultNodeId&&$("#"+t.resultNodeId),this.historySupport=!!window.history.pushState||!1,this.isSecondary=this.$el.is(".ui-js-secondary"),this.fadeInCallback=this.fadeInCB.bind(this),this.$body=$("html,body"),this.model=ui.requests.getURLParamModel(),this.popState&&this.historySupport&&this.installPopState(),this.model.on("change destroy",function(t){this.render();},this);},installPopState:function installPopState(){var n=this;$(window).on("popstate",function(t){var e,i=window.history.state;i&&i.params?n.queryObj=i.params:window.location&&(window.location.search||ui.requests.locationHasCustomParams(window.location))?n.queryObj=ui.requests.parseLocationParameters(window.location):n.queryObj={},JSON.stringify(n.model.attributes)===JSON.stringify(n.queryObj)||n.model.attributes.p&&n.queryObj.p&&n.model.attributes.p.toString()===n.queryObj.p.toString()||(e=function e(){i&&i.scrollTop&&!t.target.location.hash&&(document.body.scrollTop=i.scrollTop),n.fadeInCB.apply(n);},n.$resultNode.addClass("loading"),n.$resultNode.find(".fade-in").attr("aria-busy",!0),n.requestPage(!0,e));});},render:function render(){return this.queryObj={},this;},onItemClick:function onItemClick(t){t.preventDefault();t=$(t.currentTarget);t.data("name")&&void 0!==t.data("value")&&(this.queryObj[t.data("name")]=t.data("value"),this.$resultNode.addClass("loading"),this.$resultNode.find(".fade-in").attr("aria-busy",!0),this.requestPage(!1,this.fadeInCallback));},requestPage:function requestPage(t,e){var i=this;ui.requests.ajaxRequestPage({url:this.ajaxPageUrl,query:this.queryObj,$el:this.$resultNode,customSubmitMethod:this.customSubmMeth,isPopState:t,successCb:e,failCb:function failCb(){console.log("request failed",i.ajaxPageUrl);}});},fadeInCB:function fadeInCB(){var e=this;setTimeout(function(){var t;e.$resultNode.removeClass("loading"),e.$resultNode.find(".fade-in").attr("aria-busy",!1),e.scrollTop&&(t=$(".ui-js-pagination:first")).length&&(t=t.offset().top,e.$body.animate({scrollTop:t},200));},0);},transferPageFocus:function transferPageFocus(){ui&&(ui.activeElement=(this.isSecondary?".ui-js-secondary ":"")+".page.is-active");},transferDropdownFocus:function transferDropdownFocus(t){ui&&t.currentTarget.id&&(ui.activeElement=(this.isSecondary?".ui-js-secondary ":"")+"#"+t.currentTarget.id);},focusElement:function focusElement(){setTimeout(function(){var t;ui&&ui.activeElement&&"string"==typeof ui.activeElement&&(t=$(ui.activeElement)).length&&(t.is(":input, a")||t.attr("tabindex",0),t.first().focus(),delete ui.activeElement);},0);}}),ui.ComponentFactory.createPlugin({pluginMethodName:"PaginationComponent",View:ui.PaginationComponentView,selector:".ui-js-pagination",reinitialize:!0}),$(ui.bootstrapPaginationComponent());}.call(this),!function(){"use strict";ui.ParticipationComponentView=ui.ComponentView.extend({name:"ui.ParticipationComponentView",initialize:function initialize(t){this.url=t.url,this.bindEvents();},bindEvents:function bindEvents(){var e=this;ui.on(ui.GlobalEvents.LOGIN_AUTHENTICATED,function(t){t=t.data.get("guid")||t.sub;""!==t&&e.requestParticipation(t);});},requestParticipation:function requestParticipation(t){$.getJSON(this.url+t+".json",null,this.success.bind(this));},success:function success(t){t&&t.alreadyParticipated&&this.$el.addClass("is-checked");}}),ui.ComponentFactory.createPlugin({pluginMethodName:"ParticipationComponent",View:ui.ParticipationComponentView,selector:".ui-js-participation",reinitialize:!1}),$(ui.bootstrapParticipationComponent());}.call(this),!function(){"use strict";ui.NotificationsComponentView=ui.ComponentView.extend({name:"ui.NotificationsComponentView",$messageNode:null,messageString:"",initialize:function initialize(){window.uiNotifications=window.uiNotifications||{},this.$messageNode=this.$(".ui-js-unread-mgs"),this.isHeaderBar=this.$el.hasClass("is-js-headerbar");var t=/.+?(?=\?)/.exec(this.setup.apiUrl);t&&0<t.length?this.requestUrl=t[0]:this.requestUrl=this.setup.apiUrl,window.uiNotifications&&!0===window.uiNotifications[this.requestUrl]?(this.waiting=!0,ui.on(this.requestUrl,this.setUnreadCount.bind(this))):(this.waiting=!1,window.uiNotifications[this.requestUrl]=!0,ui.on(ui.GlobalEvents.LOGIN_AUTHENTICATED,this.requestNotification.bind(this)));},render:function render(){this.messageString&&(this.$messageNode.text(this.messageString.toString()),this.$messageNode.removeClass("is-hidden"),this.isHeaderBar&&(this.$el.addClass("is-indicator"),this.$messageNode.text(this.messageString.toString())));},requestNotification:function requestNotification(e){var i=this;$.ajax({url:this.setup.apiUrl,method:"GET",xhrFields:{withCredentials:!0},beforeSend:function beforeSend(t){t.setRequestHeader("Authorization","Bearer "+e.data.access_token);}}).done(function(t){i.setUnreadCount(t),ui.trigger(i.requestUrl,t);}).fail(function(t){console.log("err",t);});},setUnreadCount:function setUnreadCount(t){!t.unreadCount&&this.isHeaderBar&&this.$el.removeClass("is-indicator"),t&&"object"==(typeof t==="undefined"?"undefined":_typeof(t))&&t.unreadCount&&(this.messageString=t.unreadCount,this.render());}}),ui.ComponentFactory.createPlugin({pluginMethodName:"NotificationsComponent",View:ui.NotificationsComponentView,selector:".ui-js-notifications"}),$(ui.bootstrapNotificationsComponent());}.call(this),!function(){"use strict";ui.PersonalizedToggle=ui.ComponentView.extend({name:"ui.PersonalizedToggle",isLoggedin:!1,initialize:function initialize(){this.isLoggedin=!1,this.$anonymousEl=this.$(".js-anonymous"),this.$identifiedEl=this.$(".js-identified"),this.$placeholderFirstEl=this.$(".js-placeholder-1"),this.$placeholderSecondEl=this.$(".js-placeholder-2"),ui.on(ui.GlobalEvents.LOGIN_AUTHENTICATED,this.onIdentified.bind(this)),ui.on(ui.GlobalEvents.LOGIN_ANONYMOUS,this.onAnonymous.bind(this)),ui.on(ui.GlobalEvents.LOGIN_ERROR,this.onAnonymous.bind(this));},onIdentified:function onIdentified(t){t.data&&t.data.profile&&this.personalize(t.data.profile.given_name,t.data.profile.family_name);},personalize:function personalize(t,e){0<arguments.length&&(this.$anonymousEl.addClass("hidden"),this.$identifiedEl.removeClass("hidden"),0<this.$placeholderFirstEl.length&&t&&(this.$placeholderFirstEl.removeClass("hidden"),this.$placeholderFirstEl.text(t)),0<this.$placeholderSecondEl.length&&e&&(this.$placeholderSecondEl.removeClass("hidden"),this.$placeholderSecondEl.text(e)));},onAnonymous:function onAnonymous(t){this.$placeholderFirstEl.addClass("hidden"),this.$placeholderSecondEl.addClass("hidden"),this.$identifiedEl.addClass("hidden"),this.$anonymousEl.removeClass("hidden");},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"PersonalizedToggleComponent",View:ui.PersonalizedToggle,selector:".ui-js-personalized-toggle",reinitialize:!0}),$(ui.bootstrapPersonalizedToggleComponent());}.call(this),!function(){"use strict";ui.PopOver=ui.ComponentView.extend({name:"ui.PopOver",defaults:{popoverClasses:"",popoverContainerClasses:""},isActive:!1,events:{click:"toggle","show.bs.popover":"onShow","hide.bs.popover":"onHide","shown.bs.popover":"onShown","hidden.bs.popover":"onHidden","inserted.bs.popover":"onInserted"},popoverConfig:{html:!0},initialize:function initialize(t){var e;this.isActive=!1,this.$bodyRef=$("body"),this.ensurePopoverContainer(),this.$el.popover(this.popoverConfig),this.$popover=this.$el.data("bs.popover").tip(),this.createCloseBtn(),this.setup.autoClose&&(e=this,ui.on(ui.GlobalEvents.Z_INDEX_ACTOR_OPEN,function(){e.isActive&&e.hide.call(e);})),this.setup.destroyOnEvent&&(this.undelegateEvents(),this.events[this.setup.destroyOnEvent]=this.destroyPopover.bind(this),this.delegateEvents()),this.$el.on("popover:show",this.show.bind(this)),this.$el.on("popover:hide",this.hide.bind(this));},ensurePopoverContainer:function ensurePopoverContainer(){this.$popoverContainer=$(".ui-js-popover-container").last(),0===this.$popoverContainer.length&&this.$bodyRef.append('<div class="ui-scope"><div class="ui-popover-container ui-js-popover-container"></div></div>'),this.$popoverContainer=$(".ui-js-popover-container").last(),this.popoverConfig.container=this.$popoverContainer;},shouldHide:function shouldHide(t){var e=$(t.target).is(this.$popover);$(t.target).parents(".popover").first().is(this.$popover)||e||this.hide();},toggle:function toggle(t){var e=t&&$(t.target).hasClass("ui-js-popover")&&!$(t.target).is(this.$el),i=t&&!1===this.setup.useToggle;e||i?t.preventDefault():this.isActive?this.hide():this.show();},destroyPopover:function destroyPopover(){this.$el.popover("destroy");},createCloseBtn:function createCloseBtn(){this.$closeBtn=this.$popover.find(".close-btn"),this.$closeBtn.length||(this.$popover.prepend('<button class="btn close-btn ui-js-popover" data-toggle="popover"><span class="sr-only">Schliessen</span></button>'),this.$closeBtn=this.$popover.find(".close-btn")),this.$popover.on("click",".close-btn",this.onCloseClick.bind(this));},addAdditionalClasses:function addAdditionalClasses(){this.setup.popoverClasses&&this.$popover.addClass(this.setup.popoverClasses),this.setup.popoverContainerClasses&&this.$popoverContainer.addClass(this.setup.popoverContainerClasses);},removeAdditionalClasses:function removeAdditionalClasses(){this.setup.popoverClasses&&this.$popover.removeClass(this.setup.popoverClasses),this.setup.popoverContainerClasses&&this.$popoverContainer.removeClass(this.setup.popoverContainerClasses);},undelegateEvents:function undelegateEvents(){return this.$closeBtn&&this.$closeBtn.length&&this.$closeBtn.off("click",this.hide.bind(this)),this.setup.documentClose&&this.shouldHideMethod&&$(document).off("click",this.shouldHideMethod),ui.ComponentView.prototype.undelegateEvents.apply(this,arguments);},onShow:function onShow(t){this.addAdditionalClasses(),this.$el.addClass("is-showing-popover");t=$(".popover").not(t.target);1<t.length&&t.popover("hide");},onShown:function onShown(t){this.isActive=!0,this.setup.documentClose&&(this.shouldHideMethod=this.shouldHide.bind(this),$(document).on("click",this.shouldHideMethod)),$(document).trigger("popover:show",{type:"popover:show",currentTarget:t.target});},show:function show(){this.$el.popover("show"),this.isActive=!0;},onInserted:function onInserted(t){},onHide:function onHide(t){this.$el.removeClass("is-showing-popover"),this.setup.documentClose&&this.shouldHideMethod&&$(document).off("click",this.shouldHideMethod);},onHidden:function onHidden(){this.removeAdditionalClasses(),this.isActive=!1;},hide:function hide(){this.$el.popover("hide"),this.isActive=!1;},onCloseClick:function onCloseClick(t){this.hide();},addPopoverClass:function addPopoverClass(t,e){e=e?"popoverContainerClasses":"popoverClasses";this.setup[e]?this.setup[e]+=" "+t:this.setup[e]=t;},render:function render(){var t=this;return!0===this.setup.autoplay?window.setTimeout(function(){t.toggle();},1e3):this.$el.data("content")&&-1!==this.$el.data("content").indexOf("<img")&&this.$el.popover("toggle").popover("toggle"),this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"PopOverComponent",View:ui.PopOver,selector:".ui-js-popover"}),$(ui.bootstrapPopOverComponent());}.call(this),!function(){"use strict";ui.Quiz=ui.ComponentView.extend({name:"ui.Quiz",activeClass:"is-active",fadeOutClass:"is-fade-out",fadeInClass:"is-fade-in",flexClass:"is-display-flex",fadeOutTime:400,fadeInTime:400,correct:0,answerBtnSel:'[data-js-item="ui-js-answer"]',sectionSel:'[data-js-item="quiz-section"]',answerCounterSel:'[data-js-item="answer-counter"]',answerSel:'[data-js-item="ui-js-answer"]',answersSel:'[data-js-item="answers"]',dataAnswerTextSel:"[data-answer-text]",quizItemsSel:'[data-js-item="quiz-items"]',answerCorrectWrongSel:'[data-js-item="answer-correct-wrong"]',answerTitleSel:'[data-js-item="answer-title"]',answerTextSel:'[data-js-item="answer-text"]',questionSel:'[data-js-item="question"]',nextQuestionSel:'[data-js-item="ui-js-next-question"]',overlaySel:'[data-js-item="ui-js-overlay"]',overlayContentSel:'[data-js-item="ui-js-overlay-content"]',scoringSel:'[data-js-item="scoring"]',stepsCorrectSel:'[data-js-item="steps-correct"]',cookieNamePrefix:"quiz-",desktop:/md|lg/,margin_md:13,margin_lg:15,desktopPadding:30,events:{'click [data-js-item="ui-js-answer"]':"handleAnswerClick",'click [data-js-item="ui-js-cancel-quiz"]':"handleCancelClick",'click [data-js-item="ui-js-overlay"]':"handleOverlayClick",'click [data-js-item="ui-js-quiz-reset"]':"handleResetClick",'click [data-js-item="ui-js-next-question"]':"handleNextQuestionClick"},initialize:function initialize(t){this.$bodyHtml=$("html,body"),this.step=0,this.$quizItems=this.$el.find(this.quizItemsSel),this.$sections=this.$el.find(this.sectionSel),this.setQuizItemsHeight(0),this.$answers=this.$el.find(this.answerSel),this.steps=1<this.$sections.length?this.$sections.length-1:this.$sections.length,this.$overlay=this.$el.find(this.overlaySel),this.$answerCorrectWrong=this.$overlay.find(this.answerCorrectWrongSel),this.$answerTitle=this.$overlay.find(this.answerTitleSel),this.$answerText=this.$overlay.find(this.answerTextSel),this.$overlayContent=this.$overlay.find(this.overlayContentSel),this.$scoring=this.$el.find(this.scoringSel),this.$nextQuestion=this.$el.find(this.nextQuestionSel),this.$stepsCorrect=this.$el.find(this.stepsCorrectSel),this.cookie=$.docCookies(this.cookieNamePrefix+""+(this.setup.id||"example"))||!1,this.trackingData=this.setup&&this.setup.data&&this.setup.data.event&&"form-tools"===this.setup.data.event&&this.setup.data,0<this.$scoring.length&&(this.scoringObject=JSON.parse(this.$scoring[0].dataset.jsOptions)),this.steps<2&&this.$el.addClass("without-pagination"),!1!==this.cookie?(this.correct=parseInt(this.cookie),this.updateResults(),$(this.$sections[this.steps]).addClass(this.activeClass),$(this.$sections[this.steps]).addClass(this.fadeInClass),this.step=this.steps,this.setQuizItemsHeight(this.step)):($(this.$sections[0]).addClass(this.activeClass),$(this.$sections[0]).addClass(this.fadeInClass)),this.setNextQuestionText(),this.bindEvents();},bindEvents:function bindEvents(){var _this20=this;$(window).on("bootstrap.activemediaquery.changed resize ",_.debounce(function(){return _this20.setQuizItemsHeight(_this20.step);},250));},scrollToTopOfElement:function scrollToTopOfElement(){var t=this.$el.offset().top-30;this.$bodyHtml.animate({scrollTop:t},this.fadeOutTime);},updateResults:function updateResults(){if(0<this.$scoring.length&&0<this.$stepsCorrect.length){var e=100<this.correct/this.steps*100?100:this.correct/this.steps*100;var t=this.scoringObject.filter(function(t){return e<=t.score;});this.$scoring.text(t[0].text),this.$stepsCorrect.text(this.correct+"/"+this.steps);}},setQuizItemsHeight:function setQuizItemsHeight(t){0<this.$quizItems.length&&this.$quizItems.css("height",this.getHeight(t)+"px");},getHeight:function getHeight(t){this.$sections[t]||console.log("error",this.$sections,t),this.$sections[t].style.display="block";var e=$(this.$sections[t]).find(".ui-js-horizontal");var i=e.length&&e.find(".answer-wrapper").length;if(this.desktop.test(ui.Bootstrap.activeView)&&e.length&&!i){var i="md"===ui.Bootstrap.activeView?this.margin_md:this.margin_lg,n=(e.removeClass("is-horizontal"),e[0].clientWidth);var o=$(this.$sections[t]).find(".answer");if(o.length&&1===o[0].children.length){o.removeAttr("style");var a=[];if(o.each(function(t,e){a.push(e.firstElementChild.clientWidth);}),a.length){var s=Math.max.apply(Math,a)+this.desktopPadding+i;var _t3=Math.trunc((n+i)/s);1<(_t3=_t3>a.length?a.length:_t3)&&(o.width("calc((100% / "+_t3+") - "+i+"px)"),e.addClass("is-horizontal"));}}}else if(!this.desktop.test(ui.Bootstrap.activeView)&&e.length&&e.hasClass("is-horizontal")){var r=$(this.$sections[t]).find(".answer");r.removeAttr("style");}n=this.$sections[t].clientHeight;return this.$sections[t].removeAttribute("style"),n;},resetQuiz:function resetQuiz(){this.correct=0,this.updateResults(),$.docCookies(this.cookieNamePrefix+""+this.setup.id,""),this.fadeInAndOutTimeline(!0),bodyScrollLock.clearAllBodyScrollLocks(),this.scrollToTopOfElement();},handleOverlayClick:function handleOverlayClick(t){if($(t.target).hasClass("quiz-overlay-content")||$(t.target).parents(this.overlayContentSel).length)return!1;this.resetQuiz();},handleResetClick:function handleResetClick(t){this.resetQuiz();},handleCancelClick:function handleCancelClick(t){this.resetQuiz();},handleAnswerClick:function handleAnswerClick(t){var e=$(t.currentTarget),i=void 0,n=void 0;t.currentTarget.dataset&&t.currentTarget.dataset.answerText?(this.correct++,i=!0,n=t.currentTarget.dataset.answerText):(e=e.parents(this.answersSel).find(this.dataAnswerTextSel),n=e[0].dataset.answerText,i=!1);var t=e.find(this.answerTextSel).text(),s=0<e.find(this.answerCounterSel).length?e.find(this.answerCounterSel).text():t;this.pushToDatalayer("click-answer",i,t),this.setNextQuestionText(!0),this.showOverlay(i,s,n,t);},showOverlay:function showOverlay(t,e,i,n){bodyScrollLock.disableBodyScroll(this.$overlayContent[0]),this.$answerCorrectWrong.text(t?this.$answerCorrectWrong[0].dataset.correct:this.$answerCorrectWrong[0].dataset.wrong),this.$answerTitle.text(this.$answerTitle[0].dataset.answerPlaceholder.replace("{x}",e)),this.$answerText.text(i),this.$overlay.addClass(this.flexClass),this.$overlay.addClass(this.fadeInClass),this.pushToDatalayer("view-question-result",t,n);},fadeInAndOutTimeline:function fadeInAndOutTimeline(t){var _this21=this;t?(this.$overlay.removeClass(this.fadeInClass),this.step&&(this.setQuizItemsHeight(0),$(this.$sections[0]).addClass(this.activeClass),$(this.$sections[0]).addClass(this.fadeInClass),$(this.$sections[this.step]).addClass(this.fadeOutClass)),setTimeout(function(){_this21.$overlay.removeClass(_this21.flexClass),_this21.step&&($(_this21.$sections[_this21.step]).removeClass(_this21.activeClass),$(_this21.$sections[_this21.step]).removeClass(_this21.fadeInClass),$(_this21.$sections[_this21.step]).removeClass(_this21.fadeOutClass)),_this21.step=0;},this.fadeOutTime)):(this.step++,this.$overlay.removeClass(this.fadeInClass),this.setQuizItemsHeight(this.step),$(this.$sections[this.step]).addClass(this.activeClass),$(this.$sections[this.step]).addClass(this.fadeInClass),$(this.$sections[this.step-1]).addClass(this.fadeOutClass),setTimeout(function(){_this21.$overlay.removeClass(_this21.flexClass),$(_this21.$sections[_this21.step-1]).removeClass(_this21.activeClass),$(_this21.$sections[_this21.step-1]).removeClass(_this21.fadeInClass),$(_this21.$sections[_this21.step-1]).removeClass(_this21.fadeOutClass);},this.fadeOutTime));},setNextQuestionText:function setNextQuestionText(t){this.$nextQuestion.length&&(1<this.steps&&this.step===this.steps||t&&this.step===this.steps-1?this.$nextQuestion.text(this.$nextQuestion[0].dataset.nextResult):this.$nextQuestion.text()!==this.$nextQuestion[0].dataset.nextQuestion&&this.$nextQuestion.text(this.$nextQuestion[0].dataset.nextQuestion));},handleNextQuestionClick:function handleNextQuestionClick(t){this.fadeInAndOutTimeline(),this.pushToDatalayer("view-question"),bodyScrollLock.clearAllBodyScrollLocks(),this.scrollToTopOfElement(),this.updateResults(),this.step===this.steps&&(this.pushToDatalayer("view-quiz-result"),$.docCookies(this.cookieNamePrefix+""+this.setup.id,this.correct,{expires:365,secure:!0,sameSite:"Lax"}));},pushToDatalayer:function pushToDatalayer(t,e,i){if(this.trackingData){switch(t){case"view-question":this.trackingData.formAction="view-question",this.trackingData.formQuestion=$(this.$sections[this.step]).find(this.questionSel).text().trim(),this.trackingData.formAnswer="",this.trackingData.formResult="",this.trackingData.formStep="step"+(this.step+1);break;case"click-answer":this.trackingData.formAction="click-answer",this.trackingData.formQuestion=$(this.$sections[this.step]).find(this.questionSel).text().trim(),this.trackingData.formAnswer=i,this.trackingData.formResult=e?"success":"failure",this.trackingData.formStep="step"+(this.step+1);break;case"view-question-result":this.trackingData.formAction="view-question-result",this.trackingData.formQuestion=$(this.$sections[this.step]).find(this.questionSel).text().trim(),this.trackingData.formAnswer=i,this.trackingData.formResult=e?"success":"failure",this.trackingData.formStep="step"+(this.step+1);break;case"view-quiz-result":this.trackingData.formAction="view-quiz-result",this.trackingData.formTopic=this.trackingData.formType+"result",this.trackingData.formQuestion=$(this.$sections[this.step]).find(this.questionSel).text().trim(),this.trackingData.formAnswer="",this.trackingData.formResult="",this.trackingData.formStep="results";}window.dataLayer&&(window.dataLayer.push(this.trackingData),window.logTracking&&(console.info("added dataLayer data:",JSON.stringify(this.trackingData)),console.info("Tracking Obj",this.trackingData)));}},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"QuizComponent",View:ui.Quiz,selector:".ui-js-quiz",reinitialize:!1}),$(ui.bootstrapQuizComponent());}.call(this),!function(){"use strict";ui.ReceiptListComponentView=ui.ComponentView.extend({name:"ui.ReceiptListComponentView",events:{"click .ui-js-toggle-modal":"loadIFrame",'click .ui-js-table input[type="checkbox"]':"checkboxClicked","click .ui-js-filter-link":"transferFocus","submit .ui-js-controls form":"disableDownloadBtns","hidden.bs.modal":"closeIframe"},$IFrame:null,$checkboxes:null,$downloadPanel:null,$datepicker:null,downloadPDFMode:!1,initialize:function initialize(){this.$datepicker=this.$(".ui-js-datepicker");var t=this;/ms|xs/.test(ui.Bootstrap.activeView)&&(this.downloadPDFMode=!0),ui.on(ui.GlobalEvents.FRAGMENT_PLACED,function(){t.delegateEvents(),t.render();});},render:function render(){this.$IFrame=this.$(".modal iframe"),this.$checkboxes=this.$('.ui-js-table input[type="checkbox"]'),this.$downloadPanel=this.$(".ui-js-controls");var t=this.$downloadPanel.find('input[name^="checkbox"]'),e=this.$('[name="ui-js-ajax-date-from"]'),i=this.$('[name="ui-js-ajax-date-until"]'),n=this.$('[name="ui-js-ajax-is-empty"]'),s=this.$(".ui-js-download-csv"),e=e.val(),i=i.val(),n=n.val();return t.length&&t.val(""),e&&i&&this.$datepicker.trigger("datpicker:update",{dates:[e,i]}),"true"===n?s.attr("disabled","disabled"):s.removeAttr("disabled"),setTimeout(function(){var t;ui&&ui.activeElement&&"string"==typeof ui.activeElement&&(t=$(ui.activeElement)).length&&(t.first().focus(),delete ui.activeElement);},0),this;},closeIframe:function closeIframe(){this.$IFrame.removeAttr("src"),this.$IFrame[0].contentWindow.document&&(this.$IFrame[0].contentWindow.document.body.innerHTML="");},loadIFrame:function loadIFrame(t){this.downloadPDFMode||(t.preventDefault(),t=$(t.currentTarget),this.$IFrame&&t&&(t=t.data("modal-src"),this.$IFrame.attr("src",t),this.$(".ui-js-modal-details").modal("show")));},disableDownloadBtns:function disableDownloadBtns(){this.$downloadPanel.find('input[type="submit"]').attr("disabled","disabled");},transferFocus:function transferFocus(t){ui&&t.currentTarget.dataset&&t.currentTarget.dataset.name&&t.currentTarget.dataset.value&&(ui.activeElement='.listlink[data-name="'+t.currentTarget.dataset.name+'"][data-value="'+t.currentTarget.dataset.value+'"]');},checkboxClicked:function checkboxClicked(i){var t,e=$(i.currentTarget).attr("name"),n=i.currentTarget.checked,s=this;this.$downloadPanel.find("form").each(function(){this.isSubmitted=!1,s.$downloadPanel.find('input[type="submit"]').removeAttr("disabled");}),n?this.$downloadPanel.find('input[type="submit"]').removeAttr("disabled"):"checkbox-all"!==e&&this.$checkboxes.is(':not([name="checkbox-all"]):checked')||this.$downloadPanel.find('input[type="submit"]').attr("disabled",""),"checkbox-all"===e?this.$checkboxes.each(function(){var t,e;this.checked=n,this!==i.currentTarget&&(t=s.$downloadPanel.find('input[name="'+this.name+'"]'),e=$(this).attr("value"),t.attr("value",n?e:""));}):(e=this.$downloadPanel.find('input[name="'+e+'"]'),t=$(i.currentTarget).attr("value"),e.length&&t&&e.attr("value",n?t:""));}}),ui.ComponentFactory.createPlugin({pluginMethodName:"ReceiptListComponent",View:ui.ReceiptListComponentView,selector:".ui-js-receipt-list"}),$(ui.bootstrapReceiptListComponent());}.call(this),!function(){"use strict";ui.RibbonScaleComponentView=ui.ComponentView.extend({name:"ui.RibbonScaleComponentView",$ribbonScaleElements:null,initialize:function initialize(){this.$ribbonScaleElements=$(".bk-t374-12-small-ribbon"),this.setImageWidthToElement();},setImageWidthToElement:function setImageWidthToElement(){var i,n,s,o,a;this.$ribbonScaleElements.each(function(t,e){0<(i=$(e).find(".js-image-wrapper").first()).length&&(n=i.find("img").first(),s=$(e).find(".text-box.prev").first(),o=$(e).find(".content-element.left").first(),0<n.length&&0<s.length&&0<o.length&&((a=new Image()).src=n.attr("src"),a.onload=function(){i.css({width:this.width+"px"}),s.css({"min-width":o.width()-this.width+"px"});}));});}}),ui.ComponentFactory.createPlugin({pluginMethodName:"RibbonScaleComponent",View:ui.RibbonScaleComponentView,selector:"body"}),$(ui.bootstrapRibbonScaleComponent());}.call(this),!function(){"use strict";ui.AnimatedScrollToClassComponentView=ui.ComponentView.extend({name:"ui.AnimatedScrollToClassComponentView",defaults:{speed:750,offset:80},initialize:function initialize(){this.scrollContainer=$("html,body"),this.scrollContainer.hasClass("prevent-scroll-to-class")||(this.checkCSSClassMethod=this.checkCSSClass.bind(this),$(window).on("load",this.checkCSSClassMethod),ui.on(ui.GlobalEvents.FRAGMENT_PLACED,this.checkCSSClassMethod));},checkCSSClass:function checkCSSClass(){this.firstElement=$(".js-success, .js-invalid").first(),this.firstElement.length&&this.scrollToCSSClass();},scrollToCSSClass:function scrollToCSSClass(){console.info(this+".scrollToCSSClass()");var t=$(".ui-js-header-panel").height()+this.setup.offset,t=this.firstElement.offset().top-t;this.scrollContainer.animate({scrollTop:t},this.setup.speed),ui.off(ui.GlobalEvents.FRAGMENT_PLACED,this.checkCSSClassMethod);}}),ui.ComponentFactory.createPlugin({pluginMethodName:"AnimatedScrollToClassComponent",View:ui.AnimatedScrollToClassComponentView,selector:document,reinitialize:!1}),$(ui.bootstrapAnimatedScrollToClassComponent());}.call(this),!function(){"use strict";ui.AnimatedScrollComponentView=ui.ComponentView.extend({name:"ui.AnimatedScrollComponentView",events:{click:"onScrollToAnchorClick"},defaults:{speed:750},initialize:function initialize(){this.$scrollContainer=$("html,body"),this.onHashSet(window.location.hash);},getTargetOffset:function getTargetOffset(t){return t.offset();},onHashSet:function onHashSet(t){var e,i=this,n=null,s=null,o=this.setup.delay||0;t&&t.match(/^#[a-z0-9-_]+$/)&&(s=$(t),e=setTimeout(function(){clearTimeout(e),s.length&&(n=i.getTargetOffset(s)),i.scrollToAnchor(n);},o));},onScrollToAnchorClick:function onScrollToAnchorClick(e){var i=this,n=this.setup.anchor,s=null,t=this.setup.delay||0,o=(e.preventDefault(),setTimeout(function(){var t;clearTimeout(o),e.target&&"A"!==e.target.nodeName&&n?s=i.getTargetOffset($(n).first()):(t=$(e.target).closest("a")).length&&t.attr("href")&&(s=i.getTargetOffset($(t.attr("href")))),i.scrollToAnchor(s);},t));},scrollToAnchor:function scrollToAnchor(t){var e=this.setup.offset;t&&t.top&&this.$scrollContainer.animate({scrollTop:e?t.top-e:t.top},this.setup.speed);}}),ui.ComponentFactory.createPlugin({pluginMethodName:"AnimatedScrollComponent",View:ui.AnimatedScrollComponentView,selector:".ui-js-animated-scroll",reinitialize:!1}),$(ui.bootstrapAnimatedScrollComponent());}.call(this),!function(){"use strict";ui.ParallaxComponentView=ui.ComponentView.extend({name:"ui.ParallaxComponentView",correctFactor:1,limit:0,origBgPosX:0,origBgPosY:0,pxCallback:null,isMobile:!1,$parallaxEl:null,$document:null,defaults:{direction:"up",effect:"headline",slowdown:12},initialize:function initialize(){if(this.$document=$(document),this.$parallaxEl=this.setup.paralaxEl?this.$(this.setup.paralaxEl):this.$el,this.setup.direction&&this.setup.direction!==this.defaults.direction?this.correctFactor=1:this.correctFactor=-1,this.limit=void 0!==this.setup.topOffsetLimit?Number(this.setup.topOffsetLimit):this.limit,!this.isMobile&&this.$parallaxEl.length){this.$parallaxEl=this.$parallaxEl.eq(0);var t=this.paralaxCallback.bind(this),t=(this.$el.on("scrollhandler:inview",t),this.calculate.bind(this));switch(ui.on(ui.GlobalEvents.CAROUSEL_SLID,t),ui.on("bootstrap.activemediaquery.changed",t),this.calculate(),this.setup.effect){case"headline":this.pxCallback=this.headlineTransition;break;case"position":var e=/(\d+)%\s(\d+)%$/,i=this.$parallaxEl.css("background-position"),n=i.replace(e,"$1"),i=i.replace(e,"$2");this.origBgPosX=parseFloat(n),this.origBgPosY=parseFloat(i),this.$parallaxEl.addClass("parallax-bg"),this.pxCallback=this.backgroundPosition;break;case"rotate":this.pxCallback=this.skewBackground;}}},render:function render(){this.$parallaxEl.toggleClass("parallax-transition",!this.isMobile),this.isMobile||this.pxCallback&&this.pxCallback.call(this);},headlineTransition:function headlineTransition(){this.$parallaxEl.css({transform:"translate3d(0, "+this.offset+"px, 0)"});},backgroundPosition:function backgroundPosition(){var t=this.origBgPosY+this.offset;this.$parallaxEl.css({"background-position":this.origBgPosX+"% "+t+"%"});},skewBackground:function skewBackground(){this.$parallaxEl.css({transform:"perspective( 400px ) rotateX("+this.offset+"deg)"});},calculate:function calculate(){var t;this.isMobile=/xs/.test(ui.Bootstrap?ui.Bootstrap.activeView:""),this.$parallaxEl.is(":visible")&&(this.scroll=this.$document.scrollTop()-this.$parallaxEl.offset().top,t=0!==this.limit&&this.scroll<this.limit?this.limit/this.setup.slowdown*this.correctFactor:this.scroll/this.setup.slowdown*this.correctFactor,this.offset=Math.ceil(t),this.render());},paralaxCallback:function paralaxCallback(t,e){e.inViewport&&!this.isMobile&&(e=e.top,e=this.$document.scrollTop()-e,this.offset=Math.floor(e/this.setup.slowdown*this.correctFactor),0!==this.limit&&e<this.limit||this.render());},closeView:function closeView(){this.unbind(),this.remove();}}),ui.ComponentFactory.createPlugin({pluginMethodName:"ParallaxComponent",View:ui.ParallaxComponentView,selector:".ui-js-paralax",reinitialize:!0}),$(ui.bootstrapParallaxComponent());}.call(this),!function(){"use strict";ui.SocialMediaDeviceComponentView=ui.ComponentView.extend({name:"ui.SocialMediaDeviceComponentView",initialize:function initialize(){this.$SocialMediaDeviceMobile=$(".ui-js-show-mobile"),this.$SocialMediaDeviceDesktop=$(".ui-js-show-desktop");},showElementByDevice:function showElementByDevice(){(/Mobi/.test(navigator.userAgent)?this.$SocialMediaDeviceDesktop:this.$SocialMediaDeviceMobile).addClass("hidden");},render:function render(){return this.showElementByDevice(),this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"SocialMediaDeviceComponent",View:ui.SocialMediaDeviceComponentView,selector:"body"}),$(ui.bootstrapSocialMediaDeviceComponent());}.call(this),!function(){"use strict";ui.StageDecoratorComponentView=ui.ComponentView.extend({name:"ui.StageDecoratorComponentView",defaults:{},events:{},initialize:function initialize(){this.imageSet=!1,this.resizeHandler=this.render.bind(this),this.bindEvents();},bindEvents:function bindEvents(){this.checkDisplayProperty()||$(window).on("resize",this.resizeHandler);},checkDisplayProperty:function checkDisplayProperty(){return"none"!==this.$el.css("display");},render:function render(){return this.checkDisplayProperty()&&!this.imageSet&&(this.imageSet=!0,this.$el.html("<img src="+this.setup.imgSrc+" alt="+this.setup.imgAlt+">"),$(window).off("resize",this.resizeHandler)),this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"StageDecoratorComponent",View:ui.StageDecoratorComponentView,selector:".ui-js-stage-decorator"}),$(ui.bootstrapStageDecoratorComponent());}.call(this),!function(){"use strict";ui.StageDimension=ui.ComponentView.extend({name:"ui.StageDimension",isActive:!1,activateViews:/(sm|md|lg)/,initialize:function initialize(){this.isActive=this.activateViews.test(ui.Bootstrap.activeView),this.$subtractContainer=$(".ui-js-header-panel"),this.callMethod=this.useAvailableSpace.bind(this),this.toggleActivation(),ui.on("bootstrap.activemediaquery.changed",this.toggleActivation.bind(this));},toggleActivation:function toggleActivation(){this.activateViews.test(ui.Bootstrap.activeView)?this.activate():setTimeout(this.deactivate.bind(this),1);},activate:function activate(){this.isActive||($(window).on("resize",this.callMethod),this.isActive=!0);},deactivate:function deactivate(){this.isActive&&($(window).off("resize",this.callMethod),this.el.style.removeProperty("height"),this.isActive=!1);},useAvailableSpace:function useAvailableSpace(){var t=this.calculateAvailableSpace();t&&t!==this.dimensionValue&&(this.dimensionValue=t,this.$el.height(this.dimensionValue));},calculateAvailableSpace:function calculateAvailableSpace(){var t=window.innerHeight,e=this.$subtractContainer.height();return parseInt(t-e,10);},render:function render(){return this.isActive&&this.useAvailableSpace(),this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"StageDimensionComponent",View:ui.StageDimension,selector:".ui-js-stage-dimension",reinitialize:!1}),$(ui.bootstrapStageDimensionComponent());}.call(this),!function(){"use strict";ui.StickyElementComponentView=ui.ComponentView.extend({name:"ui.StickyElementComponentView",initialize:function initialize(t){this.isMobile=/(ms|xs)/.test(ui.Bootstrap.activeView),this.ticking=!1,this.$sticky=$(".ui-js-sticky"),this.isMobile||($(window).scroll(this.onScroll.bind(this)),this.update());},update:function update(){this.ticking=!1,window.pageYOffset>this.$sticky.offset().top?this.$sticky.addClass("is-sticky"):this.$sticky.removeClass("is-sticky");},onScroll:function onScroll(){this.requestTick();},requestTick:function requestTick(){this.ticking||requestAnimationFrame(this.update.bind(this)),this.ticking=!0;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"StickyElementComponent",View:ui.StickyElementComponentView,selector:".ui-js-sticky"}),$(ui.bootstrapStickyElementComponent());}.call(this),!function(){ui.SystemEvents=ui.ComponentClass.extend({name:"ui.SystemEvents",initialize:function initialize(t){this.urlHashMap=t.urlHash,this.urlGetMap=t.urlGet,this.triggerQueue={immediate:[],domready:[]},this.triggerQueue[ui.GlobalEvents.LOGIN_AUTHENTICATED]=[],window.location.hash&&this.mapEvents(this.urlHashMap,window.location.hash,function(t,e){return-1!==t.indexOf("#"+e)||-1!==t.indexOf("/"+e);}),window.location.search&&this.mapEvents(this.urlGetMap,ui.helpers.unserializeGetParams(window.location.search),function(t,e){return-1!==Object.keys(t).indexOf(e);}),$(this.onDomReady.bind(this)),ui.on(ui.GlobalEvents.LOGIN_AUTHENTICATED,this.onLoginAuthenticated.bind(this));},onLoginAuthenticated:function onLoginAuthenticated(){(this.triggerQueue[ui.GlobalEvents.LOGIN_AUTHENTICATED]||[]).forEach(function(t){setTimeout(function(){ui.trigger(t.name,{data:t.data,name:t.name});},1);});},onDomReady:function onDomReady(){this.triggerQueue.domready.forEach(function(t){setTimeout(function(){ui.trigger(t.name,{data:t.data,name:t.name});},1);});},mapEvents:function mapEvents(t,e,i){for(var n,s,o,a=0,r=t.length;a<r;a++){if("string"!=typeof t[a][0]||"string"!=typeof t[a][1])throw new Error("Parameter missing");n=t[a][0],s=t[a][1],o=t[a][2]||"domready",this.triggerQueue[o]||(this.triggerQueue[o]=[]),i(e,n)&&this.triggerQueue[o].push({name:s,data:t[a][3]});}}});}.call(this),!function(){"use strict";ui.TabSliderHangingCardsComponentView=ui.ComponentView.extend({name:"ui.TabSliderHangingCardsComponentView",events:{"click .js-milestone-link":"onMilestoneLinkClick","click .js-milestone":"onMilestoneClick","keypress .js-milestone":"onMilestoneKeypress"},defaults:{step:1,loop:!0,autoplay:!1,pxThreshold:40},initialize:function initialize(){this.setMilestoneStates=this.setMilestoneStates.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.index=0,this.milestonePositions=[],this.$milestones=this.$(".js-milestone"),this.$dragPill=this.$(".js-active-pill"),this.$progressbar=this.$(".js-progress-indicator"),this.$topSlider=this.$(".ui-js-carousel.top-slider"),this.$topSliderItems=this.$topSlider.find(".item"),this.isInit=!0,this.$tabslider=this.$(".tab-slider"),this.hideUnneededThings(),this.$tabsliderInner=this.$tabslider.find(".tab-slider-inner"),this.$firstSliderContainer=this.$topSlider.find(".container:first"),this.marginLeft=this.$firstSliderContainer[0].offsetLeft,this.$tabsliderInner.css({left:this.marginLeft+"px"}),this.indexOffset=Math.floor(this.$el.width()/this.$milestones.first().width()/2),this.$milestones.find(".milestone").attr("tabindex",0),this.$dragPill.draggabilly({axis:"x",containment:".tab-slider-inner"}),this.setMilestoneStates(),this.activate(this.index),$(window).on("resize",this.onWindowResize),this.checkIfHashSet();},hideUnneededThings:function hideUnneededThings(){this.$milestones.not(":first").addClass("is-hidden"),this.$dragPill.addClass("is-hidden");},checkIfHashSet:function checkIfHashSet(){var t;this.$milestones&&0<this.$milestones.length&&window.location.hash&&"?"!==window.location.hash.charAt(1)&&(t=this.$milestones.filter(function(t,e){return window.location.hash==="#"+e.id;})).length&&$("html, body").animate({scrollTop:this.$el.offset().top},500,function(){this.isInit=!0,t.click();});},toggleUrlHash:function toggleUrlHash(t){t=t?"#"+t.attr("id"):location.href.replace(location.hash,"");history.pushState?history.pushState(null,null,t):location.href=t;},onWindowResize:function onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){this.setMilestoneStates();}.bind(this),1);},setMilestoneStates:function setMilestoneStates(){this.milestonePositions=[],this.$milestones.each(function(t,e){var e=$(e),i=e.find(".milestone");this.cacheMilestonePosition(i,t),e.hasClass("is-active")&&(this.index=t,this.$currentMilestone=e);}.bind(this));},cacheMilestonePosition:function cacheMilestonePosition(t){var e=this.$progressbar.offset().left,t=t.offset().left;this.milestonePositions.push({left:t-e});},getIndexByLeftPosition:function getIndexByLeftPosition(t,i){var e=this.index;if(!t||isNaN(i))return e;t=this.milestonePositions.reduce(function(t,e){return!t||Math.abs(e.left-i)<Math.abs(t.left-i)?e:t;});return e=this.milestonePositions.indexOf(t);},deactivateAutoplay:function deactivateAutoplay(){this.$topSlider.prop("View").$carousel.carousel("pause");},onSliderAutoplay:function onSliderAutoplay(t,e){this.activate(e.position,!0);},onMilestoneKeypress:function onMilestoneKeypress(t){13===t.keyCode&&(t=$(t.currentTarget),this.deactivateAutoplay(),this.activate(t.data("index")));},onDragStart:function onDragStart(t){this.startLeftPosition=parseInt(this.$dragPill.css("left"),10),clearTimeout(this.draggingClassDelay),this.$progressbar.addClass("is-dragging");},onDragEnd:function onDragEnd(t){var e,i=this.startLeftPosition-this.setup.pxThreshold,n=this.startLeftPosition+this.setup.pxThreshold,s=(this.startLeftPosition,null);this.draggingClassDelay=setTimeout(function(){e=parseInt(this.$dragPill.css("left"),10),this.$progressbar.removeClass("is-dragging"),e<i?s="left":n<e&&(s="right"),this.activate(this.getIndexByLeftPosition(s,e));}.bind(this),100);},onMilestoneLinkClick:function onMilestoneLinkClick(t){t.preventDefault();var t=$(t.currentTarget),e=this.$milestones.filter(t.attr("href"));e.length?e.click():console.log("No Milestone Target found.",t.attr("href"));},onMilestoneClick:function onMilestoneClick(t){t=$(t.currentTarget);this.deactivateAutoplay(),this.activate(t.data("index"));},activate:function activate(t,e,i){t!==this.index&&(this.index=t,this.$progressbar.removeClass("is-dragging"),this.$previousMilestone=this.$currentMilestone,this.$previousMilestone.removeClass("is-active"),this.$previousMilestone.find(".milestone").attr("tabindex",0),this.$currentMilestone=this.$milestones.eq(this.index),this.$currentMilestone.addClass("is-active"),this.$currentMilestone.find(".milestone").attr("tabindex",-1),this.toggleUrlHash(this.$currentMilestone),this.forceCarouselSync(e,i));},forceCarouselSync:function forceCarouselSync(t,e){var i=this.$topSlider.prop("View"),n=this,s=this.$topSliderItems.filter(".active");t||i.isMoving||e===i.$carousel||(this.isInit?s.addClass("animate-out"):this.isInit=!0,setTimeout(function(){i.$carousel.carousel(n.index),setTimeout(function(){s.removeClass("animate-out");},600);},400));},position:function position(t){this.$dragPill.css("left",t+"px");t=0,0!==this.index?(this.index<this.milestonePositions.length-1-this.indexOffset?t=this.milestonePositions[0].left-this.milestonePositions[this.index-1].left:-1<this.milestonePositions.length-2-this.indexOffset&&(t=this.milestonePositions[0].left-this.milestonePositions[this.milestonePositions.length-2-this.indexOffset].left),this.$tabsliderInner.delay(400).animate({left:this.marginLeft+t+"px"},300)):0===this.index&&this.$tabsliderInner.delay(400).animate({left:this.marginLeft+"px"},300),t=this.$currentMilestone.find(".milestone-headline");this.$temporaryMilestoneHeadline&&t.length&&this.$temporaryMilestoneHeadline.text(t.text());},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"TabSliderHangingCardsComponent",View:ui.TabSliderHangingCardsComponentView,selector:".ui-js-tab-slider-hanging-cards"}),$(ui.bootstrapTabSliderHangingCardsComponent());}.call(this),!function(){"use strict";ui.TabSliderComponentView=ui.ComponentView.extend({name:"ui.TabSliderComponentView",events:{"click .js-milestone":"onMilestoneClick","slide.bs.carousel .ui-js-carousel":"onBeforeSliding","slid.bs.carousel .ui-js-carousel":"onAfterSliding","keydown .js-milestone":"onMilestoneKeyDown","touchstart .carousel-inner .item":"onTouchstart","touchend .carousel-inner .item":"onTouchend"},defaults:{pxThreshold:40},initialize:function initialize(){this.setMilestoneStates=this.setMilestoneStates.bind(this),this.setMilestoneProgressBars=this.setMilestoneProgressBars.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.applyResponsiveView=this.applyResponsiveView.bind(this),this.onCarouselTouchend=this.onCarouselTouchend.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onDragStart=this.onDragStart.bind(this),this.topSliderTouch=!1,this.topSliderTouchEventsRemoved=!1,this.syncSliderTouch=!1,this.syncSliderTouchEventsRemoved=!1,this.isActive=!1,this.index=0,this.milestonePositions=[],this.$milestones=this.$(".js-milestone"),this.$dragPill=this.$(".js-active-pill"),this.$progressbar=this.$(".js-progress-indicator"),this.$topSlider=this.$(".ui-js-carousel.top-slider"),this.$syncSlider=this.$(".ui-js-carousel.sync-slider"),this.$milestones.find(".milestone").attr("tabindex",0),this.$dragPill.draggabilly({axis:"x",containment:!0}),this.$dragPill.on("dragStart",this.onDragStart),this.$dragPill.on("dragEnd",this.onDragEnd),this.setMilestoneStates(),this.setMilestoneProgressBars(),this.applyResponsiveView(),this.$el.on(ui.GlobalEvents.CAROUSEL_TOUCHEND,this.onCarouselTouchend),$(window).on("resize",this.onWindowResize),ui.on("bootstrap.activemediaquery.changed",this.applyResponsiveView);},onCarouselTouchend:function onCarouselTouchend(t,e){var i=e.nextIndex||e.targetPos;var n=!!$(e.currentTarget).hasClass("top-slider")&&"sync";n=$(e.currentTarget).hasClass("sync-slider")?"top":n,this.activate(i,n);},onWindowResize:function onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){this.setMilestoneStates(),this.setMilestoneProgressBars();}.bind(this),1);},applyResponsiveView:function applyResponsiveView(){var t=this.$temporaryMilestoneHeadline&&this.$temporaryMilestoneHeadline.length;t||/lg|md/.test(ui.Bootstrap.activeView)?t&&/lg|md/.test(ui.Bootstrap.activeView)&&(this.$temporaryMilestoneHeadline.remove(),this.$temporaryMilestoneHeadline=null):(this.$(".milestones").append('<div class="tmp-milestone-headline js-temp" style="display: block;"></div>'),this.$temporaryMilestoneHeadline=this.$(".js-temp")),this.activate(this.index);},setMilestoneStates:function setMilestoneStates(){this.milestonePositions=[],$(this.$milestones[0]).addClass("is-first"),$(this.$milestones[this.$milestones.length-1]).addClass("is-last"),this.$milestones.each(function(t,e){var e=$(e),i=e.find(".milestone");this.cacheMilestonePosition(i),e.hasClass("is-active")&&(this.index=t,this.$currentMilestone=e);}.bind(this));},setMilestoneProgressBars:function setMilestoneProgressBars(){var _this22=this;this.$milestones.each(function(t,e){var i=$(e),n=$(_this22.$milestones[t+1]);if(n.length){var s=i.find(".milestone"),o=n.find(".milestone"),a=s.find(".js-milestone-progress-bar");e=s.offset().left,t=o.offset().left-e-10-s.width()/2;a.css("width",t);}});},cacheMilestonePosition:function cacheMilestonePosition(t){var e=this.$progressbar.offset().left,t=t.offset().left;this.milestonePositions.push({left:t-e});},getIndexByLeftPosition:function getIndexByLeftPosition(t,i){var e=this.index;if(!t||isNaN(i))return e;t=this.milestonePositions.reduce(function(t,e){return!t||Math.abs(e.left-i)<Math.abs(t.left-i)?e:t;});return e=this.milestonePositions.indexOf(t);},onMilestoneKeyDown:function onMilestoneKeyDown(t){13===t.keyCode&&this.activate($(t.currentTarget).data("index"));},onTouchstart:function onTouchstart(t){document.activeElement.blur(),this.topSliderTouch=this.$topSlider.is($(t.target).closest(".ui-js-carousel.top-slider")),this.syncSliderTouch=this.$syncSlider.is($(t.target).closest(".ui-js-carousel.sync-slider")),this.topSliderTouch?(this.syncSliderTouchEventsRemoved=!0,this.$syncSlider.prop("View").undelegateEvents()):this.syncSliderTouch&&(this.topSliderTouchEventsRemoved=!0,this.$topSlider.prop("View").undelegateEvents());},onTouchend:function onTouchend(t){this.syncSliderTouchEventsRemoved&&(this.$syncSlider.prop("View").delegateEvents(),this.syncSliderTouchEventsRemoved=!1),this.topSliderTouchEventsRemoved&&(this.$topSlider.prop("View").delegateEvents(),this.topSliderTouchEventsRemoved=!1),this.topSliderTouch=!1,this.syncSliderTouch=!1;},onDragStart:function onDragStart(t){this.startLeftPosition=parseInt(this.$dragPill.css("left"),10),clearTimeout(this.draggingClassDelay),this.$progressbar.addClass("is-dragging");},onDragEnd:function onDragEnd(t){var e,i=this.startLeftPosition-this.setup.pxThreshold,n=this.startLeftPosition+this.setup.pxThreshold,s=(this.startLeftPosition,null);this.draggingClassDelay=setTimeout(function(){e=parseInt(this.$dragPill.css("left"),10),this.$progressbar.removeClass("is-dragging"),e<i?s="left":n<e&&(s="right"),this.activate(this.getIndexByLeftPosition(s,e));}.bind(this),100);},onMilestoneClick:function onMilestoneClick(t){this.activate($(t.currentTarget).data("index"));},onBeforeSliding:function onBeforeSliding(t){var e=this.$topSlider.prop("View"),i=this.$syncSlider.prop("View");(e.isMoving||i.isMoving)&&(i.undelegate("touchstart"),i.undelegate("touchmove"),i.undelegate("touchend"),e.undelegate("touchstart"),e.undelegate("touchmove"),e.undelegate("touchend"));},onAfterSliding:function onAfterSliding(t){var e=this.$topSlider.prop("View"),i=this.$syncSlider.prop("View");e.undelegateEvents(),e.delegateEvents(),i.undelegateEvents(),i.delegateEvents();},activate:function activate(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;this.isActive||(this.isActive=!0,this.index=t,this.$progressbar.removeClass("is-dragging"),this.$previousMilestone=this.$currentMilestone,this.$previousMilestone.removeClass("is-active"),this.$previousMilestone.find(".milestone").attr("tabindex",0),this.$currentMilestone=this.$milestones.eq(this.index),this.$currentMilestone.addClass("is-active"),this.$currentMilestone.find(".milestone").attr("tabindex",-1),this.position(this.milestonePositions[t].left),this.forceCarouselSync(e));},forceCarouselSync:function forceCarouselSync(t){var _this23=this;var e=this.$topSlider.prop("View"),i=this.$syncSlider.prop("View");this.index===e.index&&"top"!==t||(e.$carousel.carousel(this.index),e.isManualSlide=!0),this.index===i.index&&"sync"!==t||i.$carousel.carousel(this.index),t?this.isActive=!1:setTimeout(function(){return _this23.isActive=!1;},600);},position:function position(t){this.$dragPill.css("left",t+"px");t=this.$currentMilestone.find(".milestone-headline");this.$temporaryMilestoneHeadline&&t.length&&this.$temporaryMilestoneHeadline.text(t.text());},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"TabSliderComponent",View:ui.TabSliderComponentView,selector:".ui-js-tab-slider"}),$(ui.bootstrapTabSliderComponent());}.call(this),!function(){"use strict";ui.TabControlExtendedComponentView=ui.ComponentView.extend({name:"ui.TabControlExtendedComponentView",events:{},initialize:function initialize(){var i=this,t=(this.$tabsAlternative=this.$(".js-tabs-overflow-control"),this.$tabsAlternativeHeadings=this.$tabsAlternative.find(".panel-heading"),this.$tabsAlternativeAnchors=this.$tabsAlternativeHeadings.find("a"),this.$tabsWrapper=this.$(".js-tabs-fit-control"),this.$tabsMask=this.$(".js-tabs-mask"),this.$tabsElements=this.$tabsWrapper.find(".js-tabs-items"),this.$tabsAnchors=this.$tabsElements.find("a"),this.$window=$(window),this.selectedIndex=this.$el.data("tabindex"),window.location.hash);void 0!==this.selectedIndex&&this.isValidHash(t)&&0===$(t,this.$el).length&&(this.openTab($(this.$tabsAnchors[this.selectedIndex-1]).attr("href")),this.openAccordionItem($(this.$tabsAlternativeHeadings[this.selectedIndex-1]).attr("id"))),this.cacheHrefs(),this.fits=!0,this.fitsBefore=!1,this.checkAndRender=this.checkAndRender.bind(this),this.externalOpenAccordionItem=this.externalOpenAccordionItem.bind(this),this.externalOpenTab=this.externalOpenTab.bind(this),this.$tabsElements.length&&(this.checkAndRender(!0),this.$window.on("resize",this.onResize.bind(this))),this.rating=$(".mui-js-ratings .mui-js-rating-loaded"),$(".mui-js-ratings").on("rating-received:"+this.rating.data("id"),function(t,e){i.checkAndRender(!0);});},cacheHrefs:function cacheHrefs(){this.tabAnchorHrefs=[],this.$tabsAnchors.each(function(t,e){this.tabAnchorHrefs.push($(e).attr("href"));}.bind(this)),this.accordionAnchorHrefs=[],this.$tabsAlternativeHeadings.each(function(t,e){this.accordionAnchorHrefs.push("#"+$(e).attr("id"));}.bind(this));},onResize:function onResize(){clearTimeout(this.waitExecute),this.waitExecute=setTimeout(this.checkAndRender,100);},checkAndRender:function checkAndRender(t){this.checkTabsFit(),this.render(t);},checkTabsFit:function checkTabsFit(){var t,e=0;this.$tabsWrapper.css({position:"absolute",visibility:"visible",display:"block"}),t=this.$tabsMask.width(),this.$tabsElements.each(function(){e+=$(this).find("a").outerWidth(!0);}),this.$tabsWrapper.get(0).style.removeProperty("position"),this.$tabsWrapper.get(0).style.removeProperty("visibility"),this.$tabsWrapper.get(0).style.removeProperty("display"),this.fits=e<=t;},renderDefault:function renderDefault(){this.$tabsWrapper.removeAttr("hidden"),this.$tabsWrapper.trigger("change.tab.view"),this.$tabsAlternative.attr("hidden",!0),this.toggleGlobalAnchorIds(!1);},toggleGlobalAnchorIds:function toggleGlobalAnchorIds(i){this.tabAnchorHrefs.forEach(function(t,e){i?this.switchTabToAccordionAnchors(t,e):this.switchAccordionToTabAnchors(t,e);}.bind(this));},switchTabToAccordionAnchors:function switchTabToAccordionAnchors(t,e){$('a[href="'+t+'"]').not(this.$tabsAnchors).attr("href",this.accordionAnchorHrefs[e]),$('a[href="'+this.accordionAnchorHrefs[e]+'"]').not(this.$tabsAlternativeAnchors).off("click",this.externalOpenAccordionItem).off("click",this.externalOpenTab).on("click",this.externalOpenAccordionItem),t===location.hash&&(location.hash=this.accordionAnchorHrefs[e],this.openAccordionItem(this.accordionAnchorHrefs[e]));},switchAccordionToTabAnchors:function switchAccordionToTabAnchors(t,e){$('a[href="'+this.accordionAnchorHrefs[e]+'"]').not(this.$tabsAlternativeAnchors).attr("href",t),$('a[href="'+t+'"]').not(this.$tabsAnchors).off("click",this.externalOpenAccordionItem).off("click",this.externalOpenTab).on("click",this.externalOpenTab),this.accordionAnchorHrefs[e]!==location.hash&&$(this.$tabsAlternativeHeadings[e]).find("a").first().attr("href")!==location.hash||(location.hash=t,this.openTab(t));},externalOpenTab:function externalOpenTab(t){t=$(t.currentTarget);this.openTab(t.attr("href"));},openTab:function openTab(t){this.$("[href="+t+"]").tab("show");},externalOpenAccordionItem:function externalOpenAccordionItem(t){t=$(t.currentTarget);this.openAccordionItem(t.attr("href"));},openAccordionItem:function openAccordionItem(t){t=-1===t.indexOf("#")?this.$("#"+t):this.$(t);t.next().collapse("show").closest(".panel-group").find(".panel-collapse.in").not(t.next()).collapse("hide");},renderAlternative:function renderAlternative(){this.$tabsAlternative.removeAttr("hidden"),this.$tabsAlternative.trigger("change.tab.view"),this.$tabsWrapper.attr("hidden",!0),this.toggleGlobalAnchorIds(!0);},render:function render(t){return!t&&this.fits===this.fitsBefore||(this.fits?this.renderDefault():this.renderAlternative(),this.fitsBefore=this.fits),this;},isValidHash:function isValidHash(t){return void 0!==t&&0<t.length&&-1===t.indexOf("=");}}),ui.ComponentFactory.createPlugin({pluginMethodName:"TabControlExtendedComponent",View:ui.TabControlExtendedComponentView,selector:".ui-js-tab-control-extended"}),$(ui.bootstrapTabControlExtendedComponent());}.call(this),!function(){"use strict";ui.TileAccordionComponentView=ui.ComponentView.extend({name:"ui.TileAccordionComponentView",defaults:{isOpenClass:"is-open"},allTiles:'.ui-c301-12-tile-accordion [data-js-item="ui-js-tile"]',tile:'[data-js-item="ui-js-tile"]',tileItem:'[data-js-item="ui-js-tile-item"]',tileDesc:".tile-description",events:{'click [data-js-item="ui-js-tile-item"]':"toggleTile",'click [data-js-item="tile-close"]':"closeTile"},initialize:function initialize(){this.$tileItem=this.$el.find(this.tileItem),this.$tiles=this.$el.find(this.tile),this.$tileDesc=this.$el.find(this.tileDesc),this.$tileDesc.addClass("is-overflow-hidden");},render:function render(){if(location.hash){var t=this.$el.find(location.hash);t.hasClass(this.defaults.isOpenClass)||t.find(this.tileItem).trigger("click");}},pushToDataLayer:function pushToDataLayer(t,e){window.dataLayer&&t&&e&&(e=e["data"],e&&e.event&&"kachelAccordion"===e.event&&e.id&&(e={event:e.event,kachelName:e.name||"",kachelCategory:e.category||"",kachelId:e.id,kachelAction:t},window.dataLayer.push(e),window.logTracking&&(console.info("added dataLayer data:",JSON.stringify(e)),console.info("Tracking Obj",e))));},toggleTile:function toggleTile(t){var _this24=this;t.stopPropagation();var e=$(t.currentTarget);var i=/xs|ms/.test(ui.Bootstrap.activeView)?24:100;this.$currentTile=e.closest(".tile"),this.$currentTile.hasClass(this.defaults.isOpenClass)||(this.currentlyOpenTilesAccordionId!==this.cid&&this.setCurrentlyOpenTilesAccordion(),$(this.allTiles).removeClass(this.defaults.isOpenClass),this.pushToDataLayer("close",this.currentTileDataLayer),this.$tileDesc.removeClass("is-overflow-hidden"),this.$currentTile.addClass(this.defaults.isOpenClass),this.currentTileDataLayer=ui.getElementSetup({el:this.$currentTile}),this.pushToDataLayer("open",this.currentTileDataLayer),setTimeout(function(){history.replaceState(null,null,"#"+_this24.$currentTile.attr("id"));var t=_this24.$currentTile.offset().top-i;_this24.currentScrollTop!==t&&(_this24.currentScrollTop=t,$("html, body").stop().animate({scrollTop:t},250));},400));},setCurrentlyOpenTilesAccordion:function setCurrentlyOpenTilesAccordion(){$(document).off("click.tilesAccordion"+this.currentlyOpenTilesAccordionId,this.closeTile.bind(this)),$(document).on("click.tilesAccordion"+this.cid,this.closeTile.bind(this)),this.currentlyOpenTilesAccordionId=this.cid;},closeTile:function closeTile(){this.$currentTile.removeClass(this.defaults.isOpenClass),this.pushToDataLayer("close",this.currentTileDataLayer),this.currentTileDataLayer=null,history.replaceState(null,null,location.pathname),$(document).off("click.tilesAccordion"+this.cid),this.currentlyOpenTilesAccordionId=null;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"TileAccordionComponent",View:ui.TileAccordionComponentView,selector:".ui-js-tile-accordion"}),$(ui.bootstrapTileAccordionComponent());}.call(this),!function(){"use strict";ui.UtzTracerComponentView=ui.ComponentView.extend({name:"ui.UtzTracerComponentView",language:null,serviceUrl:null,tracerObj:[],tracerLanguage:null,$form:null,$submitBtn:null,$step2forms:null,$productName:null,$lNrSelect:null,events:{"change input":"eanSelected","change .ui-js-l-numbers select":"lNrSelected","click .ui-js-submit":"validateForm",keypress:"avoidENTER"},initialize:function initialize(){this.language=this.setup.language,this.serviceUrl=this.setup.serviceUrl,this.$form=this.$("form"),this.$submitBtn=this.$(".ui-js-submit"),this.$step2forms=this.$(".step-2"),this.$productName=this.$(".ui-js-name"),this.$lNrSelect=this.$(".ui-js-l-numbers select");},render:function render(){if(this.$lNrSelect.find("option").remove("option:enabled"),this.tracerObj&&this.tracerObj.name&&this.tracerObj.name.length&&this.tracerObj.utzDeclarations){var t,e=[];for(t in this.$step2forms.removeClass("hidden").height(),this.$step2forms.removeClass("height-0"),this.$productName.text(this.tracerObj.name),this.tracerObj.utzDeclarations){var i=this.tracerObj.utzDeclarations[t],i=this.createOptionTag(i.lot_number,i.url);e.push(i);}this.$lNrSelect.append(e);}return this;},avoidENTER:function avoidENTER(t){13===t.keyCode&&(t.preventDefault(),t.target.blur());},createOptionTag:function createOptionTag(t,e){return $("<option>",{value:e,text:t});},parseResponse:function parseResponse(t){var e=[];try{e=JSON.parse(t);}catch(t){console.warn("error parsing response");}return e;},eanSelected:function eanSelected(t){t=$(t.target);t.val()&&$.isNumeric(t.val())&&this.sendRequest(t.val());},lNrSelected:function lNrSelected(t){t=t.target.value;this.extendSubmitHref({url:t});},extendSubmitHref:function extendSubmitHref(t){t.url&&this.$submitBtn.attr("href",t.url);},sendRequest:function sendRequest(t){var e=this;$.ajax({type:"GET",dataType:"html",url:this.serviceUrl,data:{term:t,lang:e.language}}).done(function(t){e.tracerObj=e.parseResponse(t),e.render();}).fail(function(t){console.warn("request error",t.responseText);});},validateForm:function validateForm(t){"function"!=typeof this.$form.valid||this.$form.valid()||t.preventDefault();}}),ui.ComponentFactory.createPlugin({pluginMethodName:"UtzTracerComponent",View:ui.UtzTracerComponentView,selector:".ui-js-utz-tracer"}),$(ui.bootstrapUtzTracerComponent());}.call(this),!function(){"use strict";ui.VideoController=ui.ComponentView.extend({name:"ui.VideoController",events:{"show.bs.modal .ui-js-modal-gallery":"stopVideos","hide.bs.modal .ui-js-modal-gallery":"startVideos"},initialize:function initialize(t){this.$videos=this.$el.find(".tile-video video");},stopVideos:function stopVideos(){/md|ms|xs/.test(ui.Bootstrap.activeView)||this.$videos.length&&this.$videos.each(function(t,e){e.pause(),e.currentTime=0;});},startVideos:function startVideos(){/md|ms|xs/.test(ui.Bootstrap.activeView)||this.$videos.length&&this.$videos.each(function(t,e){e.play();});},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"VideoController",View:ui.VideoController,selector:".ui-js-video-controller",reinitialize:!0}),$(ui.bootstrapVideoController());}.call(this),!function(){"use strict";ui.VideoCarousel=ui.ComponentView.extend({name:"ui.VideoCarousel",events:{click:"togglePlayPause"},initialize:function initialize(){var t=this;this.vid=this.$el.find("video").get(0),this.fallbackImg=this.$el.find(".fallback-img"),this.isInStorytellingGallery=this.$el.closest(".is-story-telling").length,this.vid.addEventListener("ended",function(){t.toggleCaption("end"),t.$el.removeClass("play-hidden");},!1);},hideFallbackImg:function hideFallbackImg(){this.fallbackImg&&this.fallbackImg.css("display","none");},toggleCaption:function toggleCaption(t){var e=!!this.$el.closest(".item.active").find(".caption").length&&this.$el.closest(".item.active").find(".caption");e&&this.isInStorytellingGallery&&("play"===t?this.hideCaptionOnPlay(e):"pause"!==t&&"end"!==t||this.showCaptionOnPauseOrEnd(e));},hideCaptionOnPlay:function hideCaptionOnPlay(t){$(t).addClass("is-hidden-on-play-video");},showCaptionOnPauseOrEnd:function showCaptionOnPauseOrEnd(t){$(t).removeClass("is-hidden-on-play-video");},togglePlayPause:function togglePlayPause(){this.vid.paused?(this.hideFallbackImg(),this.$el.addClass("play-hidden"),this.vid.play(),this.toggleCaption("play")):this.vid.played&&(this.vid.pause(),this.$el.removeClass("play-hidden"),this.toggleCaption("pause"));},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"VideoCarouselComponent",View:ui.VideoCarousel,selector:".ui-js-video-carousel"}),$(ui.bootstrapVideoCarouselComponent());}.call(this),!function(){"use strict";ui.VideoHover=ui.ComponentView.extend({name:"ui.VideoHover",events:{"mouseenter video":"playVideo","mouseleave video":"pauseVideo"},initialize:function initialize(){this.vid=this.$el.find("video").get(0),this.checkViewport(),$(window).on("resize",this.checkViewport.bind(this));},checkViewport:function checkViewport(){/(md|lg)/.test(ui.Bootstrap.activeView)?this.pauseVideo():this.isPaused()&&this.playVideo();},isPaused:function isPaused(){return this.vid.paused;},playVideo:function playVideo(){this.vid.play();},pauseVideo:function pauseVideo(){this.vid.pause();},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"VideoHoverComponent",View:ui.VideoHover,selector:".ui-js-video-hover"}),$(ui.bootstrapVideoHoverComponent());}.call(this),!function(){"use strict";ui.VideoLoader=ui.ComponentView.extend({name:"ui.VideoLoader",activateViews:"",initialize:function initialize(){this.$vid=this.$el.find("video"),this.isProductStage=this.$el.parents(".ui-c286-12plus-product-stage"),1===this.isProductStage.length&&(this.isInit=!0,this.$el.css("visibility","hidden"),this.$el.css("opacity","0")),this.videosource=this.$vid.data("src"),void 0!==this.$vid.data("srcset")&&(this.videosources=JSON.parse(JSON.stringify(this.$vid.data("srcset"))),this.videosources&&(this.videosource=this.videosources[ui.Bootstrap.activeView])),this.viewports=this.$vid.data("viewport"),this.autoplay=this.$vid.data("autoplay"),this.preload=this.$vid.data("preload"),"md-lg"===this.viewports?this.activateViews=/(md|lg)/:"sm-md-lg"===this.viewports?this.activateViews=/(sm|md|lg)/:this.activateViews=/(xs|ms|sm|md|lg)/,this.toggleActivation(),ui.on("bootstrap.activemediaquery.changed",this.toggleActivation.bind(this)),$(".modal.is-vuvh").on("shown.bs.modal",this.pauseVideo.bind(this)).on("hide.bs.modal",this.playVideo.bind(this));},toggleActivation:function toggleActivation(){var e=this;if(!ui||!ui.Bootstrap)return!1;this.activateViews.test(ui.Bootstrap.activeView)?(void 0!==this.$vid.data("srcset")&&(this.videosources=JSON.parse(JSON.stringify(this.$vid.data("srcset"))),this.videosources&&(this.videosource=this.videosources[ui.Bootstrap.activeView])),this.$vid.get(0).src=this.videosource,this.$vid.attr("autoplay",this.autoplay),this.$vid.attr("preload",this.preload),1===this.isProductStage.length&&this.isInit&&(this.$vid.get(0).pause(),this.$el.css("visibility","visible"),this.$vid.get(0).oncanplay=function(){var t=setTimeout(function(){e.$el.animate({opacity:"1"},500,"swing",function(){e.$vid.get(0).play();}),clearTimeout(t);},50);},this.isInit=!1)):(this.$vid.get(0).src="",this.$vid.removeAttr("autoplay"),this.$vid.attr("preload","none"));},pauseVideo:function pauseVideo(){this.$vid.get(0).src="",this.$vid.get(0).src=this.videosource,this.$vid.get(0).pause();},playVideo:function playVideo(){var t=this;setTimeout(function(){t.$vid.get(0).play();},1e3);},stopVideo:function stopVideo(){this.$vid.get(0).src="",this.$vid.removeAttr("autoplay"),this.$vid.attr("preload","none");},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"VideoLoaderComponent",View:ui.VideoLoader,selector:".ui-js-video-loader",reinitialize:!1}),$(ui.bootstrapVideoLoaderComponent());}.call(this),!function(){"use strict";ui.Voting=ui.ComponentView.extend({name:"ui.Voting",preselectClass:"is-preselected",showResultClass:"show-result",fadeOutClass:"is-fade-out",fadeInClass:"is-fade-in",fadeOutTime:300,fadeInTime:300,showPreselectClass:"show-preselect",toggleResultBtnSel:'[data-js-item="ui-js-voting-toggle"]',pillBtnSel:'[data-js-item="ui-js-voting-pill"]',resultWrapperSel:'[data-js-item="ui-js-voting-result"]',cookieNamePrefix:"voting-",events:{'click [data-js-item="ui-js-voting-toggle"]':"toggle",'click [data-js-item="ui-js-voting-pill"]':"handlePillClick"},initialize:function initialize(t){this.$bodyHtml=$("html,body"),this.$pillBtns=this.$el.find(this.pillBtnSel),this.isPreselected=this.$pillBtns.filter("."+this.preselectClass).length,this.$resultWrapper=this.$el.find(this.resultWrapperSel),this.answer=$.docCookies("voting-"+this.setup.id)||!1,this.trackingData=this.setup.data&&this.setup.data.event&&"voting"===this.setup.data.event&&this.setup.data,this.answer&&(this.requestResult(!1),this.$pillBtns.filter("[data-answer-uuid="+this.answer+"]").addClass(this.preselectClass),this.$pillBtns.attr("disabled",!0));},toggle:function toggle(t){var e=this,i=(this.$el.addClass(this.fadeOutClass),this.$el.removeClass(this.fadeInClass),this.$el.offset().top-30);!0!==t&&this.$bodyHtml.animate({scrollTop:i},this.fadeOutTime),this.$el.hasClass(this.showResultClass)?(setTimeout(function(){e.$el.removeClass(e.showResultClass),e.$el.addClass(e.showPreselectClass),e.$el.addClass(e.fadeInClass),setTimeout(function(){e.$el.removeClass(e.fadeOutClass),setTimeout(function(){e.$el.removeClass(e.fadeInClass);},400);},this.fadeInTime);},this.fadeOutTime),this.pushToDatalayer("question")):(setTimeout(function(){e.$el.removeClass(e.showPreselectClass),e.$el.addClass(e.showResultClass),e.$el.addClass(e.fadeInClass),setTimeout(function(){e.$el.removeClass(e.fadeOutClass),setTimeout(function(){e.$el.removeClass(e.fadeInClass);},400);},this.fadeInTime);},this.fadeOutTime),t.target&&this.pushToDatalayer("result"));},requestResult:function requestResult(e){var i=this,t={type:"GET",dataType:"html",url:this.setup.ajaxUrl};e&&(t.data={answer:e}),$.ajax(t).done(function(t){i.$resultWrapper.html(t),i.$el.addClass(i.showPreselectClass),i.toggle(!1===e);}).fail(function(t){console.log(t);});},pushToDatalayer:function pushToDatalayer(t){if(this.trackingData){switch(this.trackingData.voteAction="click",this.trackingData.voteTitle=this.setup.data.voteTitle,this.trackingData.voteSelection=this.$pillBtns.filter("[data-answer-uuid="+this.answer+"]").text().trim(),t){case"answer":this.trackingData.voteTarget="answer";break;case"question":this.trackingData.voteTarget="back to question";break;case"result":this.trackingData.voteTarget="back to result";}window.dataLayer&&(window.dataLayer.push(this.trackingData),window.logTracking&&(console.info("added dataLayer data:",JSON.stringify(this.trackingData)),console.info("Tracking Obj",this.trackingData)));}},handlePillClick:function handlePillClick(t){t=$(t.target);if(this.isPreselected)return this.$pillBtns.attr("disabled",!0),!1;this.isPreselected=!0,t.addClass(this.preselectClass),this.$pillBtns.attr("disabled",!0),this.answer=t.attr("data-answer-uuid"),this.requestResult(this.answer),this.pushToDatalayer("answer");},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"VotingComponent",View:ui.Voting,selector:".ui-js-voting",reinitialize:!1}),$(ui.bootstrapVotingComponent());}.call(this),!function(){"use strict";ui.YoutubeVideo=ui.ComponentView.extend({name:"ui.YoutubeVideo",default:{volume:"0",autoplay:"0",loop:"0",start:null,end:null,controls:"1",cc_load_policy:"0",fs:"1",disablekb:"0",iv_load_policy:"1",rel:"1",showinfo:"1",ecver:"1",modestbranding:!1},initialize:function initialize(t){this.isInStorytellingGallery=this.$el.closest(".is-story-telling").length,this.useYtIframeApi=!1,this.isYtApi=!!t.yt,this.iframeLoaded=!1,this.addYtIframeApi(t.yt),this.bindEvents(),this.setViewportVars(),this.loadVideo();},addYtIframeApi:function addYtIframeApi(t){t&&(this.setYtParameters(t),0===$("#ytiframeapi").length&&((t=document.createElement("script")).setAttribute("async",""),t.setAttribute("defer",""),t.setAttribute("id","ytiframeapi"),t.setAttribute("src","//www.youtube.com/iframe_api"),document.querySelector("head").appendChild(t)),void 0===window.onYouTubeIframeAPIReady&&(window.onYouTubeIframeAPIReady=function(){ui.trigger(ui.GlobalEvents.YT_API_READY);}));},setYtParameters:function setYtParameters(t){t&&(this.playerVars={autoplay:t.autoplay||this.default.autoplay,loop:t.loop||this.default.loop,controls:t.controls||this.default.controls,cc_load_policy:t.cc_load_policy||this.default.cc_load_policy,fs:t.fs||this.default.fs,disablekb:t.disablekb||this.default.disablekb,iv_load_policy:t.iv_load_policy||this.default.iv_load_policy,rel:t.rel||this.default.rel,showinfo:t.showinfo||this.default.showinfo,ecver:t.ecver||this.default.ecver,modestbranding:t.modestbranding||this.default.modestbranding},t.start&&(this.playerVars.start=t.start),t.end&&(this.playerVars.end=t.end),this.playerVars.loop&&(this.playerVars.playlist=this.el.dataset.id),this.playerVars.playsinline=1,this.playerVars.enablejsapi=1,this.playerVarsJs={volume:t.volume||this.default.volume});},bindEvents:function bindEvents(){var t=this.inViewCallback.bind(this),e=this.onYtAPIReady.bind(this);this.$el.on("scrollhandler:inview-once",t),ui.on(ui.GlobalEvents.YT_API_READY,e);},unbindEvents:function unbindEvents(){this.$el.off("scrollhandler:inview-once");},setViewportVars:function setViewportVars(){this.isMobile=/xs|ms/.test(ui.Bootstrap.activeView),this.isTablet=/sm/.test(ui.Bootstrap.activeView);},onYtAPIReady:function onYtAPIReady(){this.isYtApi&&(this.useYtIframeApi=!0);},inViewCallback:function inViewCallback(t){this.setViewportVars(),(this.isMobile||this.isTablet||!this.isMobile&&!this.isTablet&&this.playerVars&&this.playerVars.autoplay)&&this.labnolIframe();},loadVideo:function loadVideo(){var t=this.el,e=document.createElement("div");e.setAttribute("data-id",t.dataset.id),this.isYtApi&&(this.ytPlayerId=this.generateUniqueYtId(0),e.setAttribute("id",this.ytPlayerId)),this.labnolThumb(e,t.dataset.id),e.onclick=this.labnolIframe.bind(this),t.appendChild(e);},generateUniqueYtId:function generateUniqueYtId(t){return null===document.getElementById("yt-vid-"+t+"-"+this.el.dataset.id)?"yt-vid-"+t+"-"+this.el.dataset.id:this.generateUniqueYtId(t+1);},labnolThumb:function labnolThumb(t,e){var i=new Image(),n=document.createElement("DIV");n.className="play",this.isMobile?i.src="https://i.ytimg.com/vi/"+e+"/sddefault.jpg":i.src="https://i.ytimg.com/vi/"+e+"/maxresdefault.jpg",t.appendChild(i),t.appendChild(n);},labnolIframe:function labnolIframe(){var t,e;this.isYtApi?this.player=new YT.Player(this.ytPlayerId,{videoId:this.el.dataset.id,playerVars:this.playerVars,events:{onReady:this.onPlayerReady.bind(this),onStateChange:this.onPlayerStateChange.bind(this)}}):(t=document.createElement("iframe"),e="https://www.youtube.com/embed/"+this.el.dataset.id+"?enablejsapi=1&version=3&rel=0&iv_load_policy=3&autoplay=1",t.setAttribute("src",e),t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","1"),this.$el.html(t)),this.iframeLoaded=!0,this.unbindEvents();},onPlayerReady:function onPlayerReady(t){t.target.setVolume(parseInt(this.playerVarsJs.volume));},onPlayerStateChange:function onPlayerStateChange(t){var e=!!this.$el.closest(".item.active").find(".caption").length&&this.$el.closest(".item.active").find(".caption");this.isInStorytellingGallery&&e&&(t.data===YT.PlayerState.PLAYING?this.hideCaptionOnPlay(e):t.data===YT.PlayerState.PAUSED?this.showCaptionOnPauseOrEnd(e):t.data===YT.PlayerState.ENDED&&(this.player.stopVideo(),this.showCaptionOnPauseOrEnd(e)));},hideCaptionOnPlay:function hideCaptionOnPlay(t){$(t).addClass("is-hidden-on-play-video"),$(t).removeClass("is-paused-video");},showCaptionOnPauseOrEnd:function showCaptionOnPauseOrEnd(t){$(t).removeClass("is-hidden-on-play-video"),$(t).addClass("is-paused-video");},render:function render(){return this;}}),ui.ComponentFactory.createPlugin({pluginMethodName:"YoutubeVideoComponent",View:ui.YoutubeVideo,selector:".ui-js-youtube-player"}),$(ui.bootstrapYoutubeVideoComponent());}.call(this),!function(){"use strict";function e(t){return"function"==typeof t;}function a(){return function(){setTimeout(f,1);};}function f(){for(var t=0;t<c;t+=2){(0,C[t])(C[t+1]),C[t]=void 0,C[t+1]=void 0;}c=0;}function p(){}function y(t,n,s){u(function(e){var i=!1,t=function(t,e,i,n){try{t.call(e,i,n);}catch(t){return t;}}(s,n,function(t){i||(i=!0,(n!==t?g:A)(e,t));},function(t){i||(i=!0,E(e,t));},e._label);!i&&t&&(i=!0,E(e,t));},t);}function b(t,i){var n,s;i.constructor===t.constructor?(n=t,(s=i)._state===$?A(n,s._result):s._state===k?E(n,s._result):j(s,void 0,function(t){g(n,t);},function(t){E(n,t);})):(s=function(t){try{return t.then;}catch(t){return I.error=t,I;}}(i))===I?E(t,I.error):void 0!==s&&e(s)?y(t,i,s):A(t,i);}function g(t,e){var i;t===e?E(t,new TypeError("You cannot resolve a promise with itself")):("function"==typeof(i=e)||"object"==(typeof i==="undefined"?"undefined":_typeof(i))&&null!==i?b:A)(t,e);}function w(t){t._onerror&&t._onerror(t._result),S(t);}function A(t,e){t._state===_&&(t._result=e,t._state=$,0!==t._subscribers.length&&u(S,t));}function E(t,e){t._state===_&&(t._state=k,t._result=e,u(w,t));}function j(t,e,i,n){var s=t._subscribers,o=s.length;t._onerror=null,s[o]=e,s[o+$]=i,s[o+k]=n,0===o&&t._state&&u(S,t);}function S(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var n,s,o=t._result,a=0;a<e.length;a+=3){n=e[a],s=e[a+i],n?x(i,n,s,o):s(o);}t._subscribers.length=0;}}function T(){this.error=null;}function x(t,i,n,s){var o,a,r,l,h=e(n);if(h){if((o=function(t,e){try{return t(e);}catch(t){return P.error=t,P;}}(n,s))===P?(l=!0,a=o.error,o=null):r=!0,i===o)return E(i,new TypeError("A promises callback cannot return that same promise."));}else o=s,r=!0;i._state===_&&(h&&r?g(i,o):l?E(i,a):t===$?A(i,o):t===k&&E(i,o));}function M(t,e){var i=this;i._instanceConstructor=t,i.promise=new t(p),i._validateInput(e)?(i._input=e,i.length=e.length,i._remaining=e.length,i._init(),0===i.length?A(i.promise,i._result):(i.length=i.length||0,i._enumerate(),0===i._remaining&&A(i.promise,i._result))):E(i.promise,i._validationError());}function D(t){if(this._id=F++,this._state=void 0,this._result=void 0,this._subscribers=[],p!==t){if(!e(t))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof D))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var i=this;try{t(function(t){g(i,t);},function(t){E(i,t);});}catch(t){E(i,t);}}}var i,s,t,o,r,l,h=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t);},c=0,u=function u(t,e){C[c]=t,C[c+1]=e,2===(c+=2)&&(s?s(f):V());},d="undefined"!=typeof window?window:void 0,m=d||{},m=m.MutationObserver||m.WebKitMutationObserver,v="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),L="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,C=new Array(1e3),V=v?(l=process.nextTick,v=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/),Array.isArray(v)&&"0"===v[1]&&"10"===v[2]&&(l=setImmediate),function(){l(f);}):m?(o=0,v=new m(f),r=document.createTextNode(""),v.observe(r,{characterData:!0}),function(){r.data=o=++o%2;}):L?((t=new MessageChannel()).port1.onmessage=f,function(){t.port2.postMessage(0);}):(void 0===d&&"function"==typeof require?function(){try{var t=require("vertx");return i=t.runOnLoop||t.runOnContext,function(){i(f);};}catch(t){return a();}}:a)(),_=void 0,$=1,k=2,I=new T(),P=new T(),R=(M.prototype._validateInput=function(t){return h(t);},M.prototype._validationError=function(){return new Error("Array Methods must be provided an Array");},M.prototype._init=function(){this._result=new Array(this.length);},M);M.prototype._enumerate=function(){for(var t=this.length,e=this.promise,i=this._input,n=0;e._state===_&&n<t;n++){this._eachEntry(i[n],n);}},M.prototype._eachEntry=function(t,e){var i,n=this._instanceConstructor;"object"==_typeof(i=t)&&null!==i?t.constructor===n&&t._state!==_?(t._onerror=null,this._settledAt(t._state,e,t._result)):this._willSettleAt(n.resolve(t),e):(this._remaining--,this._result[e]=t);},M.prototype._settledAt=function(t,e,i){var n=this.promise;n._state===_&&(this._remaining--,t===k?E(n,i):this._result[e]=i),0===this._remaining&&A(n,this._result);},M.prototype._willSettleAt=function(t,e){var i=this;j(t,void 0,function(t){i._settledAt($,e,t);},function(t){i._settledAt(k,e,t);});};function yA0(t){function e(t){g(i,t);}function n(t){E(i,t);}var i=new this(p);if(!h(t))return E(i,new TypeError("You must pass an array to race.")),i;for(var s=t.length,o=0;i._state===_&&o<s;o++){j(this.resolve(t[o]),void 0,e,n);}return i;}function zA0(t){if(t&&"object"==(typeof t==="undefined"?"undefined":_typeof(t))&&t.constructor===this)return t;var e=new this(p);return g(e,t),e;}function AA0(t){var e=new this(p);return E(e,t),e;}var F=0,O=D,m=(D.all=function(t){return new R(this,t).promise;},D.race=yA0,D.resolve=zA0,D.reject=AA0,D._setScheduler=function(t){s=t;},D._asap=u,D.prototype={constructor:D,then:function then(t,e){var i=this._state;if(i===$&&!t||i===k&&!e)return this;var n,s=new this.constructor(p),o=this._result;return i?(n=arguments[i-1],u(function(){x(i,s,n,o);})):j(this,s,t,e),s;},catch:function _catch(t){return this.then(null,t);}},function(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")();}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment");}var e=t.Promise;e&&"[object Promise]"===Object.prototype.toString.call(e.resolve())&&!e.cast||(t.Promise=O);}),N={Promise:O,polyfill:m};"function"==typeof define&&define.amd?define(function(){return N;}):"undefined"!=typeof module&&module.exports?module.exports=N:void 0!==this&&(this.ES6Promise=N),m();}.call(this),!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?module.exports=e():t.T=e();}(this,function(){function t(t,i){t||i?h.isNode(i)?(s=i,i=t,t=s):h.isNode(t)||i?h.isNode(t)&&!i&&(i={}):(i=t,t=document):(t=document,i={});var s={namespace:n};i=h.extend(s,i),this._ctx=h.getElement(t),this._config=i,this._sandbox=new e(this),this._modules={},this._id=1;}function e(t){this._application=t,this._eventEmitters=[];}function n(t,e){this._ctx=t,this._sandbox=e,this._events=new r(e);}function r(t){this._listeners={},this._sandbox=t,this._connected=!1;}t.prototype.registerModules=function(t){var e={};return t=h.getElement(t)||this._ctx,this._sandbox.dispatch("t.register.start"),h.getModuleNodes(t).forEach(function(t){t=this.registerModule(t,t.getAttribute("data-t-name"),t.getAttribute("data-t-decorator"),t.getAttribute("data-t-namespace"));t&&(e[t._ctx.getAttribute("data-t-id")]=t);}.bind(this)),this._sandbox.dispatch("t.register.end"),e;},t.prototype.unregisterModules=function(t){for(var e in t=t||this._modules,this._sandbox.dispatch("t.unregister.start"),t){t.hasOwnProperty(e)&&delete this._modules[e];}this._sandbox.dispatch("t.unregister.end");},t.prototype.start=function(n){n=n||this._modules;var t,e,i=[];for(t in this._sandbox.dispatch("t.start"),n){n.hasOwnProperty(t)&&(e=function(i){return new Promise(function(t,e){try{n[i].start(t,e);}catch(t){e(t);}});}(t),i.push(e));}var s=Promise.all(i);return s.then(function(){this._sandbox.dispatch("t.sync");}.bind(this)).catch(function(t){throw Error("Starting or synchronizing the modules failed: "+t);}),s;},t.prototype.stop=function(t){for(var e in t=t||this._modules,this._sandbox.dispatch("t.stop"),t){t.hasOwnProperty(e)&&t[e].stop();}},t.prototype.registerModule=function(t,e,i,n){var s=this._modules;if(e=h.capitalize(h.camelize(e)),h.isString(i)?i=window[i]?(n=window[i],null):i.split(","):!Array.isArray(i)&&h.isObject(i)&&(n=i,i=null),i=(i=i||[]).map(function(t){return h.capitalize(h.camelize(t.trim()));}),(n=n||this._config.namespace)[e]){var o=this._id++;t.setAttribute("data-t-id",o),s[o]=new n[e](t,this._sandbox);for(var a=0,r=i.length;a<r;a++){var l=i[a];n[e][l]&&n[e][l](s[o]);}return s[o];}return this._sandbox.dispatch("t.missing",t,e,i,n),null;},t.prototype.getModuleById=function(t){if(this._modules[t])return this._modules[t];throw Error("The module with the id "+t+" does not exist");},e.prototype.addModules=function(t){var e={},i=this._application;return h.isNode(t)&&(e=i.registerModules(t),i.start(e)),e;},e.prototype.removeModules=function(t){var i,e=this._application;return h.isNode(t)&&(i={},h.getModuleNodes(t).forEach(function(t){var e,t=t.getAttribute("data-t-id");void 0!==t&&(e=this.getModuleById(t))&&(i[t]=e);}.bind(this)),t=i),h.isObject(t)&&(e.stop(t),e.unregisterModules(t)),this;},e.prototype.getModuleById=function(t){return this._application.getModuleById(t);},e.prototype.getConfig=function(){return this._application._config;},e.prototype.getConfigParam=function(t){var e=this._application._config;if(void 0!==e[t])return e[t];throw Error("The config param "+t+" does not exist");},e.prototype.addEventEmitter=function(t){return this._eventEmitters.push(t),this;},e.prototype.removeEventEmitter=function(t){for(var e=this._eventEmitters,i=0,n=e.length;i<n;i++){if(e[i]===t){e.splice(i,1);break;}}return this;},e.prototype.dispatch=function(){for(var t=this._eventEmitters,e=0,i=t.length;e<i;e++){var n=t[e];n.handle.apply(n,arguments);}return this;},n.prototype.start=function(t){t();},n.prototype.stop=function(){this._events.off().disconnect();},r.prototype.on=r.prototype.addListener=function(t,e){return this.connect(),(this._listeners["$"+t]=this._listeners["$"+t]||[]).push(e),this;},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments);}return this.connect(),n.listener=e,this.on(t,n),this;},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=function(t,e){if(0===arguments.length)return this._listeners={},this;var i=this._listeners["$"+t];if(!i)return this;if(1===arguments.length)return delete this._listeners["$"+t],this;for(var n,s=0,o=i.length;s<o;s++){if((n=i[s])===e||n.listener===e){i.splice(s,1);break;}}return this;},r.prototype.emit=function(){return this.connect(),this._sandbox.dispatch.apply(this._sandbox,arguments),this;},r.prototype.handle=function(t){var e=[].slice.call(arguments,1),i=this._listeners["$"+t];if(i)for(var n=0,s=(i=i.slice(0)).length;n<s;++n){i[n].apply(this,e);}return this;},r.prototype.listeners=function(t){return this._listeners["$"+t]||[];},r.prototype.hasListeners=function(t){return!!this.listeners(t).length;},r.prototype.connect=function(){return this._connected||(this._sandbox.addEventEmitter(this),this._connected=!0),this;},r.prototype.disconnect=function(){return this._connected&&(this._sandbox.removeEventEmitter(this),this._connected=!1),this;};var h={capitalize:function capitalize(t){return t.substr(0,1).toUpperCase().concat(t.substr(1));},camelize:function camelize(t){return t.replace(/(\-[A-Za-z])/g,function(t){return t.toUpperCase().replace("-","");});},isString:function isString(t){return"[object String]"===Object.prototype.toString.call(t);},isObject:function isObject(t){var e=typeof t==="undefined"?"undefined":_typeof(t);return!(!t||"object"!=e&&"function"!=e||Array.isArray(t));},isFunction:function isFunction(t){return!!t&&"function"==typeof t;},isNode:function isNode(t){return!(!t||!t.nodeType||1!==t.nodeType&&9!==t.nodeType);},matches:function matches(t,e){var i=Element.prototype;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(t){return-1!==[].slice.call(document.querySelectorAll(t)).indexOf(this);}).call(t,e);},extend:function extend(t){if(!h.isObject(t))return t;for(var e,i,n=1,s=arguments.length;n<s;n++){for(i in e=arguments[n]){e.hasOwnProperty(i)&&(t[i]=e[i]);}}return t;},getElement:function getElement(t){return this.isNode(t)?9===t.nodeType&&t.documentElement?t.documentElement:t:null;},getModuleNodes:function getModuleNodes(t){var e=[].slice.call(t.querySelectorAll("[data-t-name]"));return this.matches(t,"[data-t-name]")&&e.unshift(t),e;},createModule:function createModule(t){if(!t||!h.isObject(t))throw Error("Your module spec is not an object. Usage: T.createModule({ … })");function VE0(t,e){n.call(this,t,e);}var e,i,s=VE0.prototype=Object.create(n.prototype),o=(s.constructor=VE0,t.hasOwnProperty("statics")&&h.extend(VE0,t.statics),["statics"]);for(e in t){t.hasOwnProperty(e)&&-1===o.indexOf(e)&&(i=t[e],s[e]=i);}return VE0;},createDecorator:function createDecorator(n){if(n&&h.isObject(n))return function(t){var e,i={};for(e in t){h.isFunction(t[e])&&(i[e]=t[e].bind(t));}for(e in n){n.hasOwnProperty(e)&&(t[e]=h.isFunction(n[e])?function(e){return function(){this._parent=i;var t=e.apply(this,arguments);return delete this._parent,t;};}(n[e]):n[e]);}};throw Error("Your decorator spec is not an object. Usage: T.createDecorator({ … })");}};return{Application:t,Sandbox:e,Module:n,EventEmitter:r,createModule:h.createModule,createDecorator:h.createDecorator,version:"3.0.0-beta.7"};}),!function(t,e){"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))&&"object"==(typeof module==="undefined"?"undefined":_typeof(module))?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?exports.Handlebars=e():t.Handlebars=e();}(this,function(){return n=[function(t,e,n){"use strict";function i(){var i=u();return i.compile=function(t,e){return l.compile(t,e,i);},i.precompile=function(t,e){return l.precompile(t,e,i);},i.AST=a.default,i.Compiler=l.Compiler,i.JavaScriptCompiler=h.default,i.Parser=r.parser,i.parse=r.parse,i;}var s=n(8).default;e.__esModule=!0;var o=s(n(1)),a=s(n(2)),r=n(3),l=n(4),h=s(n(5)),c=s(n(6)),s=s(n(7)),u=o.default.create,n=i();n.create=i,s.default(n),n.Visitor=c.default,n.default=n,e.default=n,t.exports=e.default;},function(t,e,n){"use strict";function i(){var e=new o.HandlebarsEnvironment();return l.extend(e,o),e.SafeString=a.default,e.Exception=r.default,e.Utils=l,e.escapeExpression=l.escapeExpression,e.VM=h,e.template=function(t){return h.template(t,e);},e;}var s=n(8).default;e.__esModule=!0;var o=s(n(9)),a=s(n(10)),r=s(n(11)),l=s(n(12)),h=s(n(13)),s=s(n(7)),n=i();n.create=i,s.default(n),n.default=n,e.default=n,t.exports=e.default;},function(t,e){"use strict";e.__esModule=!0;var i={Program:function Program(t,e,i,n){this.loc=n,this.type="Program",this.body=t,this.blockParams=e,this.strip=i;},MustacheStatement:function MustacheStatement(t,e,i,n,s,o){this.loc=o,this.type="MustacheStatement",this.path=t,this.params=e||[],this.hash=i,this.escaped=n,this.strip=s;},BlockStatement:function BlockStatement(t,e,i,n,s,o,a,r,l){this.loc=l,this.type="BlockStatement",this.path=t,this.params=e||[],this.hash=i,this.program=n,this.inverse=s,this.openStrip=o,this.inverseStrip=a,this.closeStrip=r;},PartialStatement:function PartialStatement(t,e,i,n,s){this.loc=s,this.type="PartialStatement",this.name=t,this.params=e||[],this.hash=i,this.indent="",this.strip=n;},ContentStatement:function ContentStatement(t,e){this.loc=e,this.type="ContentStatement",this.original=this.value=t;},CommentStatement:function CommentStatement(t,e,i){this.loc=i,this.type="CommentStatement",this.value=t,this.strip=e;},SubExpression:function SubExpression(t,e,i,n){this.loc=n,this.type="SubExpression",this.path=t,this.params=e||[],this.hash=i;},PathExpression:function PathExpression(t,e,i,n,s){this.loc=s,this.type="PathExpression",this.data=t,this.original=n,this.parts=i,this.depth=e;},StringLiteral:function StringLiteral(t,e){this.loc=e,this.type="StringLiteral",this.original=this.value=t;},NumberLiteral:function NumberLiteral(t,e){this.loc=e,this.type="NumberLiteral",this.original=this.value=Number(t);},BooleanLiteral:function BooleanLiteral(t,e){this.loc=e,this.type="BooleanLiteral",this.original=this.value="true"===t;},UndefinedLiteral:function UndefinedLiteral(t){this.loc=t,this.type="UndefinedLiteral",this.original=this.value=void 0;},NullLiteral:function NullLiteral(t){this.loc=t,this.type="NullLiteral",this.original=this.value=null;},Hash:function Hash(t,e){this.loc=e,this.type="Hash",this.pairs=t;},HashPair:function HashPair(t,e,i){this.loc=i,this.type="HashPair",this.key=t,this.value=e;},helpers:{helperExpression:function helperExpression(t){return!("SubExpression"!==t.type&&!t.params.length&&!t.hash);},scopedId:function scopedId(t){return /^\.|this\b/.test(t.original);},simpleId:function simpleId(t){return 1===t.parts.length&&!i.helpers.scopedId(t)&&!t.depth;}}};e.default=i,t.exports=e.default;},function(t,e,i){"use strict";var n=i(8).default;e.__esModule=!0,e.parse=function(t,e){return"Program"===t.type?t:((s.default.yy=r).locInfo=function(t){return new r.SourceLocation(e&&e.srcName,t);},new a.default().accept(s.default.parse(t)));};var s=n(i(14)),o=n(i(2)),a=n(i(15)),n=n(i(16)),i=i(12),r=(e.parser=s.default,{});i.extend(r,n,o.default);},function(t,e,n){"use strict";function i(){}function o(t){var e;t.path.parts||(e=t.path,t.path=new c.default.PathExpression(!1,0,[e.original+""],e.original+"",e.loc));}var s=n(8).default;e.__esModule=!0,e.Compiler=i,e.precompile=function(t,e,i){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new l.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);return"data"in(e=e||{})||(e.data=!0),e.compat&&(e.useDepths=!0),t=i.parse(t,e),t=new i.Compiler().compile(t,e),new i.JavaScriptCompiler().compile(t,e);},e.compile=function(e,t,n){function i(){var t=n.parse(e,s),t=new n.Compiler().compile(t,s),t=new n.JavaScriptCompiler().compile(t,s,void 0,!0);return n.template(t);}function r(t,e){return(o=o||i()).call(this,t,e);}var s=void 0===t?{}:t;if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new l.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in s||(s.data=!0),s.compat&&(s.useDepths=!0);var o=void 0;return r._setup=function(t){return(o=o||i())._setup(t);},r._child=function(t,e,n,s){return(o=o||i())._child(t,e,n,s);},r;};var l=s(n(11)),h=n(12),c=s(n(2)),u=[].slice;i.prototype={compiler:i,equals:function equals(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var i=0;i<e;i++){var n=this.opcodes[i],s=t.opcodes[i];if(n.opcode!==s.opcode||!function a(t,e){if(t===e)return 1;if(h.isArray(t)&&h.isArray(e)&&t.length===e.length){for(var i=0;i<t.length;i++){if(!a(t[i],e[i]))return;}return 1;}}(n.args,s.args))return!1;}for(e=this.children.length,i=0;i<e;i++){if(!this.children[i].equals(t.children[i]))return!1;}return!0;},guid:0,compile:function compile(t,e){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[];var i=e.knownHelpers;if(e.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},i)for(var n in i){n in i&&(e.knownHelpers[n]=i[n]);}return this.accept(t);},compileProgram:function compileProgram(t){var t=new this.compiler().compile(t,this.options),e=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[e]=t,this.useDepths=this.useDepths||t.useDepths,e;},accept:function accept(t){this.sourceNode.unshift(t);t=this[t.type](t);return this.sourceNode.shift(),t;},Program:function Program(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,i=e.length,n=0;n<i;n++){this.accept(e[n]);}return this.options.blockParams.shift(),this.isSimple=1===i,this.blockParams=t.blockParams?t.blockParams.length:0,this;},BlockStatement:function BlockStatement(t){o(t);var e=t.program,i=t.inverse,e=e&&this.compileProgram(e),i=i&&this.compileProgram(i),n=this.classifySexpr(t);"helper"===n?this.helperSexpr(t,e,i):"simple"===n?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,i),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append");},PartialStatement:function PartialStatement(t){this.usePartial=!0;var e=t.params;if(1<e.length)throw new l.default("Unsupported number of partial arguments: "+e.length,t);e.length||e.push({type:"PathExpression",parts:[],depth:0});var e=t.name.original,i="SubExpression"===t.name.type,t=(i&&this.accept(t.name),this.setupFullMustacheParams(t,void 0,void 0,!0),t.indent||"");this.options.preventIndent&&t&&(this.opcode("appendContent",t),t=""),this.opcode("invokePartial",i,e,t),this.opcode("append");},MustacheStatement:function MustacheStatement(t){this.SubExpression(t),this.opcode(t.escaped&&!this.options.noEscape?"appendEscaped":"append");},ContentStatement:function ContentStatement(t){t.value&&this.opcode("appendContent",t.value);},CommentStatement:function CommentStatement(){},SubExpression:function SubExpression(t){o(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t);},ambiguousSexpr:function ambiguousSexpr(t,e,i){var t=t.path,n=t.parts[0],s=null!=e||null!=i;this.opcode("getContext",t.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.accept(t),this.opcode("invokeAmbiguous",n,s);},simpleSexpr:function simpleSexpr(t){this.accept(t.path),this.opcode("resolvePossibleLambda");},helperSexpr:function helperSexpr(t,e,i){var e=this.setupFullMustacheParams(t,e,i),i=t.path,n=i.parts[0];if(this.options.knownHelpers[n])this.opcode("invokeKnownHelper",e.length,n);else{if(this.options.knownHelpersOnly)throw new l.default("You specified knownHelpersOnly, but used the unknown helper "+n,t);i.falsy=!0,this.accept(i),this.opcode("invokeHelper",e.length,i.original,c.default.helpers.simpleId(i));}},PathExpression:function PathExpression(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],i=c.default.helpers.scopedId(t),n=!t.depth&&!i&&this.blockParamIndex(e);n?this.opcode("lookupBlockParam",n,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts)):this.opcode("lookupOnContext",t.parts,t.falsy,i):this.opcode("pushContext");},StringLiteral:function StringLiteral(t){this.opcode("pushString",t.value);},NumberLiteral:function NumberLiteral(t){this.opcode("pushLiteral",t.value);},BooleanLiteral:function BooleanLiteral(t){this.opcode("pushLiteral",t.value);},UndefinedLiteral:function UndefinedLiteral(){this.opcode("pushLiteral","undefined");},NullLiteral:function NullLiteral(){this.opcode("pushLiteral","null");},Hash:function Hash(t){var e=t.pairs,i=0,n=e.length;for(this.opcode("pushHash");i<n;i++){this.pushParam(e[i].value);}for(;i--;){this.opcode("assignToHash",e[i].key);}this.opcode("popHash");},opcode:function opcode(t){this.opcodes.push({opcode:t,args:u.call(arguments,1),loc:this.sourceNode[0].loc});},addDepth:function addDepth(t){t&&(this.useDepths=!0);},classifySexpr:function classifySexpr(t){var e=c.default.helpers.simpleId(t.path),i=e&&!!this.blockParamIndex(t.path.parts[0]),n=!i&&c.default.helpers.helperExpression(t),i=!i&&(n||e);return i&&!n&&(e=t.path.parts[0],(t=this.options).knownHelpers[e]?n=!0:t.knownHelpersOnly&&(i=!1)),n?"helper":i?"ambiguous":"simple";},pushParams:function pushParams(t){for(var e=0,i=t.length;e<i;e++){this.pushParam(t[e]);}},pushParam:function pushParam(t){var e,i,n=null!=t.value?t.value:t.original||"";this.stringParams?(n.replace&&(n=n.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",n,t.type),"SubExpression"===t.type&&this.accept(t)):(this.trackIds&&(e=void 0,(e=!t.parts||c.default.helpers.scopedId(t)||t.depth?e:this.blockParamIndex(t.parts[0]))?(i=t.parts.slice(1).join("."),this.opcode("pushId","BlockParam",e,i)):((n=t.original||n).replace&&(n=n.replace(/^\.\//g,"").replace(/^\.$/g,"")),this.opcode("pushId",t.type,n))),this.accept(t));},setupFullMustacheParams:function setupFullMustacheParams(t,e,i,n){var s=t.params;return this.pushParams(s),this.opcode("pushProgram",e),this.opcode("pushProgram",i),t.hash?this.accept(t.hash):this.opcode("emptyHash",n),s;},blockParamIndex:function blockParamIndex(t){for(var e=0,i=this.options.blockParams.length;e<i;e++){var n=this.options.blockParams[e],s=n&&h.indexOf(n,t);if(n&&0<=s)return[e,s];}}};},function(t,e,n){"use strict";function i(t){this.value=t;}function r(){}var s=n(8).default,o=(e.__esModule=!0,n(9)),u=s(n(11)),a=n(12),l=s(n(17));r.prototype={nameLookup:function nameLookup(t,e){return r.isValidJavaScriptVariableName(e)?[t,".",e]:[t,"['",e,"']"];},depthedLookup:function depthedLookup(t){return[this.aliasable("this.lookup"),'(depths, "',t,'")'];},compilerInfo:function compilerInfo(){var t=o.COMPILER_REVISION;return[t,o.REVISION_CHANGES[t]];},appendToBuffer:function appendToBuffer(t,e,i){return a.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:i?["buffer += ",t,";"]:(t.appendToBuffer=!0,t);},initializeBuffer:function initializeBuffer(){return this.quotedString("");},compile:function compile(t,e,i,n){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!n,this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;for(var s,o=t.opcodes,a=void 0,r=void 0,l=void 0,r=0,l=o.length;r<l;r++){s=o[r],this.source.currentLocation=s.loc,a=a||s.loc,this[s.opcode].apply(this,s.args);}if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new u.default("Compile completed with content left on stack");i=this.createFunctionContext(n);if(this.isChild)return i;var h={compiler:this.compilerInfo(),main:i},c=this.context.programs;for(r=0,l=c.length;r<l;r++){c[r]&&(h[r]=c[r]);}return this.environment.usePartial&&(h.usePartial=!0),this.options.data&&(h.useData=!0),this.useDepths&&(h.useDepths=!0),this.useBlockParams&&(h.useBlockParams=!0),this.options.compat&&(h.compat=!0),n?h.compilerOptions=this.options:(h.compiler=JSON.stringify(h.compiler),this.source.currentLocation={start:{line:1,column:0}},h=this.objectLiteral(h),e.srcName?(h=h.toStringWithSourceMap({file:e.destName})).map=h.map&&h.map.toString():h=h.toString()),h;},preamble:function preamble(){this.lastContext=0,this.source=new l.default(this.options.srcName);},createFunctionContext:function createFunctionContext(t){var e,i="",n=this.stackVars.concat(this.registers.list),s=(0<n.length&&(i+=", "+n.join(", ")),0);for(e in this.aliases){var o=this.aliases[e];this.aliases.hasOwnProperty(e)&&o.children&&1<o.referenceCount&&(i+=", alias"+ ++s+"="+e,o.children[0]="alias"+s);}var n=["depth0","helpers","partials","data"],a=((this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),this.mergeSource(i));return t?(n.push(a),Function.apply(this,n)):this.source.wrap(["function(",n.join(","),") {\n  ",a,"}"]);},mergeSource:function mergeSource(t){var e=this.environment.isSimple,i=!this.forceBuffer,n=void 0,s=void 0,o=void 0,a=void 0;return this.source.each(function(t){t.appendToBuffer?(o?t.prepend("  + "):o=t,a=t):(o&&(s?o.prepend("buffer += "):n=!0,a.add(";"),o=a=void 0),s=!0,e||(i=!1));}),i?o?(o.prepend("return "),a.add(";")):s||this.source.push('return "";'):(t+=", buffer = "+(n?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(n?"":";\n")),this.source.merge();},blockValue:function blockValue(t){var e=this.aliasable("helpers.blockHelperMissing"),i=[this.contextName(0)],t=(this.setupHelperArgs(t,0,i),this.popStack());i.splice(1,0,t),this.push(this.source.functionCall(e,"call",i));},ambiguousBlockValue:function ambiguousBlockValue(){var t=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)],i=(this.setupHelperArgs("",0,e,!0),this.flushInline(),this.topStack());e.splice(1,0,i),this.pushSource(["if (!",this.lastHelper,") { ",i," = ",this.source.functionCall(t,"call",e),"}"]);},appendContent:function appendContent(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t;},append:function append(){var t;this.isInline()?(this.replaceStack(function(t){return[" != null ? ",t,' : ""'];}),this.pushSource(this.appendToBuffer(this.popStack()))):(t=this.popStack(),this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"]));},appendEscaped:function appendEscaped(){this.pushSource(this.appendToBuffer([this.aliasable("this.escapeExpression"),"(",this.popStack(),")"]));},getContext:function getContext(t){this.lastContext=t;},pushContext:function pushContext(){this.pushStackLiteral(this.contextName(this.lastContext));},lookupOnContext:function lookupOnContext(t,e,i){var n=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[n++])),this.resolvePath("context",t,n,e);},lookupBlockParam:function lookupBlockParam(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1);},lookupData:function lookupData(t,e){this.pushStackLiteral(t?"this.data(data, "+t+")":"data"),this.resolvePath("data",e,0,!0);},resolvePath:function resolvePath(i,n,s,o){var a=this;if(this.options.strict||this.options.assumeObjects)this.push(function(t,e,i,n){var s=e.popStack(),o=0,a=i.length;for(t&&a--;o<a;o++){s=e.nameLookup(s,i[o],n);}return t?[e.aliasable("this.strict"),"(",s,", ",e.quotedString(i[o]),")"]:s;}(this.options.strict,this,n,i));else for(var t=n.length;s<t;s++){this.replaceStack(function(t){var e=a.nameLookup(t,n[s],i);return o?[" && ",e]:[" != null ? ",e," : ",t];});}},resolvePossibleLambda:function resolvePossibleLambda(){this.push([this.aliasable("this.lambda"),"(",this.popStack(),", ",this.contextName(0),")"]);},pushStringParam:function pushStringParam(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t));},emptyHash:function emptyHash(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}");},pushHash:function pushHash(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]};},popHash:function popHash(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values));},pushString:function pushString(t){this.pushStackLiteral(this.quotedString(t));},pushLiteral:function pushLiteral(t){this.pushStackLiteral(t);},pushProgram:function pushProgram(t){this.pushStackLiteral(null!=t?this.programExpression(t):null);},invokeHelper:function invokeHelper(t,e,i){var n=this.popStack(),t=this.setupHelper(t,e),e=i?[t.name," || "]:"",i=["("].concat(e,n);this.options.strict||i.push(" || ",this.aliasable("helpers.helperMissing")),i.push(")"),this.push(this.source.functionCall(i,"call",t.callParams));},invokeKnownHelper:function invokeKnownHelper(t,e){t=this.setupHelper(t,e);this.push(this.source.functionCall(t.name,"call",t.callParams));},invokeAmbiguous:function invokeAmbiguous(t,e){this.useRegister("helper");var i=this.popStack(),e=(this.emptyHash(),this.setupHelper(0,t,e)),t=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",t,"helper")," || ",i,")"];this.options.strict||(t[0]="(helper = ",t.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",t,e.paramsInit?["),(",e.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",e.callParams)," : helper))"]);},invokePartial:function invokePartial(t,e,i){var n=[],s=this.setupParams(e,1,n,!1);t&&(e=this.popStack(),delete s.name),i&&(s.indent=JSON.stringify(i)),s.helpers="helpers",s.partials="partials",n.unshift(t?e:this.nameLookup("partials",e,"partial")),this.options.compat&&(s.depths="depths"),s=this.objectLiteral(s),n.push(s),this.push(this.source.functionCall("this.invokePartial","",n));},assignToHash:function assignToHash(t){var e=this.popStack(),i=void 0,n=void 0,s=void 0,o=(this.trackIds&&(s=this.popStack()),this.stringParams&&(n=this.popStack(),i=this.popStack()),this.hash);i&&(o.contexts[t]=i),n&&(o.types[t]=n),s&&(o.ids[t]=s),o.values[t]=e;},pushId:function pushId(t,e,i){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(i?" + "+JSON.stringify("."+i):"")):"PathExpression"===t?this.pushString(e):this.pushStackLiteral("SubExpression"===t?"true":"null");},compiler:r,compileChildren:function compileChildren(t,e){for(var i=t.children,n=void 0,s=void 0,o=0,a=i.length;o<a;o++){var n=i[o],s=new this.compiler(),r=this.matchExistingProgram(n);null==r?(this.context.programs.push(""),r=this.context.programs.length,n.index=r,n.name="program"+r,this.context.programs[r]=s.compile(n,e,this.context,!this.precompile),this.context.environments[r]=n,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams):(n.index=r,n.name="program"+r,this.useDepths=this.useDepths||n.useDepths,this.useBlockParams=this.useBlockParams||n.useBlockParams);}},matchExistingProgram:function matchExistingProgram(t){for(var e=0,i=this.context.environments.length;e<i;e++){var n=this.context.environments[e];if(n&&n.equals(t))return e;}},programExpression:function programExpression(t){t=this.environment.children[t],t=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&t.push("blockParams"),this.useDepths&&t.push("depths"),"this.program("+t.join(", ")+")";},useRegister:function useRegister(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t));},push:function push(t){return t instanceof i||(t=this.source.wrap(t)),this.inlineStack.push(t),t;},pushStackLiteral:function pushStackLiteral(t){this.push(new i(t));},pushSource:function pushSource(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t);},replaceStack:function replaceStack(t){var e=["("],n=void 0,s=void 0,o=void 0;if(!this.isInline())throw new u.default("replaceStack on non-inline");var a=this.popStack(!0),r=(a instanceof i?(e=["(",n=[a.value]],o=!0):(s=!0,r=this.incrStack(),e=["((",this.push(r)," = ",a,")"],n=this.topStack()),t.call(this,n));o||this.popStack(),s&&this.stackSlot--,this.push(e.concat(r,")"));},incrStack:function incrStack(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName();},topStackName:function topStackName(){return"stack"+this.stackSlot;},flushInline:function flushInline(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,n=t.length;e<n;e++){var s,o=t[e];o instanceof i?this.compileStack.push(o):(s=this.incrStack(),this.pushSource([s," = ",o,";"]),this.compileStack.push(s));}},isInline:function isInline(){return this.inlineStack.length;},popStack:function popStack(t){var e=this.isInline(),n=(e?this.inlineStack:this.compileStack).pop();if(!t&&n instanceof i)return n.value;if(!e){if(!this.stackSlot)throw new u.default("Invalid stack pop");this.stackSlot--;}return n;},topStack:function topStack(){var t=this.isInline()?this.inlineStack:this.compileStack,t=t[t.length-1];return t instanceof i?t.value:t;},contextName:function contextName(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t;},quotedString:function quotedString(t){return this.source.quotedString(t);},objectLiteral:function objectLiteral(t){return this.source.objectLiteral(t);},aliasable:function aliasable(t){var e=this.aliases[t];return e?e.referenceCount++:((e=this.aliases[t]=this.source.wrap(t)).aliasable=!0,e.referenceCount=1),e;},setupHelper:function setupHelper(t,e,i){var n=[];return{params:n,paramsInit:this.setupHelperArgs(e,t,n,i),name:this.nameLookup("helpers",e,"helper"),callParams:[this.contextName(0)].concat(n)};},setupParams:function setupParams(t,e,i){var n,s={},o=[],a=[],r=[],t=(s.name=this.quotedString(t),s.hash=this.popStack(),this.trackIds&&(s.hashIds=this.popStack()),this.stringParams&&(s.hashTypes=this.popStack(),s.hashContexts=this.popStack()),this.popStack()),l=this.popStack();(l||t)&&(s.fn=l||"this.noop",s.inverse=t||"this.noop");for(var h=e;h--;){n=this.popStack(),i[h]=n,this.trackIds&&(r[h]=this.popStack()),this.stringParams&&(a[h]=this.popStack(),o[h]=this.popStack());}return this.trackIds&&(s.ids=this.source.generateArray(r)),this.stringParams&&(s.types=this.source.generateArray(a),s.contexts=this.source.generateArray(o)),this.options.data&&(s.data="data"),this.useBlockParams&&(s.blockParams="blockParams"),s;},setupHelperArgs:function setupHelperArgs(t,e,i,n){t=this.setupParams(t,e,i,!0),t=this.objectLiteral(t);return n?(this.useRegister("options"),i.push("options"),["options=",t]):(i.push(t),"");}};for(var h="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),c=r.RESERVED_WORDS={},d=0,p=h.length;d<p;d++){c[h[d]]=!0;}r.isValidJavaScriptVariableName=function(t){return!r.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t);},e.default=r,t.exports=e.default;},function(t,e,n){"use strict";function i(){this.parents=[];}var s=n(8).default;e.__esModule=!0;var o=s(n(11)),a=s(n(2));i.prototype={constructor:i,mutating:!1,acceptKey:function acceptKey(t,e){var i=this.accept(t[e]);if(this.mutating){if(i&&(!i.type||!a.default[i.type]))throw new o.default('Unexpected node type "'+i.type+'" found when accepting '+e+" on "+t.type);t[e]=i;}},acceptRequired:function acceptRequired(t,e){if(this.acceptKey(t,e),!t[e])throw new o.default(t.type+" requires "+e);},acceptArray:function acceptArray(t){for(var e=0,i=t.length;e<i;e++){this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,i--);}},accept:function accept(t){var e;if(t)return this.current&&this.parents.unshift(this.current),this.current=t,e=this[t.type](t),this.current=this.parents.shift(),!this.mutating||e?e:!1!==e?t:void 0;},Program:function Program(t){this.acceptArray(t.body);},MustacheStatement:function MustacheStatement(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash");},BlockStatement:function BlockStatement(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash"),this.acceptKey(t,"program"),this.acceptKey(t,"inverse");},PartialStatement:function PartialStatement(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash");},ContentStatement:function ContentStatement(){},CommentStatement:function CommentStatement(){},SubExpression:function SubExpression(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash");},PathExpression:function PathExpression(){},StringLiteral:function StringLiteral(){},NumberLiteral:function NumberLiteral(){},BooleanLiteral:function BooleanLiteral(){},UndefinedLiteral:function UndefinedLiteral(){},NullLiteral:function NullLiteral(){},Hash:function Hash(t){this.acceptArray(t.pairs);},HashPair:function HashPair(t){this.acceptRequired(t,"value");}},e.default=i,t.exports=e.default;},function(t,e){!function(n){"use strict";e.__esModule=!0,e.default=function(t){var e=void 0!==n?n:window,i=e.Handlebars;t.noConflict=function(){e.Handlebars===t&&(e.Handlebars=i);};},t.exports=e.default;}.call(e,function(){return this;}());},function(t,e){"use strict";e.default=function(t){return t&&t.__esModule?t:{default:t};},e.__esModule=!0;},function(t,e,o){"use strict";function i(t,e){var o;this.helpers=t||{},this.partials=e||{},(o=this).registerHelper("helperMissing",function(){if(1!==arguments.length)throw new f.default('Missing helper: "'+arguments[arguments.length-1].name+'"');}),o.registerHelper("blockHelperMissing",function(t,e){var i=e.inverse,s=e.fn;return!0===t?s(this):!1===t||null==t?i(this):m(t)?0<t.length?(e.ids&&(e.ids=[e.name]),o.helpers.each(t,e)):i(this):(e.data&&e.ids&&((i=n(e.data)).contextPath=p.appendContextPath(e.data.contextPath,e.name),e={data:i}),s(t,e));}),o.registerHelper("each",function(o,t){function s(t,e,i){l&&(l.key=t,l.index=e,l.first=0===e,l.last=!!i,h&&(l.contextPath=h+t)),r+=a(o[t],{data:l,blockParams:p.blockParams([o[t],t],[h+t,null])});}if(!t)throw new f.default("Must pass iterator to #each");var a=t.fn,e=t.inverse,i=0,r="",l=void 0,h=void 0;if(t.data&&t.ids&&(h=p.appendContextPath(t.data.contextPath,t.ids[0])+"."),g(o)&&(o=o.call(this)),t.data&&(l=n(t.data)),o&&"object"==(typeof o==="undefined"?"undefined":_typeof(o)))if(m(o))for(var c=o.length;i<c;i++){s(i,i,i===o.length-1);}else{var u,d=void 0;for(u in o){o.hasOwnProperty(u)&&(d&&s(d,i-1),d=u,i++);}d&&s(d,i-1,!0);}return r=0===i?e(this):r;}),o.registerHelper("if",function(t,e){return g(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||p.isEmpty(t)?e.inverse(this):e.fn(this);}),o.registerHelper("unless",function(t,e){return o.helpers.if.call(this,t,{fn:e.inverse,inverse:e.fn,hash:e.hash});}),o.registerHelper("with",function(t,e){g(t)&&(t=t.call(this));var i,s=e.fn;return p.isEmpty(t)?e.inverse(this):(e.data&&e.ids&&((i=n(e.data)).contextPath=p.appendContextPath(e.data.contextPath,e.ids[0]),e={data:i}),s(t,e));}),o.registerHelper("log",function(t,e){e=e.data&&null!=e.data.level?parseInt(e.data.level,10):1;o.log(e,t);}),o.registerHelper("lookup",function(t,e){return t&&t[e];});}function n(t){var e=p.extend({},t);return e._parent=t,e;}var a=o(8).default;e.__esModule=!0,e.HandlebarsEnvironment=i,e.createFrame=n;var p=a(o(12)),f=a(o(11)),m=(e.VERSION="3.0.1",e.COMPILER_REVISION=6,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"},p.isArray),g=p.isFunction,r=p.toString,l="[object Object]",h=(i.prototype={constructor:i,logger:h,log:void 0,registerHelper:function registerHelper(t,e){if(r.call(t)===l){if(e)throw new f.default("Arg not supported with multiple helpers");p.extend(this.helpers,t);}else this.helpers[t]=e;},unregisterHelper:function unregisterHelper(t){delete this.helpers[t];},registerPartial:function registerPartial(t,e){if(r.call(t)===l)p.extend(this.partials,t);else{if(void 0===e)throw new f.default("Attempting to register a partial as undefined");this.partials[t]=e;}},unregisterPartial:function unregisterPartial(t){delete this.partials[t];}},{methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function log(t,e){"undefined"!=typeof console&&h.level<=t&&(t=h.methodMap[t],(console[t]||console.log).call(console,e));}}),a=(e.logger=h).log;e.log=a;},function(t,e){"use strict";function s(t){this.string=t;}e.__esModule=!0,s.prototype.toString=s.prototype.toHTML=function(){return""+this.string;},e.default=s,t.exports=e.default;},function(t,e){"use strict";function s(t,e){var e=e&&e.loc,i=void 0,n=void 0;e&&(t+=" - "+(i=e.start.line)+":"+(n=e.start.column));for(var o=Error.prototype.constructor.call(this,t),a=0;a<r.length;a++){this[r[a]]=o[r[a]];}Error.captureStackTrace&&Error.captureStackTrace(this,s),e&&(this.lineNumber=i,this.column=n);}e.__esModule=!0;var r=["description","fileName","lineNumber","message","name","number","stack"];s.prototype=new Error(),e.default=s,t.exports=e.default;},function(t,e){"use strict";function s(t){return i[t];}e.__esModule=!0,e.extend=function(t){for(var e=1;e<arguments.length;e++){for(var i in arguments[e]){Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);}}return t;},e.indexOf=function(t,e){for(var i=0,n=t.length;i<n;i++){if(t[i]===e)return i;}return-1;},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t;}return o.test(t)?t.replace(n,s):t;},e.isEmpty=function(t){return!t&&0!==t||!(!l(t)||0!==t.length);},e.blockParams=function(t,e){return t.path=e,t;},e.appendContextPath=function(t,e){return(t?t+".":"")+e;};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/[&<>"'`]/g,o=/[&<>"'`]/,a=Object.prototype.toString,r=(e.toString=a,function(t){return"function"==typeof t;}),l=(r(/x/)&&(e.isFunction=r=function r(t){return"function"==typeof t&&"[object Function]"===a.call(t);}),e.isFunction=r,Array.isArray||function(t){return!(!t||"object"!=(typeof t==="undefined"?"undefined":_typeof(t)))&&"[object Array]"===a.call(t);});e.isArray=l;},function(t,e,s){"use strict";function n(i,t,n,s,e,a,r){function o(t){var e=void 0===arguments[1]?{}:arguments[1];return n.call(i,t,i.helpers,i.partials,e.data||s,a&&[e.blockParams].concat(a),r&&[t].concat(r));}return o.program=t,o.depth=r?r.length:0,o.blockParams=e||0,o;}var o=s(8).default;e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,i=u.COMPILER_REVISION;if(e!==i){if(e<i)throw i=u.REVISION_CHANGES[i],e=u.REVISION_CHANGES[e],new c.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+e+").");throw new c.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").");}},e.template=function(r,l){function i(t){var e=void 0===arguments[1]?{}:arguments[1],n=e.data,s=(i._setup(e),!e.partial&&r.useData&&(s=t,(o=n)&&"root"in o||((o=o?u.createFrame(o):{}).root=s),n=o),void 0),o=r.useBlockParams?[]:void 0;return r.useDepths&&(s=e.depths?[t].concat(e.depths):[t]),r.main.call(a,t,a.helpers,a.partials,n,o,s);}if(!l)throw new c.default("No environment passed to template");if(!r||!r.main)throw new c.default("Unknown template object: "+(typeof r==="undefined"?"undefined":_typeof(r)));l.VM.checkRevision(r.compiler);var a={strict:function strict(t,e){if(e in t)return t[e];throw new c.default('"'+e+'" not defined in '+t);},lookup:function lookup(t,e){for(var i=t.length,n=0;n<i;n++){if(t[n]&&null!=t[n][e])return t[n][e];}},lambda:function lambda(t,e){return"function"==typeof t?t.call(e):t;},escapeExpression:h.escapeExpression,invokePartial:function invokePartial(t,e,i){i.hash&&(e=h.extend({},e,i.hash)),t=l.VM.resolvePartial.call(this,t,e,i);var n=l.VM.invokePartial.call(this,t,e,i);if(null==n&&l.compile&&(i.partials[i.name]=l.compile(t,r.compilerOptions,l),n=i.partials[i.name](e,i)),null==n)throw new c.default("The partial "+i.name+" could not be compiled when running in runtime-only mode");if(i.indent){for(var s=n.split("\n"),o=0,a=s.length;o<a&&(s[o]||o+1!==a);o++){s[o]=i.indent+s[o];}n=s.join("\n");}return n;},fn:function fn(t){return r[t];},programs:[],program:function program(t,e,i,s,o){var a=this.programs[t],r=this.fn(t);return a=e||o||s||i?n(this,t,r,e,i,s,o):a||(this.programs[t]=n(this,t,r));},data:function data(t,e){for(;t&&e--;){t=t._parent;}return t;},merge:function merge(t,e){var i=t||e;return i=t&&e&&t!==e?h.extend({},e,t):i;},noop:l.VM.noop,compilerInfo:r.compiler};return i.isTop=!0,i._setup=function(t){t.partial?(a.helpers=t.helpers,a.partials=t.partials):(a.helpers=a.merge(t.helpers,l.helpers),r.usePartial&&(a.partials=a.merge(t.partials,l.partials)));},i._child=function(t,e,i,s){if(r.useBlockParams&&!i)throw new c.default("must pass block params");if(r.useDepths&&!s)throw new c.default("must pass parent depths");return n(a,t,r[t],e,0,i,s);},i;},e.wrapProgram=n,e.resolvePartial=function(t,e,i){return t?t.call||i.name||(i.name=t,t=i.partials[t]):t=i.partials[i.name],t;},e.invokePartial=function(t,e,i){if(i.partial=!0,void 0===t)throw new c.default("The partial "+i.name+" could not be found");return t instanceof Function?t(e,i):void 0;},e.noop=function(){return"";};var h=o(s(12)),c=o(s(11)),u=s(9);},function(e,i){"use strict";i.__esModule=!0;s={EOF:1,parseError:function parseError(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e);},setInput:function setInput(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this;},input:function input(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t;},unput:function unput(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g),t=(this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e,this.match.split(/(?:\r\n?|\n)/g)),n=(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1),this.yylloc.range);return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===t.length?this.yylloc.first_column:0)+t[t.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-e]),this;},more:function more(){return this._more=!0,this;},less:function less(t){this.unput(this.match.slice(t));},pastInput:function pastInput(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(20<t.length?"...":"")+t.substr(-20).replace(/\n/g,"");},upcomingInput:function upcomingInput(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(20<t.length?"...":"")).replace(/\n/g,"");},showPosition:function showPosition(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^";},next:function next(){if(this.done)return this.EOF;var t,e,i,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),o=0;o<s.length&&(!(e=this._input.match(this.rules[s[o]]))||t&&!(e[0].length>t[0].length)||(t=e,i=o,this.options.flex));o++){}return t?((n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,s[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});},lex:function lex(){var t=this.next();return void 0!==t?t:this.lex();},begin:function begin(t){this.conditionStack.push(t);},popState:function popState(){return this.conditionStack.pop();},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;},topState:function topState(){return this.conditionStack[this.conditionStack.length-2];},pushState:function pushState(t){this.begin(t);},options:{},performAction:function performAction(t,i,e,n){function r(t,e){return i.yytext=i.yytext.substr(t,i.yyleng-e);}switch(e){case 0:if("\\\\"===i.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===i.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),i.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return i.yytext=i.yytext.substr(5,i.yyleng-9),this.popState(),16;case 4:return 14;case 5:return this.popState(),13;case 6:return 59;case 7:return 62;case 8:return 17;case 9:return this.popState(),this.begin("raw"),21;case 10:return 53;case 11:return 27;case 12:return 45;case 13:case 14:return this.popState(),42;case 15:return 32;case 16:return 37;case 17:return 49;case 18:return 46;case 19:this.unput(i.yytext),this.popState(),this.begin("com");break;case 20:return this.popState(),13;case 21:return 46;case 22:return 67;case 23:case 24:return 66;case 25:return 81;case 26:break;case 27:return this.popState(),52;case 28:return this.popState(),31;case 29:return i.yytext=r(1,2).replace(/\\"/g,'"'),74;case 30:return i.yytext=r(1,2).replace(/\\'/g,"'"),74;case 31:return 79;case 32:case 33:return 76;case 34:return 77;case 35:return 78;case 36:return 75;case 37:return 69;case 38:return 71;case 39:case 40:return 66;case 41:return"INVALID";case 42:return 5;}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42],inclusive:!(n={trace:function trace(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,content:12,COMMENT:13,CONTENT:14,openRawBlock:15,END_RAW_BLOCK:16,OPEN_RAW_BLOCK:17,helperName:18,openRawBlock_repetition0:19,openRawBlock_option0:20,CLOSE_RAW_BLOCK:21,openBlock:22,block_option0:23,closeBlock:24,openInverse:25,block_option1:26,OPEN_BLOCK:27,openBlock_repetition0:28,openBlock_option0:29,openBlock_option1:30,CLOSE:31,OPEN_INVERSE:32,openInverse_repetition0:33,openInverse_option0:34,openInverse_option1:35,openInverseChain:36,OPEN_INVERSE_CHAIN:37,openInverseChain_repetition0:38,openInverseChain_option0:39,openInverseChain_option1:40,inverseAndProgram:41,INVERSE:42,inverseChain:43,inverseChain_option0:44,OPEN_ENDBLOCK:45,OPEN:46,mustache_repetition0:47,mustache_option0:48,OPEN_UNESCAPED:49,mustache_repetition1:50,mustache_option1:51,CLOSE_UNESCAPED:52,OPEN_PARTIAL:53,partialName:54,partial_repetition0:55,partial_option0:56,param:57,sexpr:58,OPEN_SEXPR:59,sexpr_repetition0:60,sexpr_option0:61,CLOSE_SEXPR:62,hash:63,hash_repetition_plus0:64,hashSegment:65,ID:66,EQUALS:67,blockParams:68,OPEN_BLOCK_PARAMS:69,blockParams_repetition_plus0:70,CLOSE_BLOCK_PARAMS:71,path:72,dataName:73,STRING:74,NUMBER:75,BOOLEAN:76,UNDEFINED:77,NULL:78,DATA:79,pathSegments:80,SEP:81,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",13:"COMMENT",14:"CONTENT",16:"END_RAW_BLOCK",17:"OPEN_RAW_BLOCK",21:"CLOSE_RAW_BLOCK",27:"OPEN_BLOCK",31:"CLOSE",32:"OPEN_INVERSE",37:"OPEN_INVERSE_CHAIN",42:"INVERSE",45:"OPEN_ENDBLOCK",46:"OPEN",49:"OPEN_UNESCAPED",52:"CLOSE_UNESCAPED",53:"OPEN_PARTIAL",59:"OPEN_SEXPR",62:"CLOSE_SEXPR",66:"ID",67:"EQUALS",69:"OPEN_BLOCK_PARAMS",71:"CLOSE_BLOCK_PARAMS",74:"STRING",75:"NUMBER",76:"BOOLEAN",77:"UNDEFINED",78:"NULL",79:"DATA",81:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[12,1],[10,3],[15,5],[9,4],[9,4],[22,6],[25,6],[36,6],[41,2],[43,3],[43,1],[24,3],[8,5],[8,5],[11,5],[57,1],[57,1],[58,5],[63,1],[65,3],[68,3],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[54,1],[54,1],[73,2],[72,1],[80,3],[80,1],[6,0],[6,2],[19,0],[19,2],[20,0],[20,1],[23,0],[23,1],[26,0],[26,1],[28,0],[28,2],[29,0],[29,1],[30,0],[30,1],[33,0],[33,2],[34,0],[34,1],[35,0],[35,1],[38,0],[38,2],[39,0],[39,1],[40,0],[40,1],[44,0],[44,1],[47,0],[47,2],[48,0],[48,1],[50,0],[50,2],[51,0],[51,1],[55,0],[55,2],[56,0],[56,1],[60,0],[60,2],[61,0],[61,1],[64,1],[64,2],[70,1],[70,2]],performAction:function performAction(t,e,i,n,s,o){var a=o.length-1;switch(s){case 1:return o[a-1];case 2:this.$=new n.Program(o[a],null,{},n.locInfo(this._$));break;case 3:case 4:case 5:case 6:case 7:this.$=o[a];break;case 8:this.$=new n.CommentStatement(n.stripComment(o[a]),n.stripFlags(o[a],o[a]),n.locInfo(this._$));break;case 9:this.$=new n.ContentStatement(o[a],n.locInfo(this._$));break;case 10:this.$=n.prepareRawBlock(o[a-2],o[a-1],o[a],this._$);break;case 11:this.$={path:o[a-3],params:o[a-2],hash:o[a-1]};break;case 12:this.$=n.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!1,this._$);break;case 13:this.$=n.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!0,this._$);break;case 14:case 15:case 16:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:n.stripFlags(o[a-5],o[a])};break;case 17:this.$={strip:n.stripFlags(o[a-1],o[a-1]),program:o[a]};break;case 18:var r=n.prepareBlock(o[a-2],o[a-1],o[a],o[a],!1,this._$),r=new n.Program([r],null,{},n.locInfo(this._$));r.chained=!0,this.$={strip:o[a-2].strip,program:r,chain:!0};break;case 19:this.$=o[a];break;case 20:this.$={path:o[a-1],strip:n.stripFlags(o[a-2],o[a])};break;case 21:case 22:this.$=n.prepareMustache(o[a-3],o[a-2],o[a-1],o[a-4],n.stripFlags(o[a-4],o[a]),this._$);break;case 23:this.$=new n.PartialStatement(o[a-3],o[a-2],o[a-1],n.stripFlags(o[a-4],o[a]),n.locInfo(this._$));break;case 24:case 25:this.$=o[a];break;case 26:this.$=new n.SubExpression(o[a-3],o[a-2],o[a-1],n.locInfo(this._$));break;case 27:this.$=new n.Hash(o[a],n.locInfo(this._$));break;case 28:this.$=new n.HashPair(n.id(o[a-2]),o[a],n.locInfo(this._$));break;case 29:this.$=n.id(o[a-1]);break;case 30:case 31:this.$=o[a];break;case 32:this.$=new n.StringLiteral(o[a],n.locInfo(this._$));break;case 33:this.$=new n.NumberLiteral(o[a],n.locInfo(this._$));break;case 34:this.$=new n.BooleanLiteral(o[a],n.locInfo(this._$));break;case 35:this.$=new n.UndefinedLiteral(n.locInfo(this._$));break;case 36:this.$=new n.NullLiteral(n.locInfo(this._$));break;case 37:case 38:this.$=o[a];break;case 39:this.$=n.preparePath(!0,o[a],this._$);break;case 40:this.$=n.preparePath(!1,o[a],this._$);break;case 41:o[a-2].push({part:n.id(o[a]),original:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 42:this.$=[{part:n.id(o[a]),original:o[a]}];break;case 43:this.$=[];break;case 44:o[a-1].push(o[a]);break;case 45:this.$=[];break;case 46:o[a-1].push(o[a]);break;case 53:this.$=[];break;case 54:o[a-1].push(o[a]);break;case 59:this.$=[];break;case 60:o[a-1].push(o[a]);break;case 65:this.$=[];break;case 66:o[a-1].push(o[a]);break;case 73:this.$=[];break;case 74:o[a-1].push(o[a]);break;case 77:this.$=[];break;case 78:o[a-1].push(o[a]);break;case 81:this.$=[];break;case 82:o[a-1].push(o[a]);break;case 85:this.$=[];break;case 86:o[a-1].push(o[a]);break;case 89:this.$=[o[a]];break;case 90:o[a-1].push(o[a]);break;case 91:this.$=[o[a]];break;case 92:o[a-1].push(o[a]);}},table:[{3:1,4:2,5:[2,43],6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],46:[2,43],49:[2,43],53:[2,43]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:[1,11],14:[1,18],15:16,17:[1,21],22:14,25:15,27:[1,19],32:[1,20],37:[2,2],42:[2,2],45:[2,2],46:[1,12],49:[1,13],53:[1,17]},{1:[2,1]},{5:[2,44],13:[2,44],14:[2,44],17:[2,44],27:[2,44],32:[2,44],37:[2,44],42:[2,44],45:[2,44],46:[2,44],49:[2,44],53:[2,44]},{5:[2,3],13:[2,3],14:[2,3],17:[2,3],27:[2,3],32:[2,3],37:[2,3],42:[2,3],45:[2,3],46:[2,3],49:[2,3],53:[2,3]},{5:[2,4],13:[2,4],14:[2,4],17:[2,4],27:[2,4],32:[2,4],37:[2,4],42:[2,4],45:[2,4],46:[2,4],49:[2,4],53:[2,4]},{5:[2,5],13:[2,5],14:[2,5],17:[2,5],27:[2,5],32:[2,5],37:[2,5],42:[2,5],45:[2,5],46:[2,5],49:[2,5],53:[2,5]},{5:[2,6],13:[2,6],14:[2,6],17:[2,6],27:[2,6],32:[2,6],37:[2,6],42:[2,6],45:[2,6],46:[2,6],49:[2,6],53:[2,6]},{5:[2,7],13:[2,7],14:[2,7],17:[2,7],27:[2,7],32:[2,7],37:[2,7],42:[2,7],45:[2,7],46:[2,7],49:[2,7],53:[2,7]},{5:[2,8],13:[2,8],14:[2,8],17:[2,8],27:[2,8],32:[2,8],37:[2,8],42:[2,8],45:[2,8],46:[2,8],49:[2,8],53:[2,8]},{18:22,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:33,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{4:34,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],37:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{4:35,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{12:36,14:[1,18]},{18:38,54:37,58:39,59:[1,40],66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,9],13:[2,9],14:[2,9],16:[2,9],17:[2,9],27:[2,9],32:[2,9],37:[2,9],42:[2,9],45:[2,9],46:[2,9],49:[2,9],53:[2,9]},{18:41,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:42,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:43,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{31:[2,73],47:44,59:[2,73],66:[2,73],74:[2,73],75:[2,73],76:[2,73],77:[2,73],78:[2,73],79:[2,73]},{21:[2,30],31:[2,30],52:[2,30],59:[2,30],62:[2,30],66:[2,30],69:[2,30],74:[2,30],75:[2,30],76:[2,30],77:[2,30],78:[2,30],79:[2,30]},{21:[2,31],31:[2,31],52:[2,31],59:[2,31],62:[2,31],66:[2,31],69:[2,31],74:[2,31],75:[2,31],76:[2,31],77:[2,31],78:[2,31],79:[2,31]},{21:[2,32],31:[2,32],52:[2,32],59:[2,32],62:[2,32],66:[2,32],69:[2,32],74:[2,32],75:[2,32],76:[2,32],77:[2,32],78:[2,32],79:[2,32]},{21:[2,33],31:[2,33],52:[2,33],59:[2,33],62:[2,33],66:[2,33],69:[2,33],74:[2,33],75:[2,33],76:[2,33],77:[2,33],78:[2,33],79:[2,33]},{21:[2,34],31:[2,34],52:[2,34],59:[2,34],62:[2,34],66:[2,34],69:[2,34],74:[2,34],75:[2,34],76:[2,34],77:[2,34],78:[2,34],79:[2,34]},{21:[2,35],31:[2,35],52:[2,35],59:[2,35],62:[2,35],66:[2,35],69:[2,35],74:[2,35],75:[2,35],76:[2,35],77:[2,35],78:[2,35],79:[2,35]},{21:[2,36],31:[2,36],52:[2,36],59:[2,36],62:[2,36],66:[2,36],69:[2,36],74:[2,36],75:[2,36],76:[2,36],77:[2,36],78:[2,36],79:[2,36]},{21:[2,40],31:[2,40],52:[2,40],59:[2,40],62:[2,40],66:[2,40],69:[2,40],74:[2,40],75:[2,40],76:[2,40],77:[2,40],78:[2,40],79:[2,40],81:[1,45]},{66:[1,32],80:46},{21:[2,42],31:[2,42],52:[2,42],59:[2,42],62:[2,42],66:[2,42],69:[2,42],74:[2,42],75:[2,42],76:[2,42],77:[2,42],78:[2,42],79:[2,42],81:[2,42]},{50:47,52:[2,77],59:[2,77],66:[2,77],74:[2,77],75:[2,77],76:[2,77],77:[2,77],78:[2,77],79:[2,77]},{23:48,36:50,37:[1,52],41:51,42:[1,53],43:49,45:[2,49]},{26:54,41:55,42:[1,53],45:[2,51]},{16:[1,56]},{31:[2,81],55:57,59:[2,81],66:[2,81],74:[2,81],75:[2,81],76:[2,81],77:[2,81],78:[2,81],79:[2,81]},{31:[2,37],59:[2,37],66:[2,37],74:[2,37],75:[2,37],76:[2,37],77:[2,37],78:[2,37],79:[2,37]},{31:[2,38],59:[2,38],66:[2,38],74:[2,38],75:[2,38],76:[2,38],77:[2,38],78:[2,38],79:[2,38]},{18:58,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{28:59,31:[2,53],59:[2,53],66:[2,53],69:[2,53],74:[2,53],75:[2,53],76:[2,53],77:[2,53],78:[2,53],79:[2,53]},{31:[2,59],33:60,59:[2,59],66:[2,59],69:[2,59],74:[2,59],75:[2,59],76:[2,59],77:[2,59],78:[2,59],79:[2,59]},{19:61,21:[2,45],59:[2,45],66:[2,45],74:[2,45],75:[2,45],76:[2,45],77:[2,45],78:[2,45],79:[2,45]},{18:65,31:[2,75],48:62,57:63,58:66,59:[1,40],63:64,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{66:[1,70]},{21:[2,39],31:[2,39],52:[2,39],59:[2,39],62:[2,39],66:[2,39],69:[2,39],74:[2,39],75:[2,39],76:[2,39],77:[2,39],78:[2,39],79:[2,39],81:[1,45]},{18:65,51:71,52:[2,79],57:72,58:66,59:[1,40],63:73,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{24:74,45:[1,75]},{45:[2,50]},{4:76,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],37:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{45:[2,19]},{18:77,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{4:78,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{24:79,45:[1,75]},{45:[2,52]},{5:[2,10],13:[2,10],14:[2,10],17:[2,10],27:[2,10],32:[2,10],37:[2,10],42:[2,10],45:[2,10],46:[2,10],49:[2,10],53:[2,10]},{18:65,31:[2,83],56:80,57:81,58:66,59:[1,40],63:82,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{59:[2,85],60:83,62:[2,85],66:[2,85],74:[2,85],75:[2,85],76:[2,85],77:[2,85],78:[2,85],79:[2,85]},{18:65,29:84,31:[2,55],57:85,58:66,59:[1,40],63:86,64:67,65:68,66:[1,69],69:[2,55],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:65,31:[2,61],34:87,57:88,58:66,59:[1,40],63:89,64:67,65:68,66:[1,69],69:[2,61],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:65,20:90,21:[2,47],57:91,58:66,59:[1,40],63:92,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{31:[1,93]},{31:[2,74],59:[2,74],66:[2,74],74:[2,74],75:[2,74],76:[2,74],77:[2,74],78:[2,74],79:[2,74]},{31:[2,76]},{21:[2,24],31:[2,24],52:[2,24],59:[2,24],62:[2,24],66:[2,24],69:[2,24],74:[2,24],75:[2,24],76:[2,24],77:[2,24],78:[2,24],79:[2,24]},{21:[2,25],31:[2,25],52:[2,25],59:[2,25],62:[2,25],66:[2,25],69:[2,25],74:[2,25],75:[2,25],76:[2,25],77:[2,25],78:[2,25],79:[2,25]},{21:[2,27],31:[2,27],52:[2,27],62:[2,27],65:94,66:[1,95],69:[2,27]},{21:[2,89],31:[2,89],52:[2,89],62:[2,89],66:[2,89],69:[2,89]},{21:[2,42],31:[2,42],52:[2,42],59:[2,42],62:[2,42],66:[2,42],67:[1,96],69:[2,42],74:[2,42],75:[2,42],76:[2,42],77:[2,42],78:[2,42],79:[2,42],81:[2,42]},{21:[2,41],31:[2,41],52:[2,41],59:[2,41],62:[2,41],66:[2,41],69:[2,41],74:[2,41],75:[2,41],76:[2,41],77:[2,41],78:[2,41],79:[2,41],81:[2,41]},{52:[1,97]},{52:[2,78],59:[2,78],66:[2,78],74:[2,78],75:[2,78],76:[2,78],77:[2,78],78:[2,78],79:[2,78]},{52:[2,80]},{5:[2,12],13:[2,12],14:[2,12],17:[2,12],27:[2,12],32:[2,12],37:[2,12],42:[2,12],45:[2,12],46:[2,12],49:[2,12],53:[2,12]},{18:98,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{36:50,37:[1,52],41:51,42:[1,53],43:100,44:99,45:[2,71]},{31:[2,65],38:101,59:[2,65],66:[2,65],69:[2,65],74:[2,65],75:[2,65],76:[2,65],77:[2,65],78:[2,65],79:[2,65]},{45:[2,17]},{5:[2,13],13:[2,13],14:[2,13],17:[2,13],27:[2,13],32:[2,13],37:[2,13],42:[2,13],45:[2,13],46:[2,13],49:[2,13],53:[2,13]},{31:[1,102]},{31:[2,82],59:[2,82],66:[2,82],74:[2,82],75:[2,82],76:[2,82],77:[2,82],78:[2,82],79:[2,82]},{31:[2,84]},{18:65,57:104,58:66,59:[1,40],61:103,62:[2,87],63:105,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{30:106,31:[2,57],68:107,69:[1,108]},{31:[2,54],59:[2,54],66:[2,54],69:[2,54],74:[2,54],75:[2,54],76:[2,54],77:[2,54],78:[2,54],79:[2,54]},{31:[2,56],69:[2,56]},{31:[2,63],35:109,68:110,69:[1,108]},{31:[2,60],59:[2,60],66:[2,60],69:[2,60],74:[2,60],75:[2,60],76:[2,60],77:[2,60],78:[2,60],79:[2,60]},{31:[2,62],69:[2,62]},{21:[1,111]},{21:[2,46],59:[2,46],66:[2,46],74:[2,46],75:[2,46],76:[2,46],77:[2,46],78:[2,46],79:[2,46]},{21:[2,48]},{5:[2,21],13:[2,21],14:[2,21],17:[2,21],27:[2,21],32:[2,21],37:[2,21],42:[2,21],45:[2,21],46:[2,21],49:[2,21],53:[2,21]},{21:[2,90],31:[2,90],52:[2,90],62:[2,90],66:[2,90],69:[2,90]},{67:[1,96]},{18:65,57:112,58:66,59:[1,40],66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,22],13:[2,22],14:[2,22],17:[2,22],27:[2,22],32:[2,22],37:[2,22],42:[2,22],45:[2,22],46:[2,22],49:[2,22],53:[2,22]},{31:[1,113]},{45:[2,18]},{45:[2,72]},{18:65,31:[2,67],39:114,57:115,58:66,59:[1,40],63:116,64:67,65:68,66:[1,69],69:[2,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,23],13:[2,23],14:[2,23],17:[2,23],27:[2,23],32:[2,23],37:[2,23],42:[2,23],45:[2,23],46:[2,23],49:[2,23],53:[2,23]},{62:[1,117]},{59:[2,86],62:[2,86],66:[2,86],74:[2,86],75:[2,86],76:[2,86],77:[2,86],78:[2,86],79:[2,86]},{62:[2,88]},{31:[1,118]},{31:[2,58]},{66:[1,120],70:119},{31:[1,121]},{31:[2,64]},{14:[2,11]},{21:[2,28],31:[2,28],52:[2,28],62:[2,28],66:[2,28],69:[2,28]},{5:[2,20],13:[2,20],14:[2,20],17:[2,20],27:[2,20],32:[2,20],37:[2,20],42:[2,20],45:[2,20],46:[2,20],49:[2,20],53:[2,20]},{31:[2,69],40:122,68:123,69:[1,108]},{31:[2,66],59:[2,66],66:[2,66],69:[2,66],74:[2,66],75:[2,66],76:[2,66],77:[2,66],78:[2,66],79:[2,66]},{31:[2,68],69:[2,68]},{21:[2,26],31:[2,26],52:[2,26],59:[2,26],62:[2,26],66:[2,26],69:[2,26],74:[2,26],75:[2,26],76:[2,26],77:[2,26],78:[2,26],79:[2,26]},{13:[2,14],14:[2,14],17:[2,14],27:[2,14],32:[2,14],37:[2,14],42:[2,14],45:[2,14],46:[2,14],49:[2,14],53:[2,14]},{66:[1,125],71:[1,124]},{66:[2,91],71:[2,91]},{13:[2,15],14:[2,15],17:[2,15],27:[2,15],32:[2,15],42:[2,15],45:[2,15],46:[2,15],49:[2,15],53:[2,15]},{31:[1,126]},{31:[2,70]},{31:[2,29]},{66:[2,92],71:[2,92]},{13:[2,16],14:[2,16],17:[2,16],27:[2,16],32:[2,16],37:[2,16],42:[2,16],45:[2,16],46:[2,16],49:[2,16],53:[2,16]}],defaultActions:{4:[2,1],49:[2,50],51:[2,19],55:[2,52],64:[2,76],73:[2,80],78:[2,17],82:[2,84],92:[2,48],99:[2,18],100:[2,72],105:[2,88],107:[2,58],110:[2,64],111:[2,11],123:[2,70],124:[2,29]},parseError:function parseError(t){throw new Error(t);},parse:function parse(t){var e=this,i=[0],n=[null],s=[],o=this.table,a="",r=0,l=0,h=0,c=(this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===(this.yy.parser=this).lexer.yylloc&&(this.lexer.yylloc={}),this.lexer.yylloc),u=(s.push(c),this.lexer.options&&this.lexer.options.ranges);"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,p,f,m,g,v,b,y,C={};;){if(f=i[i.length-1],void 0===(m=this.defaultActions[f]||(null==d&&(w=void 0,d=w="number"!=typeof(w=e.lexer.lex()||1)&&e.symbols_[w]||w),o[f]&&o[f][d]))||!m.length||!m[0]){var w;if(!h){for(g in y=[],o[f]){this.terminals_[g]&&2<g&&y.push("'"+this.terminals_[g]+"'");}w=this.lexer.showPosition?"Parse error on line "+(r+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+y.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(r+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(w,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:c,expected:y});}}if(m[0]instanceof Array&&1<m.length)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+d);switch(m[0]){case 1:i.push(d),n.push(this.lexer.yytext),s.push(this.lexer.yylloc),i.push(m[1]),d=null,p?(d=p,p=null):(l=this.lexer.yyleng,a=this.lexer.yytext,r=this.lexer.yylineno,c=this.lexer.yylloc,0<h&&h--);break;case 2:if(v=this.productions_[m[1]][1],C.$=n[n.length-v],C._$={first_line:s[s.length-(v||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(v||1)].first_column,last_column:s[s.length-1].last_column},u&&(C._$.range=[s[s.length-(v||1)].range[0],s[s.length-1].range[1]]),void 0!==(b=this.performAction.call(C,a,l,r,this.yy,m[1],n,s)))return b;v&&(i=i.slice(0,-1*v*2),n=n.slice(0,-1*v),s=s.slice(0,-1*v)),i.push(this.productions_[m[1]][0]),n.push(C.$),s.push(C._$),b=o[i[i.length-2]][i[i.length-1]],i.push(b);break;case 3:return!0;}}return!0;}})},emu:{rules:[2],inclusive:!1},com:{rules:[5],inclusive:!1},raw:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,1,42],inclusive:!0}}},n.lexer=s;var n,s=new((t.prototype=n).Parser=t)();function t(){this.yy={};}i.default=s,e.exports=i.default;},function(t,e,s){"use strict";function i(){}function r(t,e,i){var n=t[(e=void 0===e?t.length:e)-1],t=t[e-2];return n?"ContentStatement"===n.type?(t||!i?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(n.original):void 0:i;}function n(t,e,i){var n=t[(e=void 0===e?-1:e)+1],t=t[e+2];return n?"ContentStatement"===n.type?(t||!i?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(n.original):void 0:i;}function a(t,e,i){t=t[null==e?0:e+1];!t||"ContentStatement"!==t.type||!i&&t.rightStripped||(e=t.value,t.value=t.value.replace(i?/^\s+/:/^[ \t]*\r?\n?/,""),t.rightStripped=t.value!==e);}function o(t,e,i){t=t[null==e?t.length-1:e-1];if(t&&"ContentStatement"===t.type&&(i||!t.leftStripped))return e=t.value,t.value=t.value.replace(i?/\s+$/:/[ \t]+$/,""),t.leftStripped=t.value!==e,t.leftStripped;}var l=s(8).default;e.__esModule=!0;l=l(s(6));(i.prototype=new l.default()).Program=function(t){var e=!this.isRootSeen;this.isRootSeen=!0;for(var i=t.body,s=0,l=i.length;s<l;s++){var h,c,u,d,p=i[s],f=this.accept(p);f&&(d=r(i,s,e),h=n(i,s,e),c=f.openStandalone&&d,u=f.closeStandalone&&h,d=f.inlineStandalone&&d&&h,f.close&&a(i,s,!0),f.open&&o(i,s,!0),d&&(a(i,s),o(i,s)&&"PartialStatement"===p.type&&(p.indent=/([ \t]+$)/.exec(i[s-1].original)[1])),c&&(a((p.program||p.inverse).body),o(i,s)),u&&(a(i,s),o((p.inverse||p.program).body)));}return t;},i.prototype.BlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,i=t.program&&t.inverse,s=i,l=i;if(i&&i.chained)for(s=i.body[0].program;l.chained;){l=l.body[l.body.length-1].program;}var h={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:n(e.body),closeStandalone:r((s||e).body)};return t.openStrip.close&&a(e.body,null,!0),i?((i=t.inverseStrip).open&&o(e.body,null,!0),i.close&&a(s.body,null,!0),t.closeStrip.open&&o(l.body,null,!0),r(e.body)&&n(s.body)&&(o(e.body),a(s.body))):t.closeStrip.open&&o(e.body,null,!0),h;},i.prototype.MustacheStatement=function(t){return t.strip;},i.prototype.PartialStatement=i.prototype.CommentStatement=function(t){t=t.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close};},e.default=i,t.exports=e.default;},function(t,e,i){"use strict";var n=i(8).default;e.__esModule=!0,e.SourceLocation=function(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column};},e.id=function(t){return /^\[.*\]$/.test(t)?t.substr(1,t.length-2):t;},e.stripFlags=function(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)};},e.stripComment=function(t){return t.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"");},e.preparePath=function(t,e,i){i=this.locInfo(i);for(var n=t?"@":"",s=[],o=0,a=0,r=e.length;a<r;a++){var l=e[a].part,h=e[a].original!==l;if(n+=(e[a].separator||"")+l,h||".."!==l&&"."!==l&&"this"!==l)s.push(l);else{if(0<s.length)throw new c.default("Invalid path: "+n,{loc:i});".."===l&&(o++,0);}}return new this.PathExpression(t,o,s,n,i);},e.prepareMustache=function(t,e,i,n,s,o){return n=n.charAt(3)||n.charAt(2),new this.MustacheStatement(t,e,i,"{"!==n&&"&"!==n,s,this.locInfo(o));},e.prepareRawBlock=function(t,e,i,n){var s;if(t.path.original!==i)throw s={loc:t.path.loc},new c.default(t.path.original+" doesn't match "+i,s);return n=this.locInfo(n),i=new this.Program([e],null,{},n),new this.BlockStatement(t.path,t.params,t.hash,i,void 0,{},{},{},n);},e.prepareBlock=function(t,e,i,n,s,o){if(n&&n.path&&t.path.original!==n.path.original)throw a={loc:t.path.loc},new c.default(t.path.original+" doesn't match "+n.path.original,a);e.blockParams=t.blockParams;var a=void 0,r=void 0;return i&&(i.chain&&(i.program.body[0].closeStrip=n.strip),r=i.strip,a=i.program),s&&(s=a,a=e,e=s),new this.BlockStatement(t.path,t.params,t.hash,e,a,t.strip,r,n&&n.strip,this.locInfo(o));};var c=n(i(11));},function(t,e,n){"use strict";function i(t,e,i){if(a.isArray(t)){for(var n=[],s=0,o=t.length;s<o;s++){n.push(e.wrap(t[s],i));}return n;}return"boolean"==typeof t||"number"==typeof t?t+"":t;}function r(t){this.srcFile=t,this.source=[];}e.__esModule=!0;var a=n(12),s=void 0;s||((s=function s(t,e,i,n){this.src="",n&&this.add(n);}).prototype={add:function add(t){a.isArray(t)&&(t=t.join("")),this.src+=t;},prepend:function prepend(t){a.isArray(t)&&(t=t.join("")),this.src=t+this.src;},toStringWithSourceMap:function toStringWithSourceMap(){return{code:this.toString()};},toString:function toString(){return this.src;}}),r.prototype={prepend:function prepend(t,e){this.source.unshift(this.wrap(t,e));},push:function push(t,e){this.source.push(this.wrap(t,e));},merge:function merge(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"]);}),e;},each:function each(t){for(var e=0,i=this.source.length;e<i;e++){t(this.source[e]);}},empty:function empty(){var t=void 0===arguments[0]?this.currentLocation||{start:{}}:arguments[0];return new s(t.start.line,t.start.column,this.srcFile);},wrap:function wrap(t){var e=void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof s?t:(t=i(t,this,e),new s(e.start.line,e.start.column,this.srcFile,t));},functionCall:function functionCall(t,e,i){return i=this.generateList(i),this.wrap([t,e?"."+e+"(":"(",i,")"]);},quotedString:function quotedString(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"';},objectLiteral:function objectLiteral(t){var e,n,s=[];for(e in t){!t.hasOwnProperty(e)||"undefined"!==(n=i(t[e],this))&&s.push([this.quotedString(e),":",n]);}var o=this.generateList(s);return o.prepend("{"),o.add("}"),o;},generateList:function generateList(t,e){for(var n=this.empty(e),s=0,o=t.length;s<o;s++){s&&n.add(","),n.add(i(t[s],this,e));}return n;},generateArray:function generateArray(t,e){t=this.generateList(t,e);return t.prepend("["),t.add("]"),t;}},e.default=r,t.exports=e.default;}],s={},e.m=n,e.c=s,e.p="",e(0);function e(t){if(s[t])return s[t].exports;var i=s[t]={exports:{},id:t,loaded:!1};return n[t].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports;}var n,s;}),!function(){"use strict";var i;jQuery.fn.sortElements=(i=[].sort,function(t,n){n=n||function(){return this;};var e=this.map(function(){var t=n.call(this),e=t.parentNode,i=e.insertBefore(document.createTextNode(""),t.nextSibling);return function(){if(e===this)throw new Error("You can't sort elements if any one is a descendant of another.");e.insertBefore(this,i),e.removeChild(i);};});return i.call(this,t).each(function(t){e[t].call(n.call(this));});});}(),!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?module.exports=e():t.store=e();}(this,function(){var n,i,t,o={},e=window,s=e.document,a="localStorage";if(o.disabled=!1,o.version="1.3.17",o.set=function(t,e){},o.get=function(t,e){},o.has=function(t){return void 0!==o.get(t);},o.remove=function(t){},o.clear=function(){},o.transact=function(t,e,i){null==i&&(i=e,e=null);e=o.get(t,e=null==e?{}:e);i(e),o.set(t,e);},o.getAll=function(){},o.forEach=function(){},o.serialize=function(t){return JSON.stringify(t);},o.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e);}catch(t){return e||void 0;}},function(){try{return a in e&&e[a];}catch(t){return;}}())n=e[a],o.set=function(t,e){return void 0===e?o.remove(t):(n.setItem(t,o.serialize(e)),e);},o.get=function(t,e){t=o.deserialize(n.getItem(t));return void 0===t?e:t;},o.remove=function(t){n.removeItem(t);},o.clear=function(){n.clear();},o.getAll=function(){var i={};return o.forEach(function(t,e){i[t]=e;}),i;},o.forEach=function(t){for(var e=0;e<n.length;e++){var i=n.key(e);t(i,o.get(i));}};else if(s.documentElement.addBehavior){var jV0=function jV0(e){return function(){var t=Array.prototype.slice.call(arguments,0),t=(t.unshift(n),i.appendChild(n),n.addBehavior("#default#userData"),n.load(a),e.apply(o,t));return i.removeChild(n),t;};};var lV0=function lV0(t){return t.replace(/^d/,"___$&").replace(r,"___");};try{(t=new ActiveXObject("htmlfile")).open(),t.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),t.close(),i=t.w.frames[0].document,n=i.createElement("div");}catch(t){n=s.createElement("div"),i=s.body;}var r=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");o.set=jV0(function(t,e,i){return e=lV0(e),void 0===i?o.remove(e):(t.setAttribute(e,o.serialize(i)),t.save(a),i);}),o.get=jV0(function(t,e,i){e=lV0(e);t=o.deserialize(t.getAttribute(e));return void 0===t?i:t;}),o.remove=jV0(function(t,e){e=lV0(e),t.removeAttribute(e),t.save(a);}),o.clear=jV0(function(t){var e=t.XMLDocument.documentElement.attributes;for(t.load(a);e.length;){t.removeAttribute(e[0].name);}t.save(a);}),o.getAll=function(t){var i={};return o.forEach(function(t,e){i[t]=e;}),i;},o.forEach=jV0(function(t,e){for(var i,n=t.XMLDocument.documentElement.attributes,s=0;i=n[s];++s){e(i.name,o.deserialize(t.getAttribute(i.name)));}});}try{var l="__storejs__";o.set(l,l),o.get(l)!=l&&(o.disabled=!0),o.remove(l);}catch(t){o.disabled=!0;}return o.enabled=!o.disabled,o;}),jQuery,T.Utils=T.Utils||{},T.Utils.Store={setState:function setState(t,e){e&&this._set(t,e,36e5);},getState:function getState(t){t=this._get(t);return t||null;},_set:function _set(t,e,i){if(!store.enabled)return!1;i=i||36e5;store.set(t,{val:e,exp:i,time:new Date().getTime()});},_get:function _get(t){if(!store.enabled)return!1;t=store.get(t);return!t||new Date().getTime()-t.time>t.exp?null:t.val;}},jQuery,T.Utils=T.Utils||{},T.Utils.Template={get:function get(t){return this.hasOwnProperty(t)?this[t]:this._getTemplateElement(t);},_getTemplateElement:function _getTemplateElement(t){var e=document.getElementById(t),i=function i(){return"";};return e&&(i=Handlebars.compile(e.text),this[t]=i),i;}},jQuery,T.Utils=T.Utils||{},T.Utils.Url={_params:null,getUrlParamValue:function getUrlParamValue(t){for(var e,i=T.Utils.Url._getUrlParams(),n="",s=0;s<i.length;s++){if((e=i[s].split("="))[0]===t){n=e[1];break;}}return n;},_getUrlParams:function _getUrlParams(){var t=this._params||(t=window.location.search.substring(1),this._params=t.split("&"));return t;}},!function(t){function e(){}function i(r){var l;if(r)return l="undefined"==typeof console?e:function(t){console.error(t);},r.bridget=function(t,e){var o,a,i;(i=e).prototype.option||(i.prototype.option=function(t){r.isPlainObject(t)&&(this.options=r.extend(!0,this.options,t));}),o=t,a=e,r.fn[o]=function(e){if("string"!=typeof e)return this.each(function(){var t=r.data(this,o);t?(t.option(e),t._init()):(t=new a(this,e),r.data(this,o,t));});for(var t=h.call(arguments,1),i=0,n=this.length;i<n;i++){var s=this[i],s=r.data(s,o);if(s){if(r.isFunction(s[e])&&"_"!==e.charAt(0)){s=s[e].apply(s,t);if(void 0!==s)return s;}else l("no such method '"+e+"' for "+o+" instance");}else l("cannot call methods on "+o+" prior to initialization; attempted to call '"+e+"'");}return this;};},r.bridget;}var h=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i("object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?require("jquery"):t.jQuery);}(window),function(i){function e(t){var e=i.event;return e.target=e.target||e.srcElement||t,e;}var t=document.documentElement,n=function n(){},s=(t.addEventListener?n=function n(t,e,i){t.addEventListener(e,i,!1);}:t.attachEvent&&(n=function n(i,t,_n3){i[t+_n3]=_n3.handleEvent?function(){var t=e(i);_n3.handleEvent.call(_n3,t);}:function(){var t=e(i);_n3.call(i,t);},i.attachEvent("on"+t,i[t+_n3]);}),function(){}),t=(t.removeEventListener?s=function s(t,e,i){t.removeEventListener(e,i,!1);}:t.detachEvent&&(s=function s(e,i,n){e.detachEvent("on"+i,e[i+n]);try{delete e[i+n];}catch(t){e[i+n]=void 0;}}),{bind:n,unbind:s});"function"==typeof define&&define.amd?define("eventie/eventie",t):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?module.exports=t:i.eventie=t;}(window),function(){function t(){}function e(t,e){for(var i=t.length;i--;){if(t[i].listener===e)return i;}return-1;}function i(t){return function(){return this[t].apply(this,arguments);};}var n=t.prototype,s=this,o=s.EventEmitter;n.getListeners=function(t){var e,i,n=this._getEvents();if(t instanceof RegExp)for(i in e={},n){n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i]);}else e=n[t]||(n[t]=[]);return e;},n.flattenListeners=function(t){for(var e=[],i=0;i<t.length;i+=1){e.push(t[i].listener);}return e;},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&((e={})[t]=i),e||i;},n.addListener=function(t,i){var n,s=this.getListenersAsObject(t),o="object"==(typeof i==="undefined"?"undefined":_typeof(i));for(n in s){s.hasOwnProperty(n)&&-1===e(s[n],i)&&s[n].push(o?i:{listener:i,once:!1});}return this;},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0});},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this;},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1){this.defineEvent(t[e]);}return this;},n.removeListener=function(t,i){var n,s,o=this.getListenersAsObject(t);for(s in o){o.hasOwnProperty(s)&&(n=e(o[s],i),-1!==n&&o[s].splice(n,1));}return this;},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e);},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e);},n.manipulateListeners=function(t,e,i){var n,s,o=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!=(typeof e==="undefined"?"undefined":_typeof(e))||e instanceof RegExp)for(n=i.length;n--;){o.call(this,e,i[n]);}else for(n in e){e.hasOwnProperty(n)&&(s=e[n])&&("function"==typeof s?o:a).call(this,n,s);}return this;},n.removeEvent=function(t){var e,i=typeof t==="undefined"?"undefined":_typeof(t),n=this._getEvents();if("string"==i)delete n[t];else if(t instanceof RegExp)for(e in n){n.hasOwnProperty(e)&&t.test(e)&&delete n[e];}else delete this._events;return this;},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var i,n,s,o,a=this.getListenersAsObject(t);for(s in a){if(a.hasOwnProperty(s))for(n=a[s].length;n--;){i=a[s][n],!0===i.once&&this.removeListener(t,i.listener),o=i.listener.apply(this,e||[]),o===this._getOnceReturnValue()&&this.removeListener(t,i.listener);}}return this;},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e);},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this;},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue;},n._getEvents=function(){return this._events||(this._events={});},t.noConflict=function(){return s.EventEmitter=o,t;},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t;}):"object"==(typeof module==="undefined"?"undefined":_typeof(module))&&module.exports?module.exports=t:s.EventEmitter=t;}.call(this),function(t){function e(t){if(t){if("string"==typeof o[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,i=0,n=s.length;i<n;i++){if(e=s[i]+t,"string"==typeof o[e])return e;}}}var s="Webkit Moz ms Ms O".split(" "),o=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e;}):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?module.exports=e:t.getStyleProperty=e;}(window),function(T){function e(t){var e=parseFloat(t);return-1===t.indexOf("%")&&!isNaN(e)&&e;}function o(x){var _,$,S,k=!1;return function(t){if(k||(k=!0,C=T.getComputedStyle,w=C?function(t){return C(t,null);}:function(t){return t.currentStyle;},_=function _(t){t=w(t);return t||E("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),t;},($=x("boxSizing"))&&((p=document.createElement("div")).style.width="200px",p.style.padding="1px 2px 3px 4px",p.style.borderStyle="solid",p.style.borderWidth="1px 2px 3px 4px",p.style[$]="border-box",(d=document.body||document.documentElement).appendChild(p),r=_(p),S=200===e(r.width),d.removeChild(p))),(t="string"==typeof t?document.querySelector(t):t)&&"object"==(typeof t==="undefined"?"undefined":_typeof(t))&&t.nodeType){var i=_(t);if("none"===i.display){for(var n={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},s=0,o=I.length;s<o;s++){n[I[s]]=0;}return n;}var a={};a.width=t.offsetWidth,a.height=t.offsetHeight;for(var r=a.isBorderBox=!(!$||!i[$]||"border-box"!==i[$]),l=0,h=I.length;l<h;l++){var c=I[l],u=function(t,e){if(T.getComputedStyle||-1===e.indexOf("%"))return e;var i=t.style,n=i.left,s=t.runtimeStyle,o=s&&s.left;return o&&(s.left=t.currentStyle.left),i.left=e,e=i.pixelLeft,i.left=n,o&&(s.left=o),e;}(t,i[c]),u=parseFloat(u);a[c]=isNaN(u)?0:u;}var d=a.paddingLeft+a.paddingRight,p=a.paddingTop+a.paddingBottom,f=a.marginLeft+a.marginRight,m=a.marginTop+a.marginBottom,g=a.borderLeftWidth+a.borderRightWidth,v=a.borderTopWidth+a.borderBottomWidth,b=r&&S,y=e(i.width),y=(!1!==y&&(a.width=y+(b?0:d+g)),e(i.height));return!1!==y&&(a.height=y+(b?0:p+v)),a.innerWidth=a.width-(d+g),a.innerHeight=a.height-(p+v),a.outerWidth=a.width+f,a.outerHeight=a.height+m,a;}var C,p,d,r,w;};}var E="undefined"==typeof console?function(){}:function(t){console.error(t);},I=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],o):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?module.exports=o(require("desandro-get-style-property")):T.getSize=o(T.getStyleProperty);}(window),function(s){function e(t){"function"==typeof t&&(e.isReady?t():r.push(t));}function i(t){t="readystatechange"===t.type&&"complete"!==a.readyState;e.isReady||t||n();}function n(){e.isReady=!0;for(var t=0,i=r.length;t<i;t++){(0,r[t])();}}function o(t){return"complete"===a.readyState?n():(t.bind(a,"DOMContentLoaded",i),t.bind(a,"readystatechange",i),t.bind(s,"load",i)),e;}var a=s.document,r=[];e.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],o):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?module.exports=o(require("eventie")):s.docReady=o(s.eventie);}(window),function(s){function e(t,e){return t[n](e);}function i(t){t.parentNode||document.createDocumentFragment().appendChild(t);}var t,n=function(){if(s.matches)return"matches";if(s.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],e=0,i=t.length;e<i;e++){var n=t[e]+"MatchesSelector";if(s[n])return n;}}();t=n?e(document.createElement("div"),"div")?e:function(t,n){return i(t),e(t,n);}:function(t,e){i(t);for(var n=t.parentNode.querySelectorAll(e),s=0,o=n.length;s<o;s++){if(n[s]===t)return!0;}return!1;},"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return t;}):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?module.exports=t:window.matchesSelector=t;}(Element.prototype),function(i,n){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(t,e){return n(i,t,e);}):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?module.exports=n(i,require("doc-ready"),require("desandro-matches-selector")):i.fizzyUIUtils=n(i,i.docReady,i.matchesSelector);}(window,function(u,t,h){var i,d={extend:function extend(t,e){for(var i in e){t[i]=e[i];}return t;},modulo:function modulo(t,e){return(t%e+e)%e;}},e=Object.prototype.toString,p=(d.isArray=function(t){return"[object Array]"==e.call(t);},d.makeArray=function(t){var e=[];if(d.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,n=t.length;i<n;i++){e.push(t[i]);}else e.push(t);return e;},d.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e);}:function(t,e){for(var i=0,n=t.length;i<n;i++){if(t[i]===e)return i;}return-1;},d.removeFrom=function(t,e){e=d.indexOf(t,e);-1!=e&&t.splice(e,1);},d.isElement="function"==typeof HTMLElement||"object"==(typeof HTMLElement==="undefined"?"undefined":_typeof(HTMLElement))?function(t){return t instanceof HTMLElement;}:function(t){return t&&"object"==(typeof t==="undefined"?"undefined":_typeof(t))&&1==t.nodeType&&"string"==typeof t.nodeName;},d.setText=function(t,e){t[i=i||(void 0!==document.documentElement.textContent?"textContent":"innerText")]=e;},d.getParent=function(t,e){for(;t!=document.body;){if(t=t.parentNode,h(t,e))return t;}},d.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t;},d.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t);},d.filterFindElements=function(t,e){for(var i=[],n=0,s=(t=d.makeArray(t)).length;n<s;n++){var o=t[n];if(d.isElement(o))if(e){h(o,e)&&i.push(o);for(var a=o.querySelectorAll(e),r=0,l=a.length;r<l;r++){i.push(a[r]);}}else i.push(o);}return i;},d.debounceMethod=function(t,e,n){var s=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o],e=(t&&clearTimeout(t),arguments),i=this;this[o]=setTimeout(function(){s.apply(i,e),delete i[o];},n||100);};},d.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i;}).toLowerCase();},u.console);return d.htmlInit=function(h,c){t(function(){for(var t=d.toDashed(c),e=document.querySelectorAll(".js-"+t),i="data-"+t+"-options",n=0,s=e.length;n<s;n++){var o,a=e[n],r=a.getAttribute(i);try{o=r&&JSON.parse(r);}catch(t){p&&p.error("Error parsing "+i+" on "+a.nodeName.toLowerCase()+(a.id?"#"+a.id:"")+": "+t);continue;}var r=new h(a,o),l=u.jQuery;l&&l.data(a,c,r);}});},d;}),function(s,o){"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(t,e,i,n){return o(s,t,e,i,n);}):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?module.exports=o(s,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(s.Outlayer={},s.Outlayer.Item=o(s,s.EventEmitter,s.getSize,s.getStyleProperty,s.fizzyUIUtils));}(window,function(t,e,i,o,n){function s(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create());}var a=t.getComputedStyle,r=a?function(t){return a(t,null);}:function(t){return t.currentStyle;},l=o("transition"),t=o("transform"),t=l&&t,h=!!o("perspective"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],u=["transform","transition","transitionDuration","transitionProperty"],d=function(){for(var t={},e=0,i=u.length;e<i;e++){var n=u[e],s=o(n);s&&s!==n&&(t[n]=s);}return t;}(),p=(n.extend(s.prototype,e.prototype),s.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"});},s.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t);},s.prototype.getSize=function(){this.size=i(this.element);},s.prototype.css=function(t){var e,i=this.element.style;for(e in t){i[d[e]||e]=t[e];}},s.prototype.getPosition=function(){var t=r(this.element),e=this.layout.options,i=e.isOriginLeft,e=e.isOriginTop,n=t[i?"left":"right"],t=t[e?"top":"bottom"],s=this.layout.size,n=-1!=n.indexOf("%")?parseFloat(n)/100*s.width:parseInt(n,10),t=-1!=t.indexOf("%")?parseFloat(t)/100*s.height:parseInt(t,10),n=isNaN(n)?0:n,t=isNaN(t)?0:t;n-=i?s.paddingLeft:s.paddingRight,t-=e?s.paddingTop:s.paddingBottom,this.position.x=n,this.position.y=t;},s.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={},n=e.isOriginLeft?"paddingLeft":"paddingRight",s=e.isOriginLeft?"left":"right",o=e.isOriginLeft?"right":"left",n=this.position.x+t[n],s=(i[s]=this.getXValue(n),i[o]="",e.isOriginTop?"paddingTop":"paddingBottom"),n=e.isOriginTop?"top":"bottom",o=e.isOriginTop?"bottom":"top",e=this.position.y+t[s];i[n]=this.getYValue(e),i[o]="",this.css(i),this.emitEvent("layout",[this]);},s.prototype.getXValue=function(t){var e=this.layout.options;return e.percentPosition&&!e.isHorizontal?t/this.layout.size.width*100+"%":t+"px";},s.prototype.getYValue=function(t){var e=this.layout.options;return e.percentPosition&&e.isHorizontal?t/this.layout.size.height*100+"%":t+"px";},s.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,s=parseInt(t,10),o=parseInt(e,10),s=s===this.position.x&&o===this.position.y;this.setPosition(t,e),s&&!this.isTransitioning?this.layoutPosition():((o={}).transform=this.getTranslate(t-i,e-n),this.transition({to:o,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0}));},s.prototype.getTranslate=function(t,e){var i=this.layout.options;return t=i.isOriginLeft?t:-t,e=i.isOriginTop?e:-e,h?"translate3d("+t+"px, "+e+"px, 0)":"translate("+t+"px, "+e+"px)";},s.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition();},s.prototype.moveTo=t?s.prototype._transitionTo:s.prototype.goTo,s.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10);},s.prototype._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd){t.onTransitionEnd[e].call(this);}},s.prototype._transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e,i=this._transn;for(e in t.onTransitionEnd){i.onEnd[e]=t.onTransitionEnd[e];}for(e in t.to){i.ingProperties[e]=!0,t.isCleaning&&(i.clean[e]=!0);}t.from&&(this.css(t.from),this.element.offsetHeight,0),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0;}else this._nonTransition(t);},"opacity,"+(d.transform||"transform").replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase();})),f=(s.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:p,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(c,this,!1));},s.prototype.transition=s.prototype[l?"_transition":"_nonTransition"],s.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t);},s.prototype.onotransitionend=function(t){this.ontransitionend(t);},{"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"}),m=(s.prototype.ontransitionend=function(t){var e,i;t.target===this.element&&(e=this._transn,i=f[t.propertyName]||t.propertyName,delete e.ingProperties[i],function(t){for(var e in t){return;}return 1;}(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd&&(e.onEnd[i].call(this),delete e.onEnd[i]),this.emitEvent("transitionEnd",[this]));},s.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(c,this,!1),this.isTransitioning=!1;},s.prototype._removeStyles=function(t){var e,i={};for(e in t){i[e]="";}this.css(i);},{transitionProperty:"",transitionDuration:""});return s.prototype.removeTransitionStyles=function(){this.css(m);},s.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this]);},s.prototype.remove=function(){var t;l&&parseFloat(this.layout.options.transitionDuration)?((t=this).once("transitionEnd",function(){t.removeElem();}),this.hide()):this.removeElem();},s.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e});},s.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal");},s.prototype.getHideRevealTransitionEndProperty=function(t){var e,t=this.layout.options[t];if(t.opacity)return"opacity";for(e in t){return e;}},s.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e});},s.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"));},s.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""});},s;}),function(o,a){"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(t,e,i,n,s){return a(o,t,e,i,n,s);}):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?module.exports=a(o,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):o.Outlayer=a(o,o.eventie,o.EventEmitter,o.getSize,o.fizzyUIUtils,o.Outlayer.Item);}(window,function(t,e,n,o,a,r){function s(t,e){var i=a.getQueryElement(t);i?(this.element=i,h&&(this.$element=h(this.element)),this.options=a.extend({},this.constructor.defaults),this.option(e),e=++c,this.element.outlayerGUID=e,(u[e]=this)._create(),this.options.isInitLayout&&this.layout()):l&&l.error("Bad element for "+this.constructor.namespace+": "+(i||t));}function M0b(){}var l=t.console,h=t.jQuery,c=0,u={};return s.namespace="outlayer",s.Item=r,s.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},a.extend(s.prototype,n.prototype),s.prototype.option=function(t){a.extend(this.options,t);},s.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),a.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize();},s.prototype.reloadItems=function(){this.items=this._itemize(this.element.children);},s.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],s=0,o=e.length;s<o;s++){var a=new i(e[s],this);n.push(a);}return n;},s.prototype._filterFindItemElements=function(t){return a.filterFindElements(t,this.options.itemSelector);},s.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;e<i;e++){t.push(this.items[e].element);}return t;},s.prototype._init=s.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0;},s.prototype._resetLayout=function(){this.getSize();},s.prototype.getSize=function(){this.size=o(this.element);},s.prototype._getMeasurement=function(t,e){var i,n=this.options[t];n?("string"==typeof n?i=this.element.querySelector(n):a.isElement(n)&&(i=n),this[t]=i?o(i)[e]:n):this[t]=0;},s.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout();},s.prototype._getItemsForLayout=function(t){for(var e=[],i=0,n=t.length;i<n;i++){var s=t[i];s.isIgnored||e.push(s);}return e;},s.prototype._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){for(var i=[],n=0,s=t.length;n<s;n++){var o=t[n],a=this._getItemLayoutPosition(o);a.item=o,a.isInstant=e||o.isLayoutInstant,i.push(a);}this._processLayoutQueue(i);}},s.prototype._getItemLayoutPosition=function(){return{x:0,y:0};},s.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];this._positionItem(n.item,n.x,n.y,n.isInstant);}},s.prototype._positionItem=function(t,e,i,n){n?t.goTo(e,i):t.moveTo(e,i);},s.prototype._postLayout=function(){this.resizeContainer();},s.prototype.resizeContainer=function(){var t;this.options.isResizingContainer&&(t=this._getContainerSize())&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1));},s.prototype._getContainerSize=M0b,s.prototype._setContainerMeasure=function(t,e){var i;void 0!==t&&((i=this.size).isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px");},s.prototype._emitCompleteOnItems=function(t,e){function i(){s.dispatchEvent(t+"Complete",null,[e]);}function n(){++a===o&&i();}var s=this,o=e.length;if(e&&o)for(var a=0,r=0,l=e.length;r<l;r++){e[r].once(t,n);}else i();},s.prototype.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;this.emitEvent(t,n),h&&(this.$element=this.$element||h(this.element),e?((n=h.Event(e)).type=t,this.$element.trigger(n,i)):this.$element.trigger(t,i));},s.prototype.ignore=function(t){t=this.getItem(t);t&&(t.isIgnored=!0);},s.prototype.unignore=function(t){t=this.getItem(t);t&&delete t.isIgnored;},s.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;e<i;e++){var n=t[e];this.ignore(n);}}},s.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,i=t.length;e<i;e++){var n=t[e];a.removeFrom(this.stamps,n),this.unignore(n);}},s.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),a.makeArray(t)):void 0;},s.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;t<e;t++){var i=this.stamps[t];this._manageStamp(i);}}},s.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)};},s.prototype._manageStamp=M0b,s.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,t=o(t);return{left:e.left-i.left-t.marginLeft,top:e.top-i.top-t.marginTop,right:i.right-e.right-t.marginRight,bottom:i.bottom-e.bottom-t.marginBottom};},s.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t);},s.prototype.bindResize=function(){this.isResizeBound||(e.bind(t,"resize",this),this.isResizeBound=!0);},s.prototype.unbindResize=function(){this.isResizeBound&&e.unbind(t,"resize",this),this.isResizeBound=!1;},s.prototype.onresize=function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(function(){t.resize(),delete t.resizeTimeout;},100);},s.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout();},s.prototype.needsResizeLayout=function(){var t=o(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth;},s.prototype.addItems=function(t){t=this._itemize(t);return t.length&&(this.items=this.items.concat(t)),t;},s.prototype.appended=function(t){t=this.addItems(t);t.length&&(this.layoutItems(t,!0),this.reveal(t));},s.prototype.prepended=function(t){var e,t=this._itemize(t);t.length&&(e=this.items.slice(0),this.items=t.concat(e),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(e));},s.prototype.reveal=function(t){this._emitCompleteOnItems("reveal",t);for(var e=t&&t.length,i=0;e&&i<e;i++){t[i].reveal();}},s.prototype.hide=function(t){this._emitCompleteOnItems("hide",t);for(var e=t&&t.length,i=0;e&&i<e;i++){t[i].hide();}},s.prototype.revealItemElements=function(t){t=this.getItems(t);this.reveal(t);},s.prototype.hideItemElements=function(t){t=this.getItems(t);this.hide(t);},s.prototype.getItem=function(t){for(var e=0,i=this.items.length;e<i;e++){var n=this.items[e];if(n.element===t)return n;}},s.prototype.getItems=function(t){for(var e=[],i=0,n=(t=a.makeArray(t)).length;i<n;i++){var s=t[i],s=this.getItem(s);s&&e.push(s);}return e;},s.prototype.remove=function(t){var e=this.getItems(t);if(this._emitCompleteOnItems("remove",e),e&&e.length)for(var i=0,n=e.length;i<n;i++){var s=e[i];s.remove(),a.removeFrom(this.items,s);}},s.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,i=this.items.length;e<i;e++){this.items[e].destroy();}this.unbindResize();t=this.element.outlayerGUID;delete u[t],delete this.element.outlayerGUID,h&&h.removeData(this.element,this.constructor.namespace);},s.data=function(t){t=(t=a.getQueryElement(t))&&t.outlayerGUID;return t&&u[t];},s.create=function(t,e){function i(){s.apply(this,arguments);}return Object.create?i.prototype=Object.create(s.prototype):a.extend(i.prototype,s.prototype),(i.prototype.constructor=i).defaults=a.extend({},s.defaults),a.extend(i.defaults,e),i.prototype.settings={},i.namespace=t,i.data=s.data,(i.Item=function(){r.apply(this,arguments);}).prototype=new r(),a.htmlInit(i,t),h&&h.bridget&&h.bridget(t,i),i;},s.Item=r,s;}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],e):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?module.exports=e(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):t.Masonry=e(t.Outlayer,t.getSize,t.fizzyUIUtils);}(window,function(t,r,l){t=t.create("masonry");return t.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;){this.colYs.push(0);}this.maxY=0;},t.prototype.measureColumns=function(){this.getContainerWidth(),this.columnWidth||(t=(t=this.items[0])&&t.element,this.columnWidth=t&&r(t).outerWidth||this.containerWidth);var t=this.columnWidth+=this.gutter,e=this.containerWidth+this.gutter,i=e/t,e=t-e%t,i=Math[e&&e<1?"round":"floor"](i);this.cols=Math.max(i,1);},t.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,t=r(t);this.containerWidth=t&&t.innerWidth;},t.prototype._getItemLayoutPosition=function(t){t.getSize();for(var e=t.size.outerWidth%this.columnWidth,e=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth),e=Math.min(e,this.cols),e=this._getColGroup(e),i=Math.min.apply(Math,e),n=l.indexOf(e,i),s={x:this.columnWidth*n,y:i},o=i+t.size.outerHeight,a=this.cols+1-e.length,r=0;r<a;r++){this.colYs[n+r]=o;}return s;},t.prototype._getColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;n<i;n++){var s=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,s);}return e;},t.prototype._manageStamp=function(t){var e=r(t),t=this._getElementOffset(t),i=this.options.isOriginLeft?t.left:t.right,n=i+e.outerWidth,i=Math.floor(i/this.columnWidth),i=Math.max(0,i),s=Math.floor(n/this.columnWidth);s-=n%this.columnWidth?0:1;for(var s=Math.min(this.cols-1,s),o=(this.options.isOriginTop?t.top:t.bottom)+e.outerHeight,a=i;a<=s;a++){this.colYs[a]=Math.max(o,this.colYs[a]);}},t.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t;},t.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];){t++;}return(this.cols-t)*this.columnWidth-this.gutter;},t.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth;},t;}),!function(e){T.Utils=T.Utils||{},T.Utils.Dashboard={_options:{itemSelector:".template-dashboard__item",columnWidth:".template-dashboard__grid-sizer",gutter:".template-dashboard__gutter-sizer"},init:function init(){e(".js-template-dashboard[data-mch-module=dashboard]").masonry(this._options);},updateOptions:function updateOptions(t){e.extend(this._options,t),e(".js-template-dashboard[data-mch-module=dashboard]").masonry(this._options);}},e(function(){T.Utils.Dashboard.init();});}(jQuery),/* Chartist.js 0.9.4
 * Copyright © 2015 Gion Kunz
 * Free to use under the WTFPL license.
 * http://www.wtfpl.net/
 */!function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.Chartist=e();}):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?module.exports=e():t.Chartist=e();}(this,function(){var t={version:"0.9.4"};return function(l,i,d){"use strict";d.noop=function(t){return t;},d.alphaNumerate=function(t){return String.fromCharCode(97+t%26);},d.extend=function(i){return i=i||{},Array.prototype.slice.call(arguments,1).forEach(function(t){for(var e in t){"object"!=_typeof(t[e])||null===t[e]||t[e]instanceof Array?i[e]=t[e]:i[e]=d.extend({},i[e],t[e]);}}),i;},d.replaceAll=function(t,e,i){return t.replace(new RegExp(e,"g"),i);},d.stripUnit=function(t){return+(t="string"==typeof t?t.replace(/[^0-9\+-\.]/g,""):t);},d.ensureUnit=function(t,e){return"number"==typeof t&&(t+=e),t;},d.querySelector=function(t){return t instanceof Node?t:i.querySelector(t);},d.times=function(t){return Array.apply(null,new Array(t));},d.sum=function(t,e){return t+(e||0);},d.mapMultiply=function(e){return function(t){return t*e;};},d.mapAdd=function(e){return function(t){return t+e;};},d.serialMap=function(n,s){var o=[],t=Math.max.apply(null,n.map(function(t){return t.length;}));return d.times(t).forEach(function(t,e){var i=n.map(function(t){return t[e];});o[e]=s.apply(null,i);}),o;},d.roundWithPrecision=function(t,e){e=Math.pow(10,e||d.precision);return Math.round(t*e)/e;},d.precision=8,d.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},d.serialize=function(t){return null==t?t:("number"==typeof t?t=""+t:"object"==(typeof t==="undefined"?"undefined":_typeof(t))&&(t=JSON.stringify({data:t})),Object.keys(d.escapingMap).reduce(function(t,e){return d.replaceAll(t,e,d.escapingMap[e]);},t));},d.deserialize=function(t){if("string"!=typeof t)return t;t=Object.keys(d.escapingMap).reduce(function(t,e){return d.replaceAll(t,d.escapingMap[e],e);},t);try{t=void 0!==(t=JSON.parse(t)).data?t.data:t;}catch(t){}return t;},d.createSvg=function(e,t,i,n){return t=t||"100%",i=i||"100%",Array.prototype.slice.call(e.querySelectorAll("svg")).filter(function(t){return t.getAttributeNS("http://www.w3.org/2000/xmlns/",d.xmlNs.prefix);}).forEach(function(t){e.removeChild(t);}),n=new d.Svg("svg").attr({width:t,height:i}).addClass(n).attr({style:"width: "+t+"; height: "+i+";"}),e.appendChild(n._node),n;},d.reverseData=function(t){t.labels.reverse(),t.series.reverse();for(var e=0;e<t.series.length;e++){"object"==_typeof(t.series[e])&&void 0!==t.series[e].data?t.series[e].data.reverse():t.series[e]instanceof Array&&t.series[e].reverse();}},d.getDataArray=function(t,i,n){return(i&&!t.reversed||!i&&t.reversed)&&(d.reverseData(t),t.reversed=!t.reversed),t.series.map(function e(t){var i;if(!d.isFalseyButZero(t))return(t.data||t)instanceof Array?(t.data||t).map(e):t.hasOwnProperty("value")?e(t.value):n?(i={},"string"==typeof n?i[n]=d.getNumberOrUndefined(t):i.y=d.getNumberOrUndefined(t),i.x=t.hasOwnProperty("x")?d.getNumberOrUndefined(t.x):i.x,i.y=t.hasOwnProperty("y")?d.getNumberOrUndefined(t.y):i.y,i):d.getNumberOrUndefined(t);});},d.normalizePadding=function(t,e){return e=e||0,"number"==typeof t?{top:t,right:t,bottom:t,left:t}:{top:"number"==typeof t.top?t.top:e,right:"number"==typeof t.right?t.right:e,bottom:"number"==typeof t.bottom?t.bottom:e,left:"number"==typeof t.left?t.left:e};},d.getMetaData=function(t,e){t=(t.data||t)[e];return t?d.serialize(t.meta):void 0;},d.orderOfMagnitude=function(t){return Math.floor(Math.log(Math.abs(t))/Math.LN10);},d.projectLength=function(t,e,i){return e/i.range*t;},d.getAvailableHeight=function(t,e){return Math.max((d.stripUnit(e.height)||t.height())-(e.chartPadding.top+e.chartPadding.bottom)-e.axisX.offset,0);},d.getHighLow=function(t,i,s){var o={high:void 0===(i=d.extend({},i,s?i["axis"+s.toUpperCase()]:{})).high?-Number.MAX_VALUE:+i.high,low:void 0===i.low?Number.MAX_VALUE:+i.low},a=void 0===i.high,r=void 0===i.low;return(a||r)&&function e(t){if(void 0!==t)if(t instanceof Array)for(var i=0;i<t.length;i++){e(t[i]);}else{var n=s?+t[s]:+t;a&&n>o.high&&(o.high=n),r&&n<o.low&&(o.low=n);}}(t),!i.referenceValue&&0!==i.referenceValue||(o.high=Math.max(i.referenceValue,o.high),o.low=Math.min(i.referenceValue,o.low)),o.high<=o.low&&(0===o.low?o.high=1:o.low<0?o.high=0:o.low=0),o;},d.isNum=function(t){return!isNaN(t)&&isFinite(t);},d.isFalseyButZero=function(t){return!t&&0!==t;},d.getNumberOrUndefined=function(t){return isNaN(+t)?void 0:+t;},d.getMultiValue=function(t,e){return d.isNum(t)?+t:t&&t[e||"y"]||0;},d.rho=function(t){function c(t){return t*t+1;}if(1===t)return t;var e,i=2,n=2;if(t%2==0)return 2;for(;i=c(i)%t,n=c(c(n))%t,1===(e=function b(t,e){return t%e==0?e:b(e,t%e);}(Math.abs(i-n),t));){}return e;},d.getBounds=function(t,e,i,n){var s,o,a,r=0,l={high:e.high,low:e.low};l.valueRange=l.high-l.low,l.oom=d.orderOfMagnitude(l.valueRange),l.step=Math.pow(10,l.oom),l.min=Math.floor(l.low/l.step)*l.step,l.max=Math.ceil(l.high/l.step)*l.step,l.range=l.max-l.min,l.numberOfSteps=Math.round(l.range/l.step);var h=d.projectLength(t,l.step,l)<i,e=n?d.rho(l.range):0;if(n&&d.projectLength(t,1,l)>=i)l.step=1;else if(n&&e<l.step&&d.projectLength(t,e,l)>=i)l.step=e;else for(;;){if(h&&d.projectLength(t,l.step,l)<=i)l.step*=2;else{if(h||!(d.projectLength(t,l.step/2,l)>=i))break;if(l.step/=2,n&&l.step%1!=0){l.step*=2;break;}}if(1e3<r++)throw new Error("Exceeded maximum number of iterations while optimizing scale step!");}for(o=l.min,a=l.max;o+l.step<=l.low;){o+=l.step;}for(;a-l.step>=l.high;){a-=l.step;}for(l.min=o,l.max=a,l.range=l.max-l.min,l.values=[],s=l.min;s<=l.max;s+=l.step){l.values.push(d.roundWithPrecision(s));}return l;},d.polarToCartesian=function(t,e,i,n){n=(n-90)*Math.PI/180;return{x:t+i*Math.cos(n),y:e+i*Math.sin(n)};},d.createChartRect=function(t,e,i){var n=!(!e.axisX&&!e.axisY),s=n?e.axisY.offset:0,o=n?e.axisX.offset:0,a=t.width()||d.stripUnit(e.width)||0,t=t.height()||d.stripUnit(e.height)||0,i=d.normalizePadding(e.chartPadding,i),a=Math.max(a,s+i.left+i.right),t=Math.max(t,o+i.top+i.bottom),r={padding:i,width:function width(){return this.x2-this.x1;},height:function height(){return this.y1-this.y2;}};return n?("start"===e.axisX.position?(r.y2=i.top+o,r.y1=Math.max(t-i.bottom,r.y2+1)):(r.y2=i.top,r.y1=Math.max(t-i.bottom-o,r.y2+1)),"start"===e.axisY.position?(r.x1=i.left+s,r.x2=Math.max(a-i.right,r.x1+1)):(r.x1=i.left,r.x2=Math.max(a-i.right-s,r.x1+1))):(r.x1=i.left,r.x2=Math.max(a-i.right,r.x1+1),r.y2=i.top,r.y1=Math.max(t-i.bottom,r.y2+1)),r;},d.createGrid=function(t,e,i,n,s,o,a,r){var l={},t=(l[i.units.pos+"1"]=t,l[i.units.pos+"2"]=t,l[i.counterUnits.pos+"1"]=n,l[i.counterUnits.pos+"2"]=n+s,o.elem("line",l,a.join(" ")));r.emit("draw",d.extend({type:"grid",axis:i,index:e,group:o,element:t},l));},d.createLabel=function(t,e,i,n,s,o,a,r,l,h,c){var u={};u[s.units.pos]=t+a[s.units.pos],u[s.counterUnits.pos]=a[s.counterUnits.pos],u[s.units.len]=e,u[s.counterUnits.len]=o-10,a=h?(t='<span class="'+l.join(" ")+'" style="'+s.units.len+": "+Math.round(u[s.units.len])+"px; "+s.counterUnits.len+": "+Math.round(u[s.counterUnits.len])+'px">'+n[i]+"</span>",r.foreignObject(t,d.extend({style:"overflow: visible;"},u))):r.elem("text",u,l.join(" ")).text(n[i]),c.emit("draw",d.extend({type:"label",axis:s,index:i,group:r,element:a,text:n[i]},u));},d.getSeriesOption=function(t,e,i){return(t.name&&e.series&&e.series[t.name]&&(t=e.series[t.name]).hasOwnProperty(i)?t:e)[i];},d.optionsProvider=function(t,i,n){function f(t){var e=s;if(s=d.extend({},a),i)for(o=0;o<i.length;o++){l.matchMedia(i[o][0]).matches&&(s=d.extend(s,i[o][1]));}n&&!t&&n.emit("optionsChanged",{previousOptions:e,currentOptions:s});}var s,o,a=d.extend({},t),e=[];if(!l.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(i)for(o=0;o<i.length;o++){var r=l.matchMedia(i[o][0]);r.addListener(f),e.push(r);}return f(!0),{removeMediaQueryListeners:function removeMediaQueryListeners(){e.forEach(function(t){t.removeListener(f);});},getCurrentOptions:function getCurrentOptions(){return d.extend({},s);}};};}(window,document,t),function(p){"use strict";p.Interpolation={},p.Interpolation.none=function(){return function(t,e){for(var i=new p.Svg.Path(),n=!0,s=1;s<t.length;s+=2){var o=e[(s-1)/2];void 0===o.value?n=!0:n?(i.move(t[s-1],t[s],!1,o),n=!1):i.line(t[s-1],t[s],!1,o);}return i;};},p.Interpolation.simple=function(t){t=p.extend({},{divisor:2},t);var d=1/Math.max(1,t.divisor);return function(t,e){for(var i=new p.Svg.Path(),n=!0,s=2;s<t.length;s+=2){var o=t[s-2],a=t[s-1],r=t[s],l=t[s+1],h=(r-o)*d,c=e[s/2-1],u=e[s/2];void 0===c.value?n=!0:(n&&i.move(o,a,!1,c),void 0!==u.value&&(i.curve(o+h,a,r-h,l,r,l,!1,u),n=!1));}return i;};},p.Interpolation.cardinal=function(t){t=p.extend({},{tension:1},t);var l=Math.min(1,Math.max(0,t.tension)),h=1-l;return function g(t,e){var i,n=function(t,e){for(var i=[],n=!0,s=0;s<t.length;s+=2){void 0===e[s/2].value?n=!0:(n&&(i.push({pathCoordinates:[],valueData:[]}),n=!1),i[i.length-1].pathCoordinates.push(t[s],t[s+1]),i[i.length-1].valueData.push(e[s/2]));}return i;}(t,e);if(1<n.length)return i=[],n.forEach(function(t){i.push(g(t.pathCoordinates,t.valueData));}),p.Svg.Path.join(i);if(t=n[0].pathCoordinates,e=n[0].valueData,t.length<=4)return p.Interpolation.none()(t,e);for(var s=new p.Svg.Path().move(t[0],t[1],!1,e[0]),o=0,a=t.length;o<a-2;o+=2){var r=[{x:+t[o-2],y:+t[o-1]},{x:+t[o],y:+t[o+1]},{x:+t[o+2],y:+t[o+3]},{x:+t[o+4],y:+t[o+5]}];a-4===o?r[3]=r[2]:o||(r[0]={x:+t[o],y:+t[o+1]}),s.curve(l*(-r[0].x+6*r[1].x+r[2].x)/6+h*r[2].x,l*(-r[0].y+6*r[1].y+r[2].y)/6+h*r[2].y,l*(r[1].x+6*r[2].x-r[3].x)/6+h*r[2].x,l*(r[1].y+6*r[2].y-r[3].y)/6+h*r[2].y,r[2].x,r[2].y,!1,e[(o+2)/2]);}return s;};},p.Interpolation.step=function(u){return u=p.extend({},{postpone:!0},u),function(t,e){for(var i=new p.Svg.Path(),n=!0,s=2;s<t.length;s+=2){var o=t[s-2],a=t[s-1],r=t[s],l=t[s+1],h=e[s/2-1],c=e[s/2];void 0===h.value?n=!0:(n&&i.move(o,a,!1,h),void 0!==c.value&&(u.postpone?i.line(r,a,!1,h):i.line(o,l,!1,c),i.line(r,l,!1,c),n=!1));}return i;};};}((window,document,t)),function(){"use strict";t.EventEmitter=function(){var n=[];return{addEventHandler:function addEventHandler(t,e){n[t]=n[t]||[],n[t].push(e);},removeEventHandler:function removeEventHandler(t,e){n[t]&&(e?(n[t].splice(n[t].indexOf(e),1),0===n[t].length&&delete n[t]):delete n[t]);},emit:function emit(e,i){n[e]&&n[e].forEach(function(t){t(i);}),n["*"]&&n["*"].forEach(function(t){t(e,i);});}};};}((window,document)),function(n){"use strict";n.Class={extend:function extend(t,e){function y4b(){var t=i.constructor||function(){},e=this===n?Object.create(i):this;return t.apply(e,Array.prototype.slice.call(arguments,0)),e;}var e=e||this.prototype||n.Class,i=Object.create(e);return n.Class.cloneDefinitions(i,t),y4b.prototype=i,y4b.super=e,y4b.extend=this.extend,y4b;},cloneDefinitions:function cloneDefinitions(){var t=function(t){var e=[];if(t.length)for(var i=0;i<t.length;i++){e.push(t[i]);}return e;}(arguments),i=t[0];return t.splice(1,t.length-1).forEach(function(e){Object.getOwnPropertyNames(e).forEach(function(t){delete i[t],Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(e,t));});}),i;}};}((window,document,t)),function(o,a){"use strict";a.Base=a.Class.extend({constructor:function constructor(t,e,i,n,s){this.container=a.querySelector(t),this.data=e,this.defaultOptions=i,this.options=n,this.responsiveOptions=s,this.eventEmitter=a.EventEmitter(),this.supportsForeignObject=a.Svg.isSupported("Extensibility"),this.supportsAnimations=a.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update();}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(function(){o.addEventListener("resize",this.resizeListener),this.optionsProvider=a.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update();}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(t){t instanceof Array?t[0](this,t[1]):t(this);}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0;}.bind(this),0);},optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function createChart(){throw new Error("Base chart type can't be instantiated!");},update:function update(t,e,i){return t&&(this.data=t,this.eventEmitter.emit("data",{type:"update",data:this.data})),e&&(this.options=a.extend({},i?this.options:this.defaultOptions,e),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=a.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this;},detach:function detach(){return this.initializeTimeoutId?o.clearTimeout(this.initializeTimeoutId):(o.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this;},on:function on(t,e){return this.eventEmitter.addEventHandler(t,e),this;},off:function off(t,e){return this.eventEmitter.removeEventHandler(t,e),this;},version:a.version,supportsForeignObject:!1});}(window,(document,t)),function(o,l){"use strict";function u(t,e){try{return t.getBBox()[e];}catch(t){}return 0;}l.xmlNs={qualifiedName:"xmlns:ct",prefix:"ct",uri:"http://gionkunz.github.com/chartist-js/ct"},l.Svg=l.Class.extend({constructor:function constructor(t,e,i,n,s){t instanceof Element?this._node=t:(this._node=o.createElementNS("http://www.w3.org/2000/svg",t),"svg"===t&&this._node.setAttributeNS("http://www.w3.org/2000/xmlns/",l.xmlNs.qualifiedName,l.xmlNs.uri)),e&&this.attr(e),i&&this.addClass(i),n&&(s&&n._node.firstChild?n._node.insertBefore(this._node,n._node.firstChild):n._node.appendChild(this._node));},attr:function attr(e,i){return"string"==typeof e?i?this._node.getAttributeNS(i,e):this._node.getAttribute(e):(Object.keys(e).forEach(function(t){void 0!==e[t]&&(i?this._node.setAttributeNS(i,[l.xmlNs.prefix,":",t].join(""),e[t]):this._node.setAttribute(t,e[t]));}.bind(this)),this);},elem:function elem(t,e,i,n){return new l.Svg(t,e,i,this,n);},parent:function parent(){return this._node.parentNode instanceof SVGElement?new l.Svg(this._node.parentNode):null;},root:function root(){for(var t=this._node;"svg"!==t.nodeName;){t=t.parentNode;}return new l.Svg(t);},querySelector:function querySelector(t){return(t=this._node.querySelector(t))?new l.Svg(t):null;},querySelectorAll:function querySelectorAll(t){return(t=this._node.querySelectorAll(t)).length?new l.Svg.List(t):null;},foreignObject:function foreignObject(t,e,i,n){"string"==typeof t&&((s=o.createElement("div")).innerHTML=t,t=s.firstChild),t.setAttribute("xmlns","http://www.w3.org/1999/xhtml");var s=this.elem("foreignObject",e,i,n);return s._node.appendChild(t),s;},text:function text(t){return this._node.appendChild(o.createTextNode(t)),this;},empty:function empty(){for(;this._node.firstChild;){this._node.removeChild(this._node.firstChild);}return this;},remove:function remove(){return this._node.parentNode.removeChild(this._node),this.parent();},replace:function replace(t){return this._node.parentNode.replaceChild(t._node,this._node),t;},append:function append(t,e){return e&&this._node.firstChild?this._node.insertBefore(t._node,this._node.firstChild):this._node.appendChild(t._node),this;},classes:function classes(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[];},addClass:function addClass(t){return this._node.setAttribute("class",this.classes(this._node).concat(t.trim().split(/\s+/)).filter(function(t,e,i){return i.indexOf(t)===e;}).join(" ")),this;},removeClass:function removeClass(t){var e=t.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter(function(t){return-1===e.indexOf(t);}).join(" ")),this;},removeAllClasses:function removeAllClasses(){return this._node.setAttribute("class",""),this;},height:function height(){return this._node.clientHeight||Math.round(u(this._node,"height"))||this._node.parentNode.clientHeight;},width:function width(){return this._node.clientWidth||Math.round(u(this._node,"width"))||this._node.parentNode.clientWidth;},animate:function animate(t,e,r){return void 0===e&&(e=!0),Object.keys(t).forEach(function(a){function f(e,t){var i,n,s,o={};e.easing&&(s=e.easing instanceof Array?e.easing:l.Svg.Easing[e.easing],delete e.easing),e.begin=l.ensureUnit(e.begin,"ms"),e.dur=l.ensureUnit(e.dur,"ms"),s&&(e.calcMode="spline",e.keySplines=s.join(" "),e.keyTimes="0;1"),t&&(e.fill="freeze",o[a]=e.from,this.attr(o),n=l.stripUnit(e.begin||0),e.begin="indefinite"),i=this.elem("animate",l.extend({attributeName:a},e)),t&&setTimeout(function(){try{i._node.beginElement();}catch(t){o[a]=e.to,this.attr(o),i.remove();}}.bind(this),n),r&&i._node.addEventListener("beginEvent",function(){r.emit("animationBegin",{element:this,animate:i._node,params:e});}.bind(this)),i._node.addEventListener("endEvent",function(){r&&r.emit("animationEnd",{element:this,animate:i._node,params:e}),t&&(o[a]=e.to,this.attr(o),i.remove());}.bind(this));}t[a]instanceof Array?t[a].forEach(function(t){f.bind(this)(t,!1);}.bind(this)):f.bind(this)(t[a],e);}.bind(this)),this;}}),l.Svg.isSupported=function(t){return o.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+t,"1.1");};l.Svg.Easing={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]},l.Svg.List=l.Class.extend({constructor:function constructor(t){var n=this;this.svgElements=[];for(var e=0;e<t.length;e++){this.svgElements.push(new l.Svg(t[e]));}Object.keys(l.Svg.prototype).filter(function(t){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(t);}).forEach(function(i){n[i]=function(){var e=Array.prototype.slice.call(arguments,0);return n.svgElements.forEach(function(t){l.Svg.prototype[i].apply(t,e);}),n;};});}});}((window,document),t),function(r){"use strict";function d(t,e,i,n,s,o){s=r.extend({command:s?t.toLowerCase():t.toUpperCase()},e,o?{data:o}:{});i.splice(n,0,s);}function e(s,o){s.forEach(function(i,n){a[i.command.toLowerCase()].forEach(function(t,e){o(i,t,n,e,s);});});}var a={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},i={accuracy:3};r.Svg.Path=r.Class.extend({constructor:function constructor(t,e){this.pathElements=[],this.pos=0,this.close=t,this.options=r.extend({},i,e);},position:function position(t){return void 0!==t?(this.pos=Math.max(0,Math.min(this.pathElements.length,t)),this):this.pos;},remove:function remove(t){return this.pathElements.splice(this.pos,t),this;},move:function move(t,e,i,n){return d("M",{x:+t,y:+e},this.pathElements,this.pos++,i,n),this;},line:function line(t,e,i,n){return d("L",{x:+t,y:+e},this.pathElements,this.pos++,i,n),this;},curve:function curve(t,e,i,n,s,o,a,r){return d("C",{x1:+t,y1:+e,x2:+i,y2:+n,x:+s,y:+o},this.pathElements,this.pos++,a,r),this;},arc:function arc(t,e,i,n,s,o,a,r,l){return d("A",{rx:+t,ry:+e,xAr:+i,lAf:+n,sf:+s,x:+o,y:+a},this.pathElements,this.pos++,r,l),this;},scale:function scale(i,n){return e(this.pathElements,function(t,e){t[e]*="x"===e[0]?i:n;}),this;},translate:function translate(i,n){return e(this.pathElements,function(t,e){t[e]+="x"===e[0]?i:n;}),this;},transform:function transform(o){return e(this.pathElements,function(t,e,i,n,s){i=o(t,e,i,n,s);!i&&0!==i||(t[e]=i);}),this;},parse:function parse(t){"Z"===(t=t.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(t,e){return e.match(/[A-Za-z]/)&&t.push([]),t[t.length-1].push(e),t;},[]))[t.length-1][0].toUpperCase()&&t.pop();var t=t.map(function(n){var t=n.shift(),e=a[t.toLowerCase()];return r.extend({command:t},e.reduce(function(t,e,i){return t[e]=+n[i],t;},{}));}),e=[this.pos,0];return Array.prototype.push.apply(e,t),Array.prototype.splice.apply(this.pathElements,e),this.pos+=t.length,this;},stringify:function stringify(){var n=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(t,e){var i=a[e.command.toLowerCase()].map(function(t){return this.options.accuracy?Math.round(e[t]*n)/n:e[t];}.bind(this));return t+e.command+i.join(",");}.bind(this),"")+(this.close?"Z":"");},clone:function clone(t){return(t=new r.Svg.Path(t||this.close)).pos=this.pos,t.pathElements=this.pathElements.slice().map(function(t){return r.extend({},t);}),t.options=r.extend({},this.options),t;},splitByCommand:function splitByCommand(e){var i=[new r.Svg.Path()];return this.pathElements.forEach(function(t){t.command===e.toUpperCase()&&0!==i[i.length-1].pathElements.length&&i.push(new r.Svg.Path()),i[i.length-1].pathElements.push(t);}),i;}}),r.Svg.Path.elementDescriptions=a,r.Svg.Path.join=function(t,e,i){for(var n=new r.Svg.Path(e,i),s=0;s<t.length;s++){for(var o=t[s],a=0;a<o.pathElements.length;a++){n.pathElements.push(o.pathElements[a]);}}return n;};}((window,document,t)),function(d){"use strict";var s={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};d.Axis=d.Class.extend({constructor:function constructor(t,e,i,n){this.units=t,this.counterUnits=t===s.x?s.y:s.x,this.chartRect=e,this.axisLength=e[t.rectEnd]-e[t.rectStart],this.gridOffset=e[t.rectOffset],this.ticks=i,this.options=n;},createGridAndLabels:function createGridAndLabels(s,o,a,r,l){var h=r["axis"+this.units.pos.toUpperCase()],c=this.ticks.map(this.projectValue.bind(this)),u=this.ticks.map(h.labelInterpolationFnc);c.forEach(function(t,e){var i={x:0,y:0},n=c[e+1]?c[e+1]-t:Math.max(this.axisLength-t,30);!u[e]&&0!==u[e]||("x"===this.units.pos?(t=this.chartRect.x1+t,i.x=r.axisX.labelOffset.x,"start"===r.axisX.position?i.y=this.chartRect.padding.top+r.axisX.labelOffset.y+(a?5:20):i.y=this.chartRect.y1+r.axisX.labelOffset.y+(a?5:20)):(t=this.chartRect.y1-t,i.y=r.axisY.labelOffset.y-(a?n:0),"start"===r.axisY.position?i.x=a?this.chartRect.padding.left+r.axisY.labelOffset.x:this.chartRect.x1-10:i.x=this.chartRect.x2+r.axisY.labelOffset.x+10),h.showGrid&&d.createGrid(t,e,this,this.gridOffset,this.chartRect[this.counterUnits.len](),s,[r.classNames.grid,r.classNames[this.units.dir]],l),h.showLabel&&d.createLabel(t,n,e,u,this,h.offset,i,o,[r.classNames.label,r.classNames[this.units.dir],r.classNames[h.position]],a,l));}.bind(this));},projectValue:function projectValue(t,e,i){throw new Error("Base axis can't be instantiated!");}}),d.Axis.units=s;}((window,document,t)),function(s){"use strict";s.AutoScaleAxis=s.Axis.extend({constructor:function constructor(t,e,i,n){e=n.highLow||s.getHighLow(e.normalized,n,t.pos),this.bounds=s.getBounds(i[t.rectEnd]-i[t.rectStart],e,n.scaleMinSpace||20,n.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},s.AutoScaleAxis.super.constructor.call(this,t,i,this.bounds.values,n);},projectValue:function projectValue(t){return this.axisLength*(+s.getMultiValue(t,this.units.pos)-this.bounds.min)/this.bounds.range;}});}((window,document,t)),function(o){"use strict";o.FixedScaleAxis=o.Axis.extend({constructor:function constructor(t,e,i,n){var s=n.highLow||o.getHighLow(e.normalized,n,t.pos);this.divisor=n.divisor||1,this.ticks=n.ticks||o.times(this.divisor).map(function(t,e){return s.low+(s.high-s.low)/this.divisor*e;}.bind(this)),this.range={min:s.low,max:s.high},o.FixedScaleAxis.super.constructor.call(this,t,i,this.ticks,n),this.stepLength=this.axisLength/this.divisor;},projectValue:function projectValue(t){return this.axisLength*(+o.getMultiValue(t,this.units.pos)-this.range.min)/(this.range.max-this.range.min);}});}((window,document,t)),function(s){"use strict";s.StepAxis=s.Axis.extend({constructor:function constructor(t,e,i,n){s.StepAxis.super.constructor.call(this,t,i,n.ticks,n),this.stepLength=this.axisLength/(n.ticks.length-(n.stretch?1:0));},projectValue:function projectValue(t,e){return this.stepLength*e;}});}((window,document,t)),function(m){"use strict";var s={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:m.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:m.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};m.Line=m.Base.extend({constructor:function constructor(t,e,i,n){m.Line.super.constructor.call(this,t,e,s,m.extend({},s,i),n);},createChart:function createChart(h){var c={raw:this.data,normalized:m.getDataArray(this.data,h.reverseData,!0)},t=(this.svg=m.createSvg(this.container,h.width,h.height,h.classNames.chart),this.svg.elem("g").addClass(h.classNames.gridGroup)),u=this.svg.elem("g"),e=this.svg.elem("g").addClass(h.classNames.labelGroup),d=m.createChartRect(this.svg,h,s.padding),p=void 0===h.axisX.type?new m.StepAxis(m.Axis.units.x,c,d,m.extend({},h.axisX,{ticks:c.raw.labels,stretch:h.fullWidth})):h.axisX.type.call(m,m.Axis.units.x,c,d,h.axisX),f=void 0===h.axisY.type?new m.AutoScaleAxis(m.Axis.units.y,c,d,m.extend({},h.axisY,{high:(m.isNum(h.high)?h:h.axisY).high,low:(m.isNum(h.low)?h:h.axisY).low})):h.axisY.type.call(m,m.Axis.units.y,c,d,h.axisY);p.createGridAndLabels(t,e,this.supportsForeignObject,h,this.eventEmitter),f.createGridAndLabels(t,e,this.supportsForeignObject,h,this.eventEmitter),c.raw.series.forEach(function(n,s){var t,o,i=u.elem("g"),a=(i.attr({"series-name":n.name,meta:m.serialize(n.meta)},m.xmlNs.uri),i.addClass([h.classNames.series,n.className||h.classNames.series+"-"+m.alphaNumerate(s)].join(" ")),[]),r=[],e=(c.normalized[s].forEach(function(t,e){var i={x:d.x1+p.projectValue(t,e,c.normalized[s]),y:d.y1-f.projectValue(t,e,c.normalized[s])};a.push(i.x,i.y),r.push({value:t,valueIndex:e,meta:m.getMetaData(n,e)});}.bind(this)),{lineSmooth:m.getSeriesOption(n,h,"lineSmooth"),showPoint:m.getSeriesOption(n,h,"showPoint"),showLine:m.getSeriesOption(n,h,"showLine"),showArea:m.getSeriesOption(n,h,"showArea"),areaBase:m.getSeriesOption(n,h,"areaBase")}),l=("function"==typeof e.lineSmooth?e.lineSmooth:e.lineSmooth?m.Interpolation.cardinal():m.Interpolation.none())(a,r);e.showPoint&&l.pathElements.forEach(function(t){var e=i.elem("line",{x1:t.x,y1:t.y,x2:t.x+.01,y2:t.y},h.classNames.point).attr({value:[t.data.value.x,t.data.value.y].filter(function(t){return t;}).join(","),meta:t.data.meta},m.xmlNs.uri);this.eventEmitter.emit("draw",{type:"point",value:t.data.value,index:t.data.valueIndex,meta:t.data.meta,series:n,seriesIndex:s,axisX:p,axisY:f,group:i,element:e,x:t.x,y:t.y});}.bind(this)),e.showLine&&(t=i.elem("path",{d:l.stringify()},h.classNames.line,!0),this.eventEmitter.emit("draw",{type:"line",values:c.normalized[s],path:l.clone(),chartRect:d,index:s,series:n,seriesIndex:s,axisX:p,axisY:f,group:i,element:t})),e.showArea&&f.range&&(t=Math.max(Math.min(e.areaBase,f.range.max),f.range.min),o=d.y1-f.projectValue(t),l.splitByCommand("M").filter(function(t){return 1<t.pathElements.length;}).map(function(t){var e=t.pathElements[0],i=t.pathElements[t.pathElements.length-1];return t.clone(!0).position(0).remove(1).move(e.x,o).line(e.x,e.y).position(t.pathElements.length+1).line(i.x,o);}).forEach(function(t){var e=i.elem("path",{d:t.stringify()},h.classNames.area,!0).attr({values:c.normalized[s]},m.xmlNs.uri);this.eventEmitter.emit("draw",{type:"area",values:c.normalized[s],path:t.clone(),series:n,seriesIndex:s,axisX:p,axisY:f,chartRect:d,index:s,group:i,element:e});}.bind(this)));}.bind(this)),this.eventEmitter.emit("created",{bounds:f.bounds,chartRect:d,axisX:p,axisY:f,svg:this.svg,options:h});}});}((window,document,t)),function(y){"use strict";var o={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:y.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:y.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,onlyInteger:!1,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,horizontalBars:!1,distributeSeries:!1,reverseData:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};y.Bar=y.Base.extend({constructor:function constructor(t,e,i,n){y.Bar.super.constructor.call(this,t,e,o,y.extend({},o,i),n);},createChart:function createChart(c){var t,u={raw:this.data,normalized:c.distributeSeries?y.getDataArray(this.data,c.reverseData,c.horizontalBars?"x":"y").map(function(t){return[t];}):y.getDataArray(this.data,c.reverseData,c.horizontalBars?"x":"y")},e=(this.svg=y.createSvg(this.container,c.width,c.height,c.classNames.chart+(c.horizontalBars?" "+c.classNames.horizontalBars:"")),this.svg.elem("g").addClass(c.classNames.gridGroup)),i=this.svg.elem("g"),n=this.svg.elem("g").addClass(c.classNames.labelGroup);(t=c.stackBars?(t=y.serialMap(u.normalized,function(){return Array.prototype.slice.call(arguments).map(function(t){return t;}).reduce(function(t,e){return{x:t.x+e.x||0,y:t.y+e.y||0};},{x:0,y:0});}),y.getHighLow([t],y.extend({},c,{referenceValue:0}),c.horizontalBars?"x":"y")):y.getHighLow(u.normalized,y.extend({},c,{referenceValue:0}),c.horizontalBars?"x":"y")).high=+c.high||(0===c.high?0:t.high),t.low=+c.low||(0===c.low?0:t.low);var d,p,f,m,g=y.createChartRect(this.svg,c,o.padding),s=c.distributeSeries&&c.stackBars?u.raw.labels.slice(0,1):u.raw.labels,v=(c.horizontalBars?(d=f=void 0===c.axisX.type?new y.AutoScaleAxis(y.Axis.units.x,u,g,y.extend({},c.axisX,{highLow:t,referenceValue:0})):c.axisX.type.call(y,y.Axis.units.x,u,g,y.extend({},c.axisX,{highLow:t,referenceValue:0})),p=m=void 0===c.axisY.type?new y.StepAxis(y.Axis.units.y,u,g,{ticks:s}):c.axisY.type.call(y,y.Axis.units.y,u,g,c.axisY)):(p=f=void 0===c.axisX.type?new y.StepAxis(y.Axis.units.x,u,g,{ticks:s}):c.axisX.type.call(y,y.Axis.units.x,u,g,c.axisX),d=m=void 0===c.axisY.type?new y.AutoScaleAxis(y.Axis.units.y,u,g,y.extend({},c.axisY,{highLow:t,referenceValue:0})):c.axisY.type.call(y,y.Axis.units.y,u,g,y.extend({},c.axisY,{highLow:t,referenceValue:0}))),c.horizontalBars?g.x1+d.projectValue(0):g.y1-d.projectValue(0)),b=[];p.createGridAndLabels(e,n,this.supportsForeignObject,c,this.eventEmitter),d.createGridAndLabels(e,n,this.supportsForeignObject,c,this.eventEmitter),u.raw.series.forEach(function(o,a){var r=a-(u.raw.series.length-1)/2,l=c.distributeSeries&&!c.stackBars?p.axisLength/u.normalized.length/2:c.distributeSeries&&c.stackBars?p.axisLength/2:p.axisLength/u.normalized[a].length/2,h=i.elem("g");h.attr({"series-name":o.name,meta:y.serialize(o.meta)},y.xmlNs.uri),h.addClass([c.classNames.series,o.className||c.classNames.series+"-"+y.alphaNumerate(a)].join(" ")),u.normalized[a].forEach(function(t,e){var i,n,s=c.distributeSeries&&!c.stackBars?a:c.distributeSeries&&c.stackBars?0:e,s=c.horizontalBars?{x:g.x1+d.projectValue(t&&t.x?t.x:0,e,u.normalized[a]),y:g.y1-p.projectValue(t&&t.y?t.y:0,s,u.normalized[a])}:{x:g.x1+p.projectValue(t&&t.x?t.x:0,s,u.normalized[a]),y:g.y1-d.projectValue(t&&t.y?t.y:0,e,u.normalized[a])};p instanceof y.StepAxis&&(p.options.stretch||(s[p.units.pos]+=l*(c.horizontalBars?-1:1)),s[p.units.pos]+=c.stackBars||c.distributeSeries?0:r*c.seriesBarDistance*(c.horizontalBars?-1:1)),i=b[e]||v,b[e]=i-(v-s[p.counterUnits.pos]),void 0!==t&&((n={})[p.units.pos+"1"]=s[p.units.pos],n[p.units.pos+"2"]=s[p.units.pos],n[p.counterUnits.pos+"1"]=c.stackBars?i:v,n[p.counterUnits.pos+"2"]=c.stackBars?b[e]:s[p.counterUnits.pos],n.x1=Math.min(Math.max(n.x1,g.x1),g.x2),n.x2=Math.min(Math.max(n.x2,g.x1),g.x2),n.y1=Math.min(Math.max(n.y1,g.y2),g.y1),n.y2=Math.min(Math.max(n.y2,g.y2),g.y1),i=h.elem("line",n,c.classNames.bar).attr({value:[t.x,t.y].filter(function(t){return t;}).join(","),meta:y.getMetaData(o,e)},y.xmlNs.uri),this.eventEmitter.emit("draw",y.extend({type:"bar",value:t,index:e,meta:y.getMetaData(o,e),series:o,seriesIndex:a,axisX:f,axisY:m,chartRect:g,group:h,element:i},n)));}.bind(this));}.bind(this)),this.eventEmitter.emit("created",{bounds:d.bounds,chartRect:g,axisX:f,axisY:m,svg:this.svg,options:c});}});}((window,document,t)),function(v){"use strict";function d(t,e,i){e=e.x>t.x;return e&&"explode"===i||!e&&"implode"===i?"start":e&&"implode"===i||!e&&"explode"===i?"end":"middle";}var b={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:v.noop,labelDirection:"neutral",reverseData:!1};v.Pie=v.Base.extend({constructor:function constructor(t,e,i,n){v.Pie.super.constructor.call(this,t,e,b,v.extend({},b,i),n);},createChart:function createChart(t){var e,i,n,s,o,a=[],r=t.startAngle,l=v.getDataArray(this.data,t.reverseData),h=(this.svg=v.createSvg(this.container,t.width,t.height,t.donut?t.classNames.chartDonut:t.classNames.chartPie),i=v.createChartRect(this.svg,t,b.padding),n=Math.min(i.width()/2,i.height()/2),o=t.total||l.reduce(function(t,e){return t+e;},0),n-=t.donut?t.donutWidth/2:0,s="outside"===t.labelPosition||t.donut?n:"center"===t.labelPosition?0:n/2,s+=t.labelOffset,{x:i.x1+i.width()/2,y:i.y2+i.height()/2}),c=1===this.data.series.filter(function(t){return t.hasOwnProperty("value")?0!==t.value:0!==t;}).length;t.showLabel&&(e=this.svg.elem("g",null,null,!0));for(var u=0;u<this.data.series.length;u++){var p=this.data.series[u],f=(a[u]=this.svg.elem("g",null,null,!0),a[u].attr({"series-name":p.name},v.xmlNs.uri),a[u].addClass([t.classNames.series,p.className||t.classNames.series+"-"+v.alphaNumerate(u)].join(" ")),r+l[u]/o*360),m=(f-r==360&&(f-=.01),v.polarToCartesian(h.x,h.y,n,r-(0===u||c?0:.2))),g=v.polarToCartesian(h.x,h.y,n,f),g=new v.Svg.Path(!t.donut).move(g.x,g.y).arc(n,n,0,180<f-r,0,m.x,m.y),m=(t.donut||g.line(h.x,h.y),a[u].elem("path",{d:g.stringify()},t.donut?t.classNames.sliceDonut:t.classNames.slicePie));m.attr({value:l[u],meta:v.serialize(p.meta)},v.xmlNs.uri),t.donut&&m.attr({style:"stroke-width: "+ +t.donutWidth+"px"}),this.eventEmitter.emit("draw",{type:"slice",value:l[u],totalDataSum:o,index:u,meta:p.meta,series:p,group:a[u],element:m,path:g.clone(),center:h,radius:n,startAngle:r,endAngle:f}),t.showLabel&&(p=v.polarToCartesian(h.x,h.y,s,r+(f-r)/2),!(m=t.labelInterpolationFnc((this.data.labels||l)[u],u))&&0!==m||(g=e.elem("text",{dx:p.x,dy:p.y,"text-anchor":d(h,p,t.labelDirection)},t.classNames.label).text(""+m),this.eventEmitter.emit("draw",{type:"label",index:u,group:e,element:g,text:""+m,x:p.x,y:p.y}))),r=f;}this.eventEmitter.emit("created",{chartRect:i,svg:this.svg,options:t});},determineAnchorPosition:d});}((window,document,t)),t;}),window.chartist=window.chartist||{},window.chartist.colorMapping={myColor:"#47A82E",swissColor:"#A3C33C",mapMin:"#D8D8D8",mapMedium:"#B7B0AC",mapMax:"#827f7f",referenceColor:"#47A82E",L02:"#bbd272",L10:"#905f02",L33:"#47a82f",L14:"#ff5800",L07:"#ffd200",D06:"#f2d87c",L05:"#ff9000",L36:"#ecfcb4",L04:"#642707",L34:"#b84102",L09:"#9fc427",L16:"#fb8d54"},Chartist.getHighLow=function(t,e,n){var s={high:void 0===(e=Chartist.extend({},e,n?e["axis"+n.toUpperCase()]:{})).high?-Number.MAX_VALUE:+e.high,low:void 0===e.low?Number.MAX_VALUE:+e.low},o=void 0===e.high,a=void 0===e.low;return(o||a)&&function recursiveHighLow(t){if(void 0!==t)if(t instanceof Array)for(var e=0;e<t.length;e++){recursiveHighLow(t[e]);}else{var i=n?+t[n]:+t;o&&i>s.high&&(s.high=i),a&&i<s.low&&(s.low=i);}}(t),s.high<=s.low&&(0===s.low?s.high=1:s.low<0?s.high=0:s.low=0),e.highOffset&&(s.high+=e.highOffset),e.lowOffset&&(s.low-=e.lowOffset),s;},Chartist.Pie.prototype.createChart=function(t){var e,i,n,s=[],o=t.startAngle,a=Chartist.getDataArray(this.data,t.reverseData),r={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:Chartist.noop,labelDirection:"neutral",reverseData:!1};this.svg=Chartist.createSvg(this.container,t.width,t.height,t.donut?t.classNames.chartDonut:t.classNames.chartPie),r=Chartist.createChartRect(this.svg,t,r.padding),e=Math.min(r.width()/2,r.height()/2),n=t.total||a.reduce(function(t,e){return t+e;},0),e-=t.donut?t.donutWidth/2:0,i="outside"===t.labelPosition||t.donut?e:"center"===t.labelPosition?0:e/2,i+=t.labelOffset;for(var l,h={x:r.x1+r.width()/2,y:r.y2+r.height()/2},c=1===this.data.series.filter(function(t){return t.hasOwnProperty("value")?0!==t.value:0!==t;}).length,u=0;u<this.data.series.length;u++){var d=this.data.series[u],p=(s[u]=this.svg.elem("g",null,null,!0),s[u].attr({"series-name":d.name},Chartist.xmlNs.uri),s[u].addClass([t.classNames.series,d.className||t.classNames.series+"-"+Chartist.alphaNumerate(u)].join(" ")),o+a[u]/n*360),f=(p-o==360&&(p-=.01),Chartist.polarToCartesian(h.x,h.y,e,o-(0===u||c?0:.2)+.6)),m=Chartist.polarToCartesian(h.x,h.y,e,p-.6),m=new Chartist.Svg.Path(!t.donut).move(m.x,m.y).arc(e,e,0,180<p-o,0,f.x,f.y),f=(t.donut||m.line(h.x,h.y),s[u].elem("path",{d:m.stringify()},t.donut?t.classNames.sliceDonut:t.classNames.slicePie));f.attr({value:a[u],meta:Chartist.serialize(d.meta)},Chartist.xmlNs.uri),t.donut&&f.attr({style:"stroke-width: "+ +t.donutWidth+"px"}),this.eventEmitter.emit("draw",{type:"slice",value:a[u],totalDataSum:n,index:u,meta:d.meta,series:d,group:s[u],element:f,path:m.clone(),center:h,radius:e,startAngle:o,endAngle:p}),t.showLabel&&(d=Chartist.polarToCartesian(h.x,h.y,i,o+(p-o)/2),!(f=t.labelInterpolationFnc((this.data.labels||a)[u],u))&&0!==f||(m=s[u].elem("text",{dx:d.x,dy:d.y,"text-anchor":(m=d,l=t.labelDirection,(m=m.x>h.x)&&"explode"===l||!m&&"implode"===l?"start":m&&"implode"===l||!m&&"explode"===l?"end":"middle")},t.classNames.label).text(""+f),this.eventEmitter.emit("draw",{type:"label",index:u,group:s[u],element:m,text:""+f,x:d.x,y:d.y}))),o=p;}this.eventEmitter.emit("created",{chartRect:r,svg:this.svg,options:t});},!function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.returnExportsGlobal=e();}):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?module.exports=e():t["Chartist.plugins.pointlabels"]=e();}(this,function(){return function(i){"use strict";var t={labelClass:"ct-label",labelOffset:{x:0,y:-10},textAnchor:"middle"};i.plugins=i.plugins||{},i.plugins.pointlabel=function(e){return e=i.extend({},t,e),function(t){t instanceof i.Line?t.on("draw",function(t){"point"!==t.type||t.series.type&&"reference"===t.series.type?"point"===t.type&&t.series.type&&"reference"===t.series.type&&t.group.addClass("ct-reference"):t.group.elem("text",{x:t.x+e.labelOffset.x,y:t.y+e.labelOffset.y,style:"text-anchor: "+e.textAnchor},e.labelClass).text(t.value.y+"%");}):t instanceof i.Bar&&t.on("draw",function(t){"bar"===t.type&&t.group.elem("text",{x:t.x1+e.labelOffset.x,y:t.y2+e.labelOffset.y,style:"text-anchor: "+e.textAnchor},e.labelClass).text(t.value.y+"%");});};};}((window,document,Chartist)),Chartist.plugins.pointlabels;}),!function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.returnExportsGlobal=e();}):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?module.exports=e():t["Chartist.plugins.referencelines"]=e();}(this,function(){return function(e){"use strict";var i={labelClass:"ct-label",labelOffset:{x:0,y:-10},textAnchor:"middle"};e.plugins=e.plugins||{},e.plugins.referenceline=function(t){return t=e.extend({},i,t),function(t){t instanceof e.Line&&t.on("draw",function(t){"point"===t.type&&t.series.type&&"reference"===t.series.type&&t.group.addClass("ct-reference");});};};}((window,document,Chartist)),Chartist.plugins.referencelines;}),!function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.returnExportsGlobal=e();}):"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?module.exports=e():t["Chartist.plugins.tooltips"]=e();}(this,function(){return function(i){"use strict";var t={currency:null};i.plugins=i.plugins||{},i.plugins.tooltip=function(s){s=i.extend({},t,s);var o="line";return function(t){var e=".ct-point",t=(t instanceof i.Bar?(e=".ct-bar",o="bar"):t instanceof i.Pie&&(o=!0===t.options.donut?(e=".ct-slice-donut","donut"):(e=".ct-slice","pie")),$(t.container)),n=t.append('<div class="tooltip"></div>').find(".tooltip").hide();t.on("mouseenter click",e,function(){var t,e=$(this),i="";"function"==typeof s.valueFct?i=s.valueFct(e):(e.attr("ct:meta")?i+=e.attr("ct:meta")+"<br>":"pie"===o&&0<(t=e.next(".ct-label")).length&&(i+=t.text()+"<br>"),t=e.attr("ct:value"),i+=t=s.currency?s.currency+t.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,"):t),n.html(i).show();}),t.on("mouseleave",e,function(){n.hide();}),t.on("mousemove",function(t){n.css({left:(t.offsetX||t.originalEvent.layerX)-n.width()/2-10,top:(t.offsetY||t.originalEvent.layerY)-n.height()-40});});};};}((window,document,Chartist)),Chartist.plugins.tooltips;}),$(function(){$("[data-mch-module=green] [data-toggle=popover]").uiPopOverComponent();}),!function(r){"use strict";T.Module.Dropdown=T.createModule({start:function start(t){var o=this,a=r(this._ctx);o._events.on("t.sync",o.sync.bind(this)),o.isPushStateEnabled=o.isPushStateEnabled(),o.sync=!0,a.on("click keypress",".js-dropdown__menu__item",function(t){var e=r(this),i=a.data("option-key"),n=e.data("value"),s=r(".js-dropdown__menu__item[data-value="+n+"]",a).text();a.removeClass("js-dropdown__is-unset"),t.preventDefault(),o.hideDropdown(),o.dropdownSetValue(e.text(),n),o.triggerDependentDropdowns(i,n,s);}),o._ensureSelection(),t();},sync:function sync(){var t,e,i,n,s;this.sync&&(e=(t=r(this._ctx)).data("option-key"),i=t.data("selected-value"),n=0<(s=r(".js-dropdown__menu__item[data-value="+i+"]",t)).length,s=s.text(),n&&e&&i&&s&&(t.removeClass("js-dropdown__is-unset"),this.dropdownSetValue(s,i),this.triggerDependentDropdowns(e,i,s)),this.sync=!1),this._ensureSelection();},_ensureSelection:function _ensureSelection(){var t,e,i=r(this._ctx),n=i.find(".js-dropdown__menu__item").first();i.hasClass("js-dropdown__is-unset")&&n&&0<n.length&&(t=n.text(),n=n.data("value"),e=i.data("option-key"),i.removeClass("js-dropdown__is-unset"),this.dropdownSetValue(t,n),this._events.emit("green.dropdown.select",e,n,!1,t));},hideDropdown:function hideDropdown(){var t=r(this._ctx);r(".js-dropdown__toggle",t).attr("aria-expanded","false"),r(".js-dropdown",t).removeClass("open");},dropdownSetValue:function dropdownSetValue(t,e){var i=r(this._ctx);t+='<span class="close"></span>',r(".js-dropdown__toggle",i).html(t),i.data("selected-value",e);},triggerDependentDropdowns:function triggerDependentDropdowns(t,i,e){var n=this,s=r(this._ctx),s=r(".js-dropdown__menu__item",s);n._events.emit("green.dropdown.select",t,i,!1,e),s.each(function(t,e){e=r(e).data("value");e!==i&&n._events.emit("green.dropdown.deselect",e);});},isPushStateEnabled:function isPushStateEnabled(){return history&&history.pushState;}});}(jQuery),!function(r){"use strict";T.Module.Map=T.createModule({start:function start(t){var n=this,e=r(this._ctx);n.flagData={TG:{xPosition:"365",yPosition:"-30",fileName:"Wappen_Thurgau.svg"},AR:{xPosition:"394",yPosition:"14",fileName:"Wappen_Appenzell_AR.svg"},AI:{xPosition:"412",yPosition:"25",fileName:"Wappen_Appenzell_AI.svg"},SG:{xPosition:"399",yPosition:"60",fileName:"Wappen_St_Gallen.svg"},GR:{xPosition:"432",yPosition:"150",fileName:"Wappen_Graubuenden.svg"},GL:{xPosition:"367",yPosition:"90",fileName:"Wappen_Glarus.svg"},ZG:{xPosition:"294",yPosition:"54",fileName:"Wappen_Zug.svg"},ZH:{xPosition:"309",yPosition:"6",fileName:"Wappen_Zuerich.svg"},SZ:{xPosition:"322",yPosition:"76",fileName:"Wappen_Schwyz.svg"},UR:{xPosition:"307",yPosition:"123",fileName:"Wappen_Uri.svg"},TI:{xPosition:"327",yPosition:"210",fileName:"Wappen_Tessin.svg"},NW:{xPosition:"277",yPosition:"97",fileName:"Wappen_Nidwalden.svg"},SH:{xPosition:"296",yPosition:"-59",fileName:"Wappen_Schaffhausen.svg"},OW:{xPosition:"247",yPosition:"114",fileName:"Wappen_Obwalden.svg"},LU:{xPosition:"238",yPosition:"65",fileName:"Wappen_Luzern.svg"},AG:{xPosition:"245",yPosition:"5",fileName:"Wappen_Aargau.svg"},BL:{xPosition:"194",yPosition:"-1",fileName:"Wappen_Basel_Land.svg"},BS:{xPosition:"170",yPosition:"-27",fileName:"Wappen_Basel_Stadt.svg"},SO:{xPosition:"156",yPosition:"40",fileName:"Wappen_Solothurn.svg"},BE:{xPosition:"168",yPosition:"119",fileName:"Wappen_Bern.svg"},VS:{xPosition:"166",yPosition:"245",fileName:"Wappen_Wallis.svg"},JU:{xPosition:"110",yPosition:"13",fileName:"Wappen_Jura.svg"},NE:{xPosition:"61",yPosition:"85",fileName:"Wappen_Neuenburg.svg"},FR:{xPosition:"100",yPosition:"146",fileName:"Wappen_Freiburg.svg"},VD:{xPosition:"27",yPosition:"160",fileName:"Wappen_Waadt.svg"},GE:{xPosition:"-36",yPosition:"242",fileName:"Wappen_Genf.svg"}},n.appContext=this._sandbox._application._config.appContext||"/",n.$flagImage=e.find(".js-map__flag__svg"),n.cantonCache=null,this._events.on("green.map.udpate",function(t,e,i){doesNestedPropertyExist(t,"data","overview")&&(doesNestedPropertyExist(t.data.overview,"regionPercentages")&&n.colorMap(t.data.overview.regionPercentages,e,i),doesNestedPropertyExist(t.data.overview,"myRegionPercentage","region")&&n.showFlag(t.data.overview.myRegionPercentage.region));}),t();},showFlag:function showFlag(t){var e=this,i=r(this._ctx),n={},s="";t&&(e.cantonCache&&i.removeClass("a-map--"+e.cantonCache),i.addClass("a-map--"+t)),e.flagData[t]?(n=e.flagData[t],s=e.$flagImage.attr("data-src-path")+"/img/svg/flag/"+n.fileName,e.$flagImage.show(),e.$flagImage.attr("xlink:href",s),e.$flagImage.attr("x",n.xPosition),e.$flagImage.attr("y",n.yPosition)):e.$flagImage.hide();},colorMap:function colorMap(t,s,o){var a=r(this._ctx);t&&r.each(t,function(t,e){var i,n;e.id&&(n=(i=r("#CH-"+e.id,a)).attr("class"),e=parseFloat(e.percentage).toFixed(1),0!==i.length&&(n=n.replace(/a-map__canton--rank-(low|high|medium)/gi,"").trim(),o<e?i.attr("class",n+" a-map__canton--rank-high"):e<s?i.attr("class",n+" a-map__canton--rank-low"):i.attr("class",n+" a-map__canton--rank-medium")));});}});}(jQuery),!function(n){"use strict";T.Module.BarChart=T.createModule({start:function start(t){var e=n(this._ctx),i=(this.chart=null,{width:"100%",height:e.data("height")||"300px",highOffset:4,axisX:{offset:30,labelOffset:{x:0,y:10},labelInterpolationFnc:function labelInterpolationFnc(t){return t.substring(0,3).toUpperCase();}},axisY:{offset:70,labelOffset:{x:-35,y:7},scaleMinSpace:40,labelInterpolationFnc:function labelInterpolationFnc(t){return t+"%";}},plugins:[Chartist.plugins.pointlabel()]});this._events.on("green.barchart.udpate",function(t){t?(e.show(),this.chart?this.chart.update(t):(this.chart=new Chartist.Bar(".js-bar-chart",t,i),this.chart.on("draw",function(t){"grid"!==t.type||"y"!==t.axis.units.pos||0!==t.index&&t.index!==t.axis.ticks.length-1||t.element.addClass("chartist__bar__edges"),"bar"===t.type&&t.series.hexColor&&t.element.attr({style:"stroke:"+t.series.hexColor}),"grid"===t.type&&"x"===t.axis.units.pos&&t.element.remove();}))):e.hide();}),t();}});}(jQuery),!function(e){"use strict";T.Module.CantonList=T.createModule({start:function start(t){e(this._ctx);t();}});}(jQuery),!function(i){"use strict";T.Module.DonutChart=T.createModule({start:function start(t){var e=i(this._ctx),s=i(".js-donut-chart"),o=(this.chart=null,{height:e.data("height")||"100%",width:e.data("height")||"100%",donut:!0,donutWidth:30,startAngle:0,chartPadding:{top:0,right:5,bottom:0,left:0},plugins:[Chartist.plugins.tooltip({valueFct:function valueFct(t){var e=t.attr("ct:value");return t.next().text()+"<br>"+e+"%";}})]});this._events.on("green.donutchart.udpate",function(n){this.chart?this.chart.update(n):(this.chart=new Chartist.Pie(".js-donut-chart",n,o),this.chart.on("draw",function(t){var e;"label"===t.type&&t.element.addClass("m-chartist__donut__label"),"slice"===t.type&&t.series.hexColor&&(e={style:t.element.attr("style")+"; stroke: "+t.series.hexColor+";"},t.element.attr(e));}),this.chart.on("created",function(t){s.find(".js-chartist__donut__title").remove();var e=s.append('<div class="m-chartist__donut__title js-chartist__donut__title"><span>'+n.title+"</span></div>").find(".m-chartist__donut__title"),i=Math.min(parseInt(t.chartRect.width())-t.chartRect.padding.left-t.chartRect.padding.right,parseInt(t.chartRect.height())-t.chartRect.padding.top-t.chartRect.padding.bottom),i=Math.sqrt(2*Math.pow((i-2*o.donutWidth)/2,2));e.css({position:"absolute",left:(t.chartRect.x1+t.chartRect.x2)/2-i/2,top:(t.chartRect.y1+t.chartRect.y2)/2-i/2,width:i,height:i});}));}),t();}});}(jQuery),!function(a){"use strict";T.Module.LabelSelect=T.createModule({start:function start(t){var s=this,o=a(this._ctx);s.values={},s.hbsSource=a(o.data("tpl-content")).html(),s.hbsTemplate=Handlebars.compile(s.hbsSource),s.$dropdown=a(".js-label-select__dropdown",o),s._events.on("green.chart.update",function(t){var i;doesNestedPropertyExist(t,"data","overview","myLabelPercentages")&&(i=[],s.trackingLabels={},a.each(t.data.overview.myLabelPercentages,function(t,e){i.push({optionText:e.label,optionValue:e.id}),s.trackingLabels[e.label]=parseFloat(e.percentage).toFixed(1)+"%";}),t={dependent:!1,items:{label:o.data("select-label")||"",class:"",title:o.data("select-default")||"",optionKey:"label",optionDefaultValue:i[0].optionValue,options:i}},s._render(t));}),this._events.on("green.dropdown.select",function(t,e,i){var n=a(".js-dropdown-"+e,o);"year"===t&&a(".js-label-select__year",o).text(e),s.values[t]=e,"label"===t&&s._events.emit("green.labelselect.change",s.trackingLabels,s.values),a(".js-label-select__bridge-text",o).removeClass("is-hidden"),0<n.length&&(n.removeClass("is-hidden"),i&&n.find(".js-dropdown__toggle").focus());}),this._events.on("green.dropdown.deselect",function(t){a(".js-dropdown-"+t,o).addClass("is-hidden");}),t();},_render:function _render(t){a(this._ctx);this.$dropdown.html(this.hbsTemplate(t)),this._sandbox.addModules(this.$dropdown.get(0));}});}(jQuery),!function(n){"use strict";T.Module.LineChart=T.createModule({start:function start(t){var e=n(this._ctx),i=(this.settings={},this.settings.showValues=!0===e.data("show-values"),this.chart=null,{width:"100%",height:e.data("height")||"300px",chartPadding:{top:15,right:-30,bottom:5,left:0},lineSmooth:!1,axisX:{showGrid:!1,labelInterpolationFnc:function labelInterpolationFnc(t){return t.substring(0,3).toUpperCase();},offset:30,labelOffset:{x:-10,y:10}},axisY:{onlyInteger:!0,offset:70,labelOffset:{x:-30,y:7},low:0,scaleMinSpace:40,labelInterpolationFnc:function labelInterpolationFnc(t){return t+"%";}},plugins:[Chartist.plugins.referenceline()]});this.settings.showValues&&i.plugins.push(Chartist.plugins.pointlabel()),this._events.on("green.linechart.udpate",function(t){this.chart?this.chart.update(t):(this.chart=new Chartist.Line(".js-line-chart",t,i),this.chart.on("draw",function(t){"point"!==t.type&&"line"!==t.type||!t.series.color||t.element.attr({style:"stroke:"+t.series.hexColor}),"grid"!==t.type||"y"!==t.axis.units.pos||0!==t.index&&t.index!==t.axis.ticks.length-1||t.element.addClass("chartist__bar__edges");}));}),t();}});}(jQuery),!function(s){"use strict";T.Module.MapChart=T.createModule({start:function start(t){var n=this,e=s(this._ctx);n.$legend=s(".js-map-chart__info__legend",e),n.hbsLegendSource=e.find("#m-map-chart__legend__template").html(),n.hbsLegendTemplate=Handlebars.compile(n.hbsLegendSource),n.$percentage=s(".js-map-chart__info__percentage",e),n.hbsPercentageSource=e.find("#m-map-chart__percentage__template").html(),n.hbsPercentageTemplate=Handlebars.compile(n.hbsPercentageSource),n._events.on("green.map.udpate",function(t,e,i){n.setLegend(e,i),n.setPercentage(t);}),t();},setLegend:function setLegend(t,e){var i,n;this.$legend.empty(),i={modifier:"map",color:window.chartist.colorMapping.mapMax,decorator:"",labels:{legend:"> "+e+"%"}},n=this.hbsLegendTemplate(i),this.$legend.append(s(n)),i={modifier:"map",color:window.chartist.colorMapping.mapMedium,decorator:"",labels:{legend:t+"% - "+e+"%"}},n=this.hbsLegendTemplate(i),this.$legend.append(s(n)),i={modifier:"map",color:window.chartist.colorMapping.mapMin,decorator:"",labels:{legend:"< "+t+"%"}},n=this.hbsLegendTemplate(i),this.$legend.append(s(n));},setPercentage:function setPercentage(t){doesNestedPropertyExist(t,"canton","mapChart","percentageLegendMapSwiss")&&(t=t.canton.mapChart.percentageLegendMapSwiss,t=this.hbsPercentageTemplate(t),this.$percentage.html(s(t)));}});}(jQuery),!function(a){"use strict";T.Module.PeriodSelect=T.createModule({start:function start(t){var s=this,o=a(this._ctx);s.values={},this._events.on("green.dropdown.select",function(t,e,i){var n=a(".js-dropdown-"+e,o);s.values[t]=e,"type"===t&&a(".js-period-select__bridge-text",o).removeClass("is-hidden"),0<n.length&&(n.removeClass("is-hidden"),i&&n.find(".js-dropdown__toggle").focus()),(e=s.values.type)&&(t===e||"type"===t)&&s.values[e]&&s._events.emit("green.chart.reload",e,s.values[e]);}),this._events.on("green.dropdown.deselect",function(t){a(".js-dropdown-"+t,o).addClass("is-hidden");}),t();}});}(jQuery),!function(e){"use strict";T.Module.TeaserPersonalized=T.createModule({start:function start(t){e(this._ctx);t();}});}(jQuery),!function(n){"use strict";T.Module.Canton=T.createModule({start:function start(t){var e=this,i=n(this._ctx);e.hbsSource=n(i.data("tpl-content")).html(),e.hbsTemplate=Handlebars.compile(e.hbsSource),e.data={},e.threshold={min:parseFloat(i.data("threshold-min"))||17,max:parseFloat(i.data("threshold-max"))||15},e.visibleItems=i.data("visible-items")||5,e._events.on("green.chart.update",function(t){doesNestedPropertyExist(t,"data","overview")&&(e._events.emit("green.map.udpate",t,e.threshold.min,e.threshold.max),e.data=t.data.overview,doesNestedPropertyExist(t,"canton","cantonList")&&(doesNestedPropertyExist(t.canton.cantonList,"year")&&(e.data.year=t.canton.cantonList.year),doesNestedPropertyExist(t.canton.cantonList,"myGoal")&&(e.data.myGoal=t.canton.cantonList.myGoal),doesNestedPropertyExist(t.canton.cantonList,"moreButtonText")&&(e.data.moreButtonText=t.canton.cantonList.moreButtonText),doesNestedPropertyExist(t.canton.cantonList,"lessButtonText")&&(e.data.lessButtonText=t.canton.cantonList.lessButtonText)),t.range&&(e.data.range=t.range),e._prepareListData(),e._render());}),i.on("click",".js-m-canton-list__action",function(t){t.preventDefault();var e=n(this).closest(".js-m-canton-list__toggle");i.find(".js-m-canton-list__item--hidden").fadeToggle(300),setTimeout(function(){e.toggleClass("state-visible");},300);}),t();},_render:function _render(){var t=n(this._ctx),e=this.data,t=t.find(".js-o-canton__content");t.html(this.hbsTemplate(e)),this._sandbox.addModules(t.get(0));},_prepareListData:function _prepareListData(){var t,e,i,n,s=this,o=s.data,a=30;function getMax(t,e){"percentage"===t&&(e[t]>a&&(a=e[t]),e.visualPercentage=s._getPercentage(e[t]));}function iterate(t,e,i){for(var n in t){t.hasOwnProperty(n)&&("object"==_typeof(t[n])?iterate(t[n],e+"."+n,i):i(n,t));}}if(iterate(o.countryPercentage,"",getMax),iterate(o.regionPercentages,"",getMax),iterate(o.myPercentage,"",getMax),iterate(o.myRegionPercentage,"",getMax),e=o.year,o.goals&&o.goals[e]&&(e=o.goals[e],a<e&&(a=e),o.goal={percentage:e,visualPercentage:s._getPercentage(e),chartPercentage:100/a*e},e<10?o.goal.goalLeft=!0:25<e&&(o.goal.goalRight=!0)),t=Math.ceil(a/6),a=Math.ceil(a/t)*t,iterate(o,"",function(t,e){"percentage"===t&&(e.chartPercentage=100/a*e[t]);}),o.cantons=[],o.regionPercentages){for(i in o.regionPercentages){o.regionPercentages.hasOwnProperty(i)&&o.cantons.push(o.regionPercentages[i]);}for(o.cantons.sort(function(t,e){return t.percentage<e.percentage?1:t.percentage>e.percentage?-1:0;}),n=0;n<o.cantons.length;n++){o.cantons[n].rank=n+1,o.cantons[n].percentage>s.threshold.max?o.cantons[n].above=!0:o.cantons[n].percentage<s.threshold.min&&(o.cantons[n].below=!0),n+1>s.visibleItems&&(o.cantons[n].hidden=!0);}}var r=0;for(o.gridlines={};r<a;){o.gridlines[r]={percentage:100/a*r,value:r+"%",edge:!1},r+=t;}o.gridlines[r]={percentage:100/a*r,value:r+"%",edge:!0},o.gridlines[0].edge=!0;},_getPercentage:function _getPercentage(t){return t.toFixed(1)+"%";}});}(jQuery),!function(o){"use strict";T.Module.LabelOverview=T.createModule({start:function start(t){var i=this,e=o(this._ctx);9===getInternetExplorerVersion()&&e.addClass("is-ie9"),i.viewport=ui&&ui.Bootstrap&&ui.Bootstrap.activeView?ui.Bootstrap.activeView:"xs",i.visible=!1,i.$legend=e.find(".js-label-overview__legend"),i.$sideLegend=e.find(".js-label-overview__legend--side"),i.$headline=e.find(".js-label-overview__headline"),i.$link=e.find(".js-label-overview__legend__link"),i.hbsChartSource=e.find("#o-label-overview__chart-template").html(),i.hbsHeadlineSource=e.find("#o-label-overview__headline-template").html(),i.hbsLinkSource=e.find("#o-label-overview__link-template").html(),i.hbsChartTemplate=Handlebars.compile(i.hbsChartSource),i.hbsHeadlineTemplate=Handlebars.compile(i.hbsHeadlineSource),i.hbsLinkTemplate=Handlebars.compile(i.hbsLinkSource),i.type=null,i.year=null,i.period=null,i._events.on("green.chart.update",function(t){var e;doesNestedPropertyExist(t,"data","overview","myLabelPercentages")&&((e={}).series=t.data.overview.myLabelPercentages,o.each(e.series,function(t,e){e.name=e.label,e.value=parseFloat(e.percentage).toFixed(1),e.hexColor=window.chartist.colorMapping[e.id];}),t.range&&(e.range=t.range),doesNestedPropertyExist(t,"labelOverview","donutChart","title")&&(e.title=t.labelOverview.donutChart.title),doesNestedPropertyExist(t,"labelOverview","headlineChart")&&(e.headlineChart=t.labelOverview.headlineChart),doesNestedPropertyExist(t,"labelOverview","linkMoreTarget")&&(e.link={},e.link.link=t.labelOverview.link,e.link.linkMoreText=t.labelOverview.linkMoreText,e.link.linkMoreNewTab=t.labelOverview.linkMoreNewTab,e.link.linkMoreTarget=t.labelOverview.linkMoreTarget),i.setLink(e),i.setHeadline(e),i.setLegend(e),i.updateChart(e));}),t();},setLegend:function setLegend(t){var i,n=this,s="";n.$legend.empty(),n.$sideLegend.empty(),t.range&&(s=n.hbsChartTemplate({modifier:"range",decorator:"",labels:{legend:t.range}}),n.$legend.append(o(s))),o.each(t.series,function(t,e){i={modifier:"label o-label-overview--label",color:e.hexColor,decorator:"",labels:{legend:e.name},value:e.value},s=n.hbsChartTemplate(i),n.$sideLegend.append(o(s));}),4<t.series.length?n.$sideLegend.removeClass("o-label-overview__legend__alignment--onecol"):n.$sideLegend.addClass("o-label-overview__legend__alignment--onecol");},setHeadline:function setHeadline(t){t=this.hbsHeadlineTemplate(t.headlineChart);this.$headline.html(o(t));},setLink:function setLink(t){t=this.hbsLinkTemplate(t.link);this.$link.html(o(t));},updateChart:function updateChart(i){i.labels=[],o.each(i.series,function(t,e){i.labels.push(e.name);}),this._events.emit("green.donutchart.udpate",i);}});}(jQuery),!function(p){"use strict";T.Module.LabelYear=T.createModule({start:function start(t){var s=this,e=p(this._ctx);s.data={},s.viewport=ui&&ui.Bootstrap&&ui.Bootstrap.activeView?ui.Bootstrap.activeView:"xs",s.visible=!1,s.$legend=e.find(".js-label-year__legend"),s.$chart=e.find(".js-label-year__chart"),s.hbsSource=e.find("#o-label-year__template").html(),s.hbsTemplate=Handlebars.compile(s.hbsSource),s.year=null,s.label=null,s.text=null,p(window).on("resize",function(){s.handleChartVisibility();}),s._events.on("green.chart.visibility",function(t){s.visible="year"===t,s.handleChartVisibility();}),s._events.on("green.dropdown.select",function(t,e,i,n){"label"===t&&(s.label=e,s.text=n,doesNestedPropertyExist(s.data,"series",s.label)?(s.$chart.slideDown(),s.setLegend(),s.updateChart()):s.$chart.slideUp());}),s._events.on("green.chart.update",function(t){var e={};doesNestedPropertyExist(t,"labelsData")&&!jQuery.isEmptyObject(t.labelsData)?(e.series=s.getStructuredSeriesData(t),t.range&&(e.range=t.range),s.data=e,doesNestedPropertyExist(s.data,"series",s.label)?(s.visible=!0,s.handleChartVisibility(),s.$chart.slideDown(),s.setLegend(),s.updateChart()):s.$chart.slideUp()):(s.visible=!1,s.handleChartVisibility());}),t();},setLegend:function setLegend(){var t,e=this,i="";e.$legend.empty(),(t=e.data.series[e.label])&&(e.data.range&&(i=e.hbsTemplate({modifier:"range",decorator:"",labels:{legend:e.data.range}}),e.$legend.append(p(i))),t={modifier:"",color:t.hexColor,decorator:"",labels:{legend:t.name+" "+e.text}},i=e.hbsTemplate(t),e.$legend.append(p(i)));},updateChart:function updateChart(){var t=this.data.series[this.label];t?(t={labels:t.labels,series:[{data:t.data,hexColor:t.hexColor}]},this._events.emit("green.barchart.udpate",t)):this._events.emit("green.barchart.udpate",null);},handleChartVisibility:function handleChartVisibility(){var t=p(this._ctx);console.log("handleChartVisibility"),this.viewport=ui&&ui.Bootstrap&&ui.Bootstrap.activeView?ui.Bootstrap.activeView:this.viewport,"sm"===this.viewport||"md"===this.viewport||"lg"===this.viewport?this.visible?(console.log("handleChartVisibility","slideDown"),t.slideDown()):(console.log("handleChartVisibility","slideUp"),t.slideUp()):t.hide();},getStructuredSeriesData:function getStructuredSeriesData(c){var u=this,d=(p(this._ctx),{});return c.labelsData&&p.each(c.labelsData,function(t,e){var i="",n={},s=[],o=[],a=[],r=[],l=e[0].id.substr(0,4),h=c.data.overview.months;n.color=t,n.hexColor=window.chartist.colorMapping[t],doesNestedPropertyExist(c,"labelYear","barChart","legendText")&&(i=c.labelYear.barChart.legendText),e&&0<e.length&&(s=e.sort(function(t,e){return t.id.localeCompare(e.id);})),p.each(s,function(t,e){r[e.id]={percentage:parseFloat(e.percentage).toFixed(1),label:e.label};}),u._fillMissingMonths(h,l,r,o,a),n.name=i,n.data=o,n.labels=a,n.id=t,d[t]=n;}),d;},_fillMissingMonths:function _fillMissingMonths(t,e,i,n,s){var o=e+"01",a=new Date().getFullYear(),r=new Date().getMonth()+1,l=e+(r<10?"0"+r:r);e!=a&&(l=e+"12");for(var h=o;h<=l;h++){i[h]?(n.push(i[h].percentage),s.push(i[h].label)):(n.push(0),s.push(t[h%100-1].shortName));}}});}(jQuery),!function(i){"use strict";T.Module.TeaserComparison=T.createModule({start:function start(t){var n=this,e=i(this._ctx);n.flagData={TG:{fileName:"Wappen_Thurgau.svg"},AR:{fileName:"Wappen_Appenzell_AR.svg"},AI:{fileName:"Wappen_Appenzell_AI.svg"},SG:{fileName:"Wappen_St_Gallen.svg"},GR:{fileName:"Wappen_Graubuenden.svg"},GL:{fileName:"Wappen_Glarus.svg"},ZG:{fileName:"Wappen_Zug.svg"},ZH:{fileName:"Wappen_Zuerich.svg"},SZ:{fileName:"Wappen_Schwyz.svg"},UR:{fileName:"Wappen_Uri.svg"},TI:{fileName:"Wappen_Tessin.svg"},NW:{fileName:"Wappen_Nidwalden.svg"},SH:{fileName:"Wappen_Schaffhausen.svg"},OW:{fileName:"Wappen_Obwalden.svg"},LU:{fileName:"Wappen_Luzern.svg"},AG:{fileName:"Wappen_Aargau.svg"},BL:{fileName:"Wappen_Basel_Land.svg"},BS:{fileName:"Wappen_Basel_Stadt.svg"},SO:{fileName:"Wappen_Solothurn.svg"},BE:{fileName:"Wappen_Bern.svg"},VS:{fileName:"Wappen_Wallis.svg"},JU:{fileName:"Wappen_Jura.svg"},NE:{fileName:"Wappen_Neuenburg.svg"},FR:{fileName:"Wappen_Freiburg.svg"},VD:{fileName:"Wappen_Waadt.svg"},GE:{fileName:"Wappen_Genf.svg"}},n.images={filePath:e.data("flag-path")||"/img/svg/flag/",swiss:e.data("swiss-image")||"/img/bg/switzerland.svg",my:e.data("my-image")||"/img/bg/basket.png"},n.hbsTeaserSource=i(e.data("tpl-teaser")).html(),n.hbsTeaserTemplate=Handlebars.compile(n.hbsTeaserSource),n.hbsRangeSource=i(e.data("tpl-range")).html(),n.hbsRangeTemplate=Handlebars.compile(n.hbsRangeSource),n.$myTeaser=e.find(".js-teaser-comparison__personalized"),n.$cantonTeaser=e.find(".js-teaser-comparison__canton"),n.$swissTeaser=e.find(".js-teaser-comparison__swiss"),n.$rangeContainer=e.find(".js-teaser-comparison__range"),n._events.on("green.chart.update",function(t){var e,i;doesNestedPropertyExist(t,"teaserComparison")&&(doesNestedPropertyExist(t.teaserComparison,"teaserStatsComparisonPersonalized")&&((i=t.teaserComparison.teaserStatsComparisonPersonalized).imageUrl=n.images.my,n._renderTeaser(n.$myTeaser,t.teaserComparison.teaserStatsComparisonPersonalized)),doesNestedPropertyExist(t.teaserComparison,"teaserStatsComparisonCanton")&&((i=t.teaserComparison.teaserStatsComparisonCanton).region&&(e=n.flagData[i.region],i.imageUrl=n.images.filePath+e.fileName),n._renderTeaser(n.$cantonTeaser,i)),doesNestedPropertyExist(t.teaserComparison,"teaserStatsComparisonSwitzerland")&&((i=t.teaserComparison.teaserStatsComparisonSwitzerland).imageUrl=n.images.swiss,n._renderTeaser(n.$swissTeaser,t.teaserComparison.teaserStatsComparisonSwitzerland)),t.range&&n._renderRange(t.range));}),t();},_renderTeaser:function _renderTeaser(t,e){i(this._ctx);t.html(this.hbsTeaserTemplate(e));},_renderRange:function _renderRange(t){i(this._ctx);this.$rangeContainer.html(this.hbsRangeTemplate({modifier:"range",decorator:"",labels:{legend:t}}));}});}(jQuery),!function(i){"use strict";T.Module.TeaserStatus=T.createModule({start:function start(t){var n=this,e=i(this._ctx),s=e.data("error-msg")||"Error";n.ajax={_reqParameter:e.data("req-parameter")||{},_api:e.data("api-url")||"",_datatype:"json",_timeout:e.data("api-timeout")||7e3},n.hbsLoginSource=i(e.data("tpl-login")).html(),n.hbsLoginTemplate=Handlebars.compile(n.hbsLoginSource),n.hbsStatsSource=i(e.data("tpl-stats")).html(),n.hbsStatsTemplate=Handlebars.compile(n.hbsStatsSource),n.hbsErrorSource=i(e.data("tpl-error")).html(),n.hbsErrorTemplate=Handlebars.compile(n.hbsErrorSource),n.$container=e.find(".js-teaser-status__content"),n.$loadingWrapper=i(".js-teaser-status__loading-sign",e),n.images={my:e.data("my-image")||"/img/bg/basket.png"},i.ajax({url:n.ajax._api,type:"GET",data:n.ajax._reqParameter,dataType:n.ajax._datatype,timeout:n.ajax._timeout,contentType:"application/x-www-form-urlencoded; charset=UTF-8"}).done(function(t){var e;doesNestedPropertyExist(t,"teaserStatus","teaserStats")?((e=t.teaserStatus.teaserStats).imageUrl=n.images.my,n._successHandler(n.hbsStatsTemplate,e)):doesNestedPropertyExist(t,"teaserStatus","teaserLoginSignup")?(n._successHandler(n.hbsLoginTemplate,t.teaserStatus.teaserLoginSignup),i(ui.bootstrapFormBusinessLogicComponent()),i(ui.bootstrapCumulusConnectComponent()),i(ui.bootstrapFormValidationView(".ui-js-form")),i(ui.bootstrapPopOverComponent())):doesNestedPropertyExist(t,"teaserStatus","teaserLogin")?"undefined"!=typeof mui&&"function"==typeof mui.LoginView&&i(".mui-js-login").muiLogin():doesNestedPropertyExist(t,"errorMessage")?n._errorHandler(t):n._errorHandler({errorMessage:s}),n.$loadingWrapper.addClass("o-teaser-status__loading-sign--hidden");}).fail(function(t,e,i){t.responseJSON&&t.responseJSON.errorMessage?n._errorHandler(t.responseJSON):n._errorHandler({errorMessage:s}),n.$loadingWrapper.addClass("o-teaser-status__loading-sign--hidden");}),i(ui.bootstrapFormBusinessLogicComponent()),i(ui.bootstrapCumulusConnectComponent()),i(ui.bootstrapFormValidationView(".ui-js-form")),i(ui.bootstrapPopOverComponent()),t();},_successHandler:function _successHandler(t,e){i(this._ctx);this.$container.html(t(e)),this._sandbox.addModules(this.$container.get(0));},_errorHandler:function _errorHandler(t){i(this._ctx);this.$container.html(this.hbsErrorTemplate(t)),this._sandbox.addModules(this.$container.get(0));}});}(jQuery),!function(l){"use strict";T.Module.YearTrend=T.createModule({start:function start(t){var i=this,e=l(this._ctx);i.viewport=ui&&ui.Bootstrap&&ui.Bootstrap.activeView?ui.Bootstrap.activeView:"xs",i.visible=!1,i.$legend=e.find(".js-year-trend__legend"),i.hbsSource=e.find("#o-year-trend__template").html(),i.hbsTemplate=Handlebars.compile(i.hbsSource),i.const={MY:"mydata",SWISS:"swissdata",REFERENCE:"referencedata"},l(window).on("resize",function(){i.handleChartVisibility();}),i._events.on("green.chart.visibility",function(t){i.visible="year"===t,i.handleChartVisibility();}),i._events.on("green.chart.update",function(t){var e={};doesNestedPropertyExist(t,"data","overview","annualDevelopment")&&((e={series:[],labels:[]}).labels=i.getStructuredLabelsData(t.data.overview.annualDevelopment),doesNestedPropertyExist(t.data,"annualDevelopment")?(e.series.push(i.getStructuredSeriesData(t,i.const.SWISS)),e.series.push(i.getStructuredSeriesData(t,i.const.MY))):e.series.push(i.getStructuredSeriesData(t,i.const.SWISS)),doesNestedPropertyExist(t.data.overview,"goals")&&doesNestedPropertyExist(t,"yearTrend","lineChart","year")&&t.data.overview.goals[t.yearTrend.lineChart.year]&&e.series.push(i.getStructuredSeriesData(t,i.const.REFERENCE)),t.range&&(e.range=t.range)),l.isEmptyObject(e)||(i.setLegend(e),i.updateChart(e));}),t();},setLegend:function setLegend(t){var i,n=this,s={},o="";n.$legend.empty(),t.range&&(o=n.hbsTemplate({modifier:"range",decorator:"",labels:{legend:t.range}}),n.$legend.append(l(o))),l.each(t.series,function(t,e){i=e.type||"",s=i?{modifier:i,color:"",decorator:"",labels:{legend:e.name}}:{modifier:i,color:window.chartist.colorMapping[e.color],decorator:"",labels:{legend:e.name}},o=n.hbsTemplate(s),n.$legend.append(l(o));});},updateChart:function updateChart(t){this._events.emit("green.linechart.udpate",t);},handleChartVisibility:function handleChartVisibility(){var t=l(this._ctx);this.viewport=ui&&ui.Bootstrap&&ui.Bootstrap.activeView?ui.Bootstrap.activeView:this.viewport,"sm"===this.viewport||"md"===this.viewport||"lg"===this.viewport?this.visible?t.slideDown():t.slideUp():t.hide();},getStructuredLabelsData:function getStructuredLabelsData(t){l(this._ctx);var i=[],t=t.sort(function(t,e){return t.id.localeCompare(e.id);});return l.each(t,function(t,e){i.push(e.label);}),i;},getStructuredSeriesData:function getStructuredSeriesData(t,e){l(this._ctx);var i={},n="",s=[],o=null;switch(e){case this.const.REFERENCE:for(var a=parseFloat(t.data.overview.goals[t.yearTrend.lineChart.year]).toFixed(1),r=0;r<=t.data.overview.annualDevelopment.length;){s.push(a),r++;}i.type="reference",doesNestedPropertyExist(t,"yearTrend","lineChart","goalLegend")&&(n=t.yearTrend.lineChart.goalLegend);break;case this.const.MY:o=t.data.overview.annualDevelopment,i.color="myColor",i.hexColor=window.chartist.colorMapping.myColor,doesNestedPropertyExist(t,"yearTrend","lineChart","myLegend")&&(n=t.yearTrend.lineChart.myLegend);break;default:this.const.SWISS;o=(doesNestedPropertyExist(t,"data","annualDevelopment")?t.data:t.data.overview).annualDevelopment,i.color="swissColor",i.hexColor=window.chartist.colorMapping.swissColor,doesNestedPropertyExist(t,"yearTrend","lineChart","swissLegend")&&(n=t.yearTrend.lineChart.swissLegend);}return e!==this.const.MY&&e!==this.const.SWISS||(e=o.sort(function(t,e){return t.id.localeCompare(e.id);}),l.each(e,function(t,e){s.push(parseFloat(e.percentage).toFixed(1));})),i.name=n,i.data=s,i;}});}(jQuery),!function(l){"use strict";T.Module.Charts=T.createModule({start:function start(t){var r=this,e=l(this._ctx);r.ajax={_reqParameter:e.data("req-parameter")||{},_api:e.data("api-url")||"",_yearPeriodUrl:"year/",_periodPeriodUrl:"period/",_datatype:"json",_timeout:e.data("api-timeout")||7e3},r.data={},r.data.latestLabel="",r.data.isLoadingData=!1,r.loadedUrls=[],r.$loadingWrapper=l(".js-charts__loading__loading-sign",e),r.$contentWrapper=l(".js-charts__content",e),r.$errorWrapper=l(".js-charts__error",e),r.$errorNoDataWrapper=l(".js-charts__nodata-error",e),this._events.on("green.chart.reload",function(n,e){var t=(e+"").length,i=n!==r.data.latestType||e!==r.data.latestPeriod,s="year"===n&&4===t||"period"===n&&4<t;r.data[n]||(r.data[n]={}),r.data.latestType=n,r.data.latestPeriod=e,r.data[n]&&!r.data[n][e]?(r.$loadingWrapper.removeClass("template-charts__loading__loading-sign--hidden"),r.data.isLoadingData=!0,r.loadDataForPeriod(n,e,function(t){t.charts&&n===r.data.latestType&&e===r.data.latestPeriod?(r._hideError(),r._events.emit("green.chart.visibility",n),r._events.emit("green.chart.update",t.charts),s&&r._trackStatistics(n,e)):(r._showError(),r._events.emit("green.chart.visibility",n),r.$loadingWrapper.addClass("template-charts__loading__loading-sign--hidden")),r.$loadingWrapper.addClass("template-charts__loading__loading-sign--hidden"),r.data.isLoadingData=!1;},function(t,e,i){r._showError(),r._events.emit("green.chart.visibility",n),r.$loadingWrapper.addClass("template-charts__loading__loading-sign--hidden"),r.data.isLoadingData=!1;})):(r._events.emit("green.chart.visibility",n),i&&s&&r._trackStatistics(n,e),r.data[n][e].charts?(r._hideError(),r._events.emit("green.chart.update",r.data[n][e].charts)):r._showError());}),this._events.on("green.labelselect.change",function(t,e){var i=e.type&&"year"===e.type,n=e.year,s=e.year!==r.data.latestPeriod,o=Object.keys(t)[0],a=r.data.latestLabel&&e.label!==r.data.latestLabel;i&&n&&!s&&o&&a&&!r.data.isLoadingData&&(i={event:"cumulusGreenImpression",periodType:"jahr",period:r.data.latestPeriod+"",label:e.label+"",cumulusGreenValue:r.data.trackingGreenValue+"",labels:t},r.data.latestLabel=e.label,r._track(i));}),t();},loadDataForPeriod:function loadDataForPeriod(e,i,n,s){var o=this,t="";o[o.type];if(!e||!i||!o.ajax._api)return!1;"year"===e?t=o.ajax._yearPeriodUrl:"period"===e&&(t=o.ajax._periodPeriodUrl);var a=t+i+".json";o.loadedUrls.indexOf(a)<0&&(o.loadedUrls.push(a),l.ajax({url:o.ajax._api+a,type:"GET",data:o.ajax._reqParameter,dataType:o.ajax._datatype,timeout:o.ajax._timeout,contentType:"application/x-www-form-urlencoded; charset=UTF-8"}).done(function(t){t?!doesNestedPropertyExist(t.charts,"labelsData")||doesNestedPropertyExist(t.charts,"labelsData")&&!l.isEmptyObject(t.charts.labelsData)?(o.data[e][i]=t,n(t)):(o._showNoDataError(),o._events.emit("green.chart.visibility",e),o._spliceElement(o.loadedUrls,a),o.$loadingWrapper.addClass("template-charts__loading__loading-sign--hidden"),o.data.isLoadingData=!1):(s(),o._spliceElement(o.loadedUrls,a));}).fail(function(t,e,i){o._spliceElement(o.loadedUrls,a),s(t,e,i);}));},_spliceElement:function _spliceElement(t,e){e=t.indexOf(e);-1<e&&t.splice(e,1);},_showError:function _showError(){this.$contentWrapper.hide(),this.$errorWrapper.fadeIn();},_showNoDataError:function _showNoDataError(){this.$contentWrapper.hide(),this.$errorNoDataWrapper.fadeIn();},_hideError:function _hideError(){this.$contentWrapper.fadeIn(),this.$errorWrapper.hide(),this.$errorNoDataWrapper.hide();},_trackStatistics:function _trackStatistics(t,e){var i=this,n=l(this._ctx),s=i.data[t][e],o={};n.hasClass("js-t-charts--public")?i._track({event:"cumulusGreenImpression",periodType:"year"===t?"jahr":"sammel_periode",period:e+"",label:"",cumulusGreenValue:"",labels:{}}):"period"===t?(doesNestedPropertyExist(s,"charts","teaserComparison","teaserStatsComparisonPersonalized","percentage")&&(i.data.trackingGreenValue=s.charts.teaserComparison.teaserStatsComparisonPersonalized.percentage+"%"),doesNestedPropertyExist(s,"charts","data","overview","myLabelPercentages")&&l.each(s.charts.data.overview.myLabelPercentages,function(t,e){o[e.label]=parseFloat(e.percentage).toFixed(1)+"%";}),i._track({event:"cumulusGreenImpression",periodType:"sammel_periode",period:e+"",label:"",cumulusGreenValue:i.data.trackingGreenValue+"",labels:o})):"year"===t&&(doesNestedPropertyExist(s,"charts","teaserComparison","teaserStatsComparisonPersonalized","percentage")&&(i.data.trackingGreenValue=s.charts.teaserComparison.teaserStatsComparisonPersonalized.percentage+"%"),doesNestedPropertyExist(s,"charts","data","overview","myLabelPercentages")&&l.each(s.charts.data.overview.myLabelPercentages,function(t,e){0===t&&(i.data.latestLabel=e.id),o[e.label]=parseFloat(e.percentage).toFixed(1)+"%";}),i._track({event:"cumulusGreenImpression",periodType:"jahr",period:e+"",label:i.data.latestLabel+"",cumulusGreenValue:i.data.trackingGreenValue+"",labels:o}));},_track:function _track(t){void 0!==window.dataLayer?window.dataLayer.push(t):void 0!==window.console&&window.console.log(t);}});}(jQuery),!function(e){"use strict";T.Module.Dashboard=T.createModule({start:function start(t){e(this._ctx);t();}});}(jQuery),!function(h){"use strict";T.Module.Goal=T.createModule({start:function start(t){var i=this,e=h(this._ctx);i.timeoutHandler=null,e.on("click",".js-goal__submit",function(t){var e=i._preprocessGoalString();i._validateGoalString(e)||(t.preventDefault(),i._showValidationInformation());}),e.on("submit",".js-goal__form",function(){var t=i._preprocessGoalString();return i._validateGoalString(t)?(i._track({event:"greenGoalChange",cumulusGreenChange:e.find(".js-goal__submit").hasClass("js-goal__submit--set")?"aendern":"setzen",cumulusGreenValue:t}),!0):(i._showValidationInformation(),!1);}),i.$facebook=e.find(".js-goal__button-wrapper__facebook"),0<i.$facebook.length&&(i._setFbShareLink(),e.on("click",".js-goal__button-wrapper__facebook",function(){i._track({event:"socialInteraction",socialNetwork:"Facebook",socialAction:"Share",cumulusGreenValue:i.$facebook.data("target-percentage")});})),e.on("keyup.green.change-watcher",".js-goal-input",function(){h(this).val()!==h(this).data("set-value")&&(i.$facebook.hide(),e.find(".js-goal__submit").removeClass("goal__button-wrapper__submit--hidden"),e.off("keyup.green.change-watcher"));}),i._track({event:"cumulusGreenGoal",cumulusGreenValue:e.find(".js-goal-input").val()}),t();},_preprocessGoalString:function _preprocessGoalString(){var t=h(this._ctx),e=t.find(".js-goal-input").val();return e=(e=e.replace(/%/,"")+"%").replace(/\.%/,"%"),t.find(".js-goal-input").val(e),e;},_validateGoalString:function _validateGoalString(t){return /^(100|[0-9]{1,2}(\.[0-9]?)?)\%$/.test(t);},_showValidationInformation:function _showValidationInformation(){var t=h(this._ctx),e=t.find(".js-goal-input"),i=t.find(".js-goal__validation-information");window.clearTimeout(this.timeoutHandler),e.addClass("state-error"),i.addClass("state-error"),i.slideDown(),this.timeoutHandler=window.setTimeout(function(){e.removeClass("state-error"),i.removeClass("state-error"),i.slideUp();},2500);},_setFbShareLink:function _setFbShareLink(){h(this._ctx);var t="481437678546818",e="https://www.facebook.com/dialog/feed?",i=this.$facebook.data("link"),n=this.$facebook.data("name"),s=this.$facebook.data("picture"),o=" ",a=this.$facebook.data("description"),r=this.$facebook.data("redirect-uri"),l="popup";this.$facebook.attr({href:encodeURI(e+"app_id="+t+"&link="+i+"&picture="+s+"&name="+n+"&caption="+o+"&description="+a+"&redirect_uri="+r+"&display="+l),target:"_blank"});},_track:function _track(t){void 0!==window.dataLayer?window.dataLayer.push(t):void 0!==window.console&&window.console.log(t);}});}(jQuery),!function(i){"use strict";T.Module.YearTeaser=T.createModule({start:function start(t){var n=this,e=i(this._ctx);n.ajax={_reqParameter:e.data("req-parameter")||{},_api:e.data("api-url")||"",_datatype:"json",_timeout:e.data("api-timeout")||7e3},n.hbsSource=i(e.data("tpl")).html(),n.hbsTemplate=Handlebars.compile(n.hbsSource),n.$container=e.find(".js-year-teaser__content"),n.$loadingWrapper=i(".js-year-teaser__loading-sign",e),i.ajax({url:n.ajax._api,type:"GET",data:n.ajax._reqParameter,dataType:n.ajax._datatype,timeout:n.ajax._timeout,contentType:"application/x-www-form-urlencoded; charset=UTF-8"}).done(function(t){doesNestedPropertyExist(t,"yearTeaser","teaserPersonalized")?n._successHandler(n.hbsTemplate,t.yearTeaser.teaserPersonalized):n._errorHandler(),n.$loadingWrapper.addClass("template-year-teaser__loading-sign--hidden");}).fail(function(t,e,i){n.$loadingWrapper.addClass("template-year-teaser__loading-sign--hidden");}),t();},_successHandler:function _successHandler(t,e){i(this._ctx);this.$container.html(t(e)),this._sandbox.addModules(this.$container.get(0));},_errorHandler:function _errorHandler(){}});}(jQuery),$(document).ready(function(){/*
	 * Konami-JS ~
	 * :: Now with support for touch events and multiple instances for
	 * :: those situations that call for multiple easter eggs!
	 * Code: http://konami-js.googlecode.com/
	 * Examples: http://www.snaptortoise.com/konami-js
	 * Copyright (c) 2009 George Mandis (georgemandis.com, snaptortoise.com)
	 * Version: 1.4.2 (9/2/2013)
	 * Licensed under the MIT License (http://opensource.org/licenses/MIT)
	 * Tested in: Safari 4+, Google Chrome 4+, Firefox 3+, IE7+, Mobile Safari 2.2.1 and Dolphin Browser
	 */try{$(".a-cipo-info").on("dblclick",function(){var t,n;n={addEvent:function addEvent(t,e,i,n){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&(t["e"+e+i]=i,t[e+i]=function(){t["e"+e+i](window.event,n);},t.attachEvent("on"+e,t[e+i]));},input:"",pattern:"38384040373937396665",load:function load(i){this.addEvent(document,"keydown",function(t,e){if((n=e?e:n).input+=(t||event).keyCode,n.input.length>n.pattern.length&&(n.input=n.input.substr(n.input.length-n.pattern.length)),n.input==n.pattern)return n.code(i),n.input="",t.preventDefault(),!1;},this),this.iphone.load(i);},code:function code(t){window.location=t;},iphone:{start_x:0,start_y:0,stop_x:0,stop_y:0,tap:!(t=function t(){$(".a-cipo-info").addClass("easterEgg");}),capture:!1,orig_keys:"",keys:["UP","UP","DOWN","DOWN","LEFT","RIGHT","LEFT","RIGHT","TAP","TAP"],code:function code(t){n.code(t);},load:function load(e){this.orig_keys=this.keys,n.addEvent(document,"touchmove",function(t){1==t.touches.length&&1==n.iphone.capture&&(t=t.touches[0],n.iphone.stop_x=t.pageX,n.iphone.stop_y=t.pageY,n.iphone.tap=!1,n.iphone.capture=!1,n.iphone.check_direction());}),n.addEvent(document,"touchend",function(t){1==n.iphone.tap&&n.iphone.check_direction(e);},!1),n.addEvent(document,"touchstart",function(t){n.iphone.start_x=t.changedTouches[0].pageX,n.iphone.start_y=t.changedTouches[0].pageY,n.iphone.tap=!0,n.iphone.capture=!0;});},check_direction:function check_direction(t){x_magnitude=Math.abs(this.start_x-this.stop_x),y_magnitude=Math.abs(this.start_y-this.stop_y),x=this.start_x-this.stop_x<0?"RIGHT":"LEFT",y=this.start_y-this.stop_y<0?"DOWN":"UP",result=x_magnitude>y_magnitude?x:y,(result=1==this.tap?"TAP":result)==this.keys[0]&&(this.keys=this.keys.slice(1,this.keys.length)),0==this.keys.length&&(this.keys=this.orig_keys,this.code(t));}}},"string"==typeof t&&n.load(t),"function"==typeof t&&(n.code=t,n.load());});}catch(t){}}),!function(e){"use strict";T.Module.DownloadLink=T.createModule({start:function start(t){e(this._ctx);t();}});}(jQuery),!function(e){"use strict";T.Module.List=T.createModule({start:function start(t){e(this._ctx);t();}});}(jQuery),!function(o){"use strict";var a=".js-m-cipo-filter__panel",r=".js-m-cipo-filter__reset",i=".js-m-cipo-filter__reset-all",n=".js-m-cipo-filter__categories",s=".js-m-cipo-filter__partners",l=":checkbox",h="state-reset-inactive";T.Module.CipoFilter=T.createModule({start:function start(t){var n=this,s=o(n._ctx);n.isFiltered=!1,n.filtersOpen=0,n._events.on("cipo.filter.init",function(t){t.categories.sort(function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase());}),t.partners.sort(function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase());}),n._render(t);}),s.on("show.bs.collapse hide.bs.collapse",n._checkResetAll.bind(this)),s.on("change",l,function(){var t=o(this).closest(a);n._changeFilter(t);}),s.on("click",r,function(t){t.preventDefault(),t.stopPropagation();var t=o(this).closest(a),e=t.find(l+":checked");e.length&&(e.prop("checked",!1),n._changeFilter(t));}),s.on("click",i,function(t){t.preventDefault(),t.stopPropagation();var e=s.find(a),i=e.find(l+":checked");i.length&&(i.prop("checked",!1),n._changeFilter(e),n._checkResetAll(t));}),t();},_changeFilter:function _changeFilter(t){var e=this._getFilters();this._updateNumber(t),this._events.emit("cipo.filter.change",e);},_getFilters:function _getFilters(){var t=o(this._ctx),e={categories:[],partners:[]};return t.find(n+" "+l+":checked").each(function(){e.categories.push(o(this).val());}),t.find(s+" "+l+":checked").each(function(){e.partners.push(o(this).val());}),e;},_updateNumber:function _updateNumber(t){var n;t.length&&(n=o(this._ctx),t.each(function(){var t=o(this),e=n.find("."+t.data("number-class")),i=t.find(r),t=t.find(l+":checked").length;t?(i.removeClass(h),e.text("("+t+")")):(i.addClass(h),e.text(""));}),this.isFiltered=!!n.find(l+":checked").length);},_checkResetAll:function _checkResetAll(t){var e=o(this._ctx).find(i);t&&"show"===t.type?(this.filtersOpen++,e.fadeOut(200)):t&&"hide"===t.type?(this.filtersOpen--,!this.filtersOpen&&this.isFiltered?e.fadeIn(200):e.fadeOut(200)):this.isFiltered||e.fadeOut(150);},_render:function _render(t){var e=o(this._ctx),i=o(e.data("tpl")).html(),i=Handlebars.compile(i);e.find(n).html(i(t.categories)),e.find(s).html(i(t.partners));}});}(jQuery),!function(i){var s=".js-m-teaser-ad__loading-sign",o=".js-m-teaser__content",a="m-teaser-ad__loading-sign--hidden";T.Module.TeaserAd=T.createModule({start:function start(t){var n=this,e=i(this._ctx);n.ajax={_reqParameter:e.data("req-parameter")||{},_api:e.data("api-url")||"",_datatype:"json",_timeout:e.data("api-timeout")||7e3},n.$loadingWrapper=i(s,e),n.$contentWrapper=i(o,e),n.hbsSource=i(e.data("tpl")).html(),n.hbsTemplate=Handlebars.compile(n.hbsSource),i.ajax({url:n.ajax._api,type:"GET",data:n.ajax._reqParameter,dataType:n.ajax._datatype,timeout:n.ajax._timeout,contentType:"application/x-www-form-urlencoded; charset=UTF-8"}).done(function(t){t&&doesNestedPropertyExist(t,"teaserAd","teaserAdContent")&&n._render(t.teaserAd.teaserAdContent),n.$loadingWrapper.addClass(a);}).fail(function(t,e,i){n.$loadingWrapper.addClass(a);}),t();},_render:function _render(t){i(this._ctx);this.$contentWrapper.html(this.hbsTemplate(t));}});}(jQuery),!function(s){"use strict";T.Module.SwapSelection=T.createModule({start:function start(t){var n,e=this,i=s(this._ctx);console.log("SwapSelection","############################"),e.$matchWrapper=s(".js-swap-selection__match",i),e.$matchWrapperInOverlay=s(".js-swap-selection__match-overlay",i),e.$selectedAmount=s(".js-swap-selection__values-selected",i),e.$bonOverlays=s(".js-swap-selection__ucb-overlay",i),e.$agbWrapper=s(".js-swap-selection__agb",i),e.$agbCheckbox=s(".js-swap-selection__agb-checkbox",i),e.$agbErrorText=s(".js-swap-selection__agb-error",i),e.$toggleButtonWrapper=s(".js-swap-selection__toggle",i),e.$toggleButton=s(".js-swap-selection__toggle-button",i),e.$exchangeButton=s(".js-swap-selection__swap-trigger",i),e.$bons=s(".js-swap-selection__ucb",i),e.amount=0,e.goalAmount=s(".js-swap-selection__status",i).data("value"),e.overlayEnabled=!1,e.updateAmount(),e.checkMoreButton(),e.amount!==e.goalAmount&&(e.overlayEnabled=!0),i.on("click",".js-swap-selection__ucb input",function(){var t=s(this);t.attr("aria-checked","false"===t.attr("aria-checked")),e.updateAmount(),e.checkAmountMatch(),e.checkMoreButton();}),i.on("click",".js-swap-selection__toggle-button",function(){var t=s(this);t.hasClass("o-swap-selection__toggle-button--selected")?(t.removeClass("o-swap-selection__toggle-button--selected"),e.showAll(),t.text(t.data("less")),e.$toggleButton.attr("aria-pressed","true")):(t.addClass("o-swap-selection__toggle-button--selected"),e.showSelectedOnly(),t.text(t.data("more")),e.$toggleButton.attr("aria-pressed","false")),e.checkMoreButton();}),i.on("click",".js-swap-selection__agb-content input",function(){var t=s(this);e.$agbWrapper.removeClass("error"),e.$agbErrorText.slideUp(),t.attr("aria-checked","false"===t.attr("aria-checked"));}),i.on("click",".js-swap-selection__swap-trigger",function(){var t;e.amount===e.goalAmount?e.$agbCheckbox.prop("checked")?((t={}).mconnectId=i.data("mconnect-id"),t.offerId=i.data("offer-id"),t.ucbCodes=e._getSelectedUcbCodes(),e._events.emit("cipo.swap",t)):(e.$agbWrapper.addClass("error"),e.$agbWrapper.hasClass("error")&&e.$agbErrorText.slideDown(),e._track({event:"cumulus-extraOfferError",error:"AGB_fehlt"})):e._track({event:"cumulus-extraOfferError",error:"Auswahl_nicht_passend"});}),0!==e.$agbWrapper.length&&(e.checkAmountMatch(),n=!0,e.$bons.each(function(t,e){var e=s(e),i=e.find(".checkbox").prop("checked"),e=e.hasClass("js-swap-selction__is-preselect");(i&&!e||!i&&e)&&(n=!1);}),n||(e.$toggleButton.removeClass("o-swap-selection__toggle-button--selected"),e.showAll(),e.$toggleButton.text(e.$toggleButton.data("less")),e.$toggleButton.attr("aria-pressed","true"),e.checkMoreButton())),e._trackInitial(),e._trackUcbs("Cumulus Extra Bon Detail Best Match"),t();},updateAmount:function updateAmount(){s(this._ctx);var i=0;this.$bons.each(function(t,e){e=s(e);e.find(".checkbox").prop("checked")&&(i+=e.data("value"));}),this.amount=i,this.$selectedAmount.text(i);},checkAmountMatch:function checkAmountMatch(){var t=this;s(this._ctx);return t.amount===t.goalAmount?(t.$matchWrapper.fadeOut(),window.setTimeout(function(){t.$matchWrapper.removeClass("o-swap-selection__match--error").text(t.$matchWrapper.data("success")).fadeIn();},400),!(t.overlayEnabled=!1)):(t.$matchWrapper.hasClass("o-swap-selection__match--error")||(t.$matchWrapper.fadeOut(400),window.setTimeout(function(){t.$matchWrapper.addClass("o-swap-selection__match--error").text(t.$matchWrapper.data("selection-mismatch")).fadeIn();},400),t.$matchWrapperInOverlay.text(t.$matchWrapper.data("selection-mismatch")),s(window).scrollTop(),t.$matchWrapper.offset().top,t.overlayEnabled=!0),!1);},checkMoreButton:function checkMoreButton(){var t=this;s(this._ctx);t.$bons.find(".checkbox:checked").length===t.$bons.length?(t.$toggleButtonWrapper.slideUp(),t.$toggleButton.removeClass("o-swap-selection__toggle-button--selected"),t.$toggleButton.text(t.$toggleButton.data("less")),t.$toggleButton.attr("aria-pressed","true")):0!==t.$bons.find(".checkbox:checked").length||t.$toggleButton.hasClass("o-swap-selection__toggle-button--selected")?t.$toggleButtonWrapper.slideDown():t.$toggleButtonWrapper.slideUp();},showAll:function showAll(){s(this._ctx);this.$bons.slideDown(),this._trackUcbs("Cumulus Extra Bon Detail Alle");},showSelectedOnly:function showSelectedOnly(){s(this._ctx);this.$bons.each(function(t,e){e=s(e);e.find(".checkbox").prop("checked")||e.slideUp();}),this._trackUcbs("Cumulus Extra Bon Detail Selektiert",".checkbox:checked");},_getSelectedUcbCodes:function _getSelectedUcbCodes(){s(this._ctx);var t=[];return this.$bons.find(".checkbox:checked").each(function(){t.push(s(this).closest(".js-swap-selection__ucb").data("id"));}),t.join(",");},_trackInitial:function _trackInitial(){var t=s(this._ctx),t={detail:{actionField:{list:"gutschein-detail"},products:[{name:t.find(".js-swap-selection__status").text().trim()||"",id:"",price:this.goalAmount||"",category:"ausgewählter_wert_"+this.amount,variant:t.hasClass("js-swap-selection--has-sufficient")?"passende_bons":"keine_passenden_bons"}]}};this._events.emit("cipo.swapselection.init",t);},_trackUcbs:function _trackUcbs(i,t){s(this._ctx);var n=[],t=t||":visible";this.$bons.find(t).closest(".js-swap-selection__ucb").each(function(t,e){e=s(e);n.push({name:e.data("name")||"",id:"",position:t+1,price:e.data("value")||"",list:i,brand:"cumulus bon",category:e.data("name")||"",variant:e.data("expires")||""});}),this._track({event:"ucbImpression",ecommerce:{impressions:n}});},_track:function _track(t){void 0!==window.dataLayer?window.dataLayer.push(t):void 0!==window.console&&window.console.log(t);}});}(jQuery),!function(s){"use strict";T.Module.OfferSwap=T.createModule({start:function start(t){var n=this,e=s(this._ctx);n.ajax={_reqParameter:e.data("req-parameter")||{},_api:e.data("api-url")||"",_datatype:"json",_timeout:e.data("api-timeout")||7e3},n.data={},n.hbsResultSource=s(e.data("tpl-result")).html(),n.hbsResultTemplate=Handlebars.compile(n.hbsResultSource),n.hbsErrorSource=s(e.data("tpl-error")).html(),n.hbsErrorTemplate=Handlebars.compile(n.hbsErrorSource),n.$container=e.find(".js-offer-swap__content"),n.$apiError=e.find(".js-offer-swap__api-error"),n.$loadingWrapper=s(".js-offer-swap__loading-sign",e),n._events.on("cipo.swap",function(t){n.$loadingWrapper.removeClass("template-offer-swap__loading-sign--hidden"),s.extend(n.ajax._reqParameter,t),s.ajax({url:n.ajax._api,type:"GET",data:n.ajax._reqParameter,dataType:n.ajax._datatype,timeout:n.ajax._timeout,contentType:"application/x-www-form-urlencoded; charset=UTF-8"}).done(function(t){var e;t?doesNestedPropertyExist(t,"offerSwap","swapResult")?(e=!0,s("html, body").animate({scrollTop:n.$container.offset().top},500,function(){e&&(e=!1,n._render(n.hbsResultTemplate,t.offerSwap.swapResult),n.$loadingWrapper.addClass("template-offer-swap__loading-sign--hidden"),n._trackSuccess(),n._trackUcbs());})):doesNestedPropertyExist(t,"offerSwap","swapError")?(e=!0,s("html, body").animate({scrollTop:n.$container.offset().top},500,function(){e&&(e=!1,n._render(n.hbsErrorTemplate,t.offerSwap.swapError),n.$loadingWrapper.addClass("template-offer-swap__loading-sign--hidden"));}),n._track({event:"cumulus-extraOfferError",error:t.offerSwap.swapError.errorText||""})):n._errorHandler():n._errorHandler();}).fail(function(t,e,i){n._errorHandler();});}),e.on("click",".js-t-offer-swap__download",function(){var t=s(this);n._track({event:"cumulus-extraVoucherDownload",expirationDate:t.data("expires")||"",list:"Tausch Uebersichtsseite Success"});}),0<e.find('[data-t-name="SwapSelection"]').length?n._events.on("cipo.swapselection.init",function(t){n._track({event:"cumulus-extraOffer-detailview",loggedIn:!0,ecommerce:t});}):n._track({event:"cumulus-extraOffer-detailview",loggedIn:!1,ecommerce:{detail:{actionField:{list:"gutschein-detail"},products:[]}}}),t();},_render:function _render(t,e){s(this._ctx);this.$container.html(t(e)),this._sandbox.addModules(this.$container.get(0));},_errorHandler:function _errorHandler(){var t=this;s(t._ctx);s("html, body").animate({scrollTop:t.$container.offset().top},500,function(){t.$container.hide(),t.$apiError.show(),t.$loadingWrapper.addClass("template-offer-swap__loading-sign--hidden");}),t._track({event:"cumulus-extraOfferError",error:t.$apiError.find(".js-t-offer-swap__error-text").text().trim()||""});},_trackSuccess:function _trackSuccess(){s(this._ctx);var i=[];this.$container.find(".js-swap-result__voucher").each(function(t,e){e=s(e);i.push({name:"Gutschein Cumulus Extra",id:"",price:"",category:"",variant:"",position:t+1,list:"Tausch Uebersichtsseite Success",expirationDate:"gueltig_bis_"+e.data("expire")||""});}),this._track({event:"cumulus-extraOfferSuccess",ecommerce:{impressions:i}});},_trackUcbs:function _trackUcbs(){s(this._ctx);var i=[];this.$container.find(".js-t-offer-swap__destroy-bon").each(function(t,e){e=s(e);i.push({name:e.data("name")||"",id:"",position:t+1,price:0,list:"Eingeloeste Bons Cumulus Extra",brand:"cumulus bon",category:e.data("name")||"",variant:e.data("redeemed")||""});}),this._track({event:"ucbImpression",ecommerce:{impressions:i}});},_track:function _track(t){void 0!==window.dataLayer?window.dataLayer.push(t):void 0!==window.console&&window.console.log(t);}});}(jQuery),!function(r){"use strict";var s=":not(.m-teaser-partner--inactive)",i=".js-partner-overview__partner-list",n=".js-partner-overview__teaser",o=".js-partner-overview__teaser-link",l=".js-partner-overview__sort",h=".js-partner-overview__paging-prev",c=".js-partner-overview__paging-next",u=".js-partner-overview__paging",d=".js-partner-overview__paging-item",p=".js-partner-overview__dropdown",f=".js-partner-overview__dropdown-button",m=".js-partner-overview__dropdown-button__text",g=".js-partner-overview__dropdown-menu",v=".js-partner-overview__filter-item",e=".js-partner-overview__empty-list",a=".js-partner-overview__pagination-start",b="is-active",y="m-teaser-partner--inactive",C="o-control-bar--invisible",w="border-top";T.Module.PartnerOverview=T.createModule({start:function start(t){var a=this,e=r(this._ctx);a._events.on("t.sync",a._sync.bind(a)),a.itemsPerPage=e.find(i).data("page-size")||9,a.$teasers=r(n,e),a.maxPages=Math.ceil(a.$teasers.length/a.itemsPerPage),a.SORT_A_TO_Z="sort_a-z",a.SORT_Z_TO_A="sort_z-a",a.SORT_NEWEST="sort_newest",a.defaultSort=e.find(l).data("default-sort")||a.SORT_A_TO_Z,a.currentSort=a.defaultSort,a.$paging=r(u,e),a.$pagingPrev=a.$paging.find(h),a.$pagingNext=a.$paging.find(c),a.hbsSource=r(a.$paging.data("tpl")).html(),a.hbsTemplate=Handlebars.compile(a.hbsSource),a.categoryFilters="",a.partnerFilters="",a._events.on("cipo.filter.change",function(t){a._filterTeaser(t),a._trackCoupons({action:"filter"});}),e.on("click",function(){e.find(p+".open").removeClass("open");}),e.on("click",f,function(t){t.preventDefault(),t.stopPropagation();t=r(this).closest(p);e.find(p+".open").not(t).removeClass("open"),t.toggleClass("open");}),e.on("click",v,function(t){t.preventDefault();var e=r(this),i=e.closest(p),n=i.find(g),i=i.find(f),s=e.text(),o=e.data("value");if(a.currentPage=1,a._sortTeaser(o),a._updatePaging(1),a._showTeaser(0),t.originalEvent&&e.hasClass(b))return!1;i.find(m).text(s),n.find(v).removeClass(b),e.addClass(b),a._trackCoupons({action:"sortieren"});}),e.on("click",d,function(t){t.preventDefault(),a.currentPage=r(this).data("value"),a._showTeaser((a.currentPage-1)*a.itemsPerPage),a._updatePaging(),a._trackCoupons({action:"pagination"}),a._checkMoveToTop(r(this));}),e.on("click",h,function(t){t.preventDefault(),r(this).hasClass(C)||(a.currentPage--,a._showTeaser((a.currentPage-1)*a.itemsPerPage),a._updatePaging(),a._trackCoupons({action:"pagination"}),a._checkMoveToTop(r(this)));}),e.on("click",c,function(t){t.preventDefault(),r(this).hasClass(C)||(a.currentPage++,a._showTeaser((a.currentPage-1)*a.itemsPerPage),a._updatePaging(),a._trackCoupons({action:"pagination"}),a._checkMoveToTop(r(this)));}),e.on("click",o,function(t){var e=r(this).closest(".js-partner-overview__teaser"),i=a.$teasers.filter(s).not(":hidden").index(e);a._track({event:"cumulus-extraClick",ecommerce:{click:{actionField:{list:"Partneruebersicht_Seite_"+a.currentPage},products:[{name:e.data("title"),id:"",position:i+1,page:a.currentPage||"",category:e.data("categories").split(",").join("/")||"",variant:e.data("datetime")||""}]}}});}),t();},_sync:function _sync(){var s=this,t=r(this._ctx),e=(s.partners=[],s.categories=[],s.$teasers.each(function(){var t,e=r(this),i=e.data("categories").split(","),n=e.data("title").split(",");if(i.length)for(t=0;t<i.length;t++){i[t]&&-1===r.inArray(i[t],s.categories)&&s.categories.push(i[t]);}if(n.length)for(t=0;t<n.length;t++){n[t]&&-1===r.inArray(n[t],s.partners)&&s.partners.push(n[t]);}}),s._events.emit("cipo.filter.init",{categories:s.categories,partners:s.partners}),t.find(l+" [data-value="+s.defaultSort+"]").addClass(b).text());t.find(m).text(e),s._sortTeaser(s.defaultSort),s.currentPage=1,s._filterTeaser(),s._trackCoupons({action:"seite-load"});},_checkMoveToTop:function _checkMoveToTop(t){var e=r(this._ctx);t.closest(u).hasClass(w)||r("html, body").animate({scrollTop:e.find(a).offset().top},400);},_sortTeaser:function _sortTeaser(t){switch(this.currentSort=t){case this.SORT_NEWEST:this.$teasers.sortElements(function(t,e){return r(t).data("datetime")==r(e).data("datetime")?r(t).data("title").toLowerCase().localeCompare(r(e).data("title").toLowerCase()):r(t).data("datetime")<r(e).data("datetime")?1:-1;},function(){return this.parentNode;});break;case this.SORT_Z_TO_A:this.$teasers.sortElements(function(t,e){return r(e).data("title").toLowerCase().localeCompare(r(t).data("title").toLowerCase());},function(){return this.parentNode;});break;default:this.SORT_A_TO_Z;this.$teasers.sortElements(function(t,e){return r(t).data("title").toLowerCase().localeCompare(r(e).data("title").toLowerCase());},function(){return this.parentNode;});}},_showTeaser:function _showTeaser(i){var n=i+this.itemsPerPage;this.$teasers.not(s).attr("position",-1).parent().hide(),this.$teasers.filter(s).each(function(t,e){e=r(e);i<++t&&t<=n?e.attr("position")!=t&&e.attr("position",t).parent().hide().fadeIn():e.attr("position",-1).parent().hide();});},_updatePagingControls:function _updatePagingControls(t){var e=this;if(e.numPages&&t==e.numPages)e._updatePaging();else if(e.$paging.hide(),1<(e.numPages=t)){for(var i={prev:{url:"#"},next:{url:"#"},pages:[]},n=1;n<=t;n++){i.pages.push({url:"#",name:""+n,"data-name":"p","data-value":""+n,title:n,isPage:!0,isHiddenXs:!1});}e.$paging.html(e.hbsTemplate(i)),e.$pagingPrev=e.$paging.find(h),e.$pagingNext=e.$paging.find(c),e.$paging.fadeIn().css("display","table"),e._updatePaging();}},_updatePaging:function _updatePaging(){var t=this;t.$paging.find(".page").removeClass(b),t.$paging.find("[data-value="+t.currentPage+"]").addClass(b),1===t.currentPage?(t.$pagingPrev.addClass(C),t.$pagingNext.removeClass(C)):t.currentPage===t.numPages?(t.$pagingPrev.removeClass(C),t.$pagingNext.addClass(C)):(t.$pagingPrev.removeClass(C),t.$pagingNext.removeClass(C));},_filterTeaser:function _filterTeaser(t){var e,i,n,s,o,a=this;t&&a.$teasers.each(function(){if(s=r(this),e=!1,i=s.data("categories").split(","),n=s.data("title").split(","),a.categoryFilters=t.categories.join("/"),a.partnerFilters=t.partners.join("/"),!(e=t.categories.length||t.partners.length?e:!0)&&t.categories.length)for(o=0;o<i.length;o++){if(-1<r.inArray(i[o],t.categories)){e=!0;break;}}if(!e&&t.partners.length)for(o=0;o<n.length;o++){if(-1<r.inArray(n[o],t.partners)){e=!0;break;}}s[e?"removeClass":"addClass"](y);}),a._filterPostProcesses();},_filterPostProcesses:function _filterPostProcesses(){var t=r(this._ctx);this.numItems=this.$teasers.filter(s).length,0===this.numItems&&t.find(e).fadeIn(),this.currentPage=1,this._updatePagingControls(Math.ceil(this.numItems/this.itemsPerPage)),this._showTeaser(0);},_trackCoupons:function _trackCoupons(t){t=t||{};var i=this,n=(r(i._ctx),[]);i.$teasers.filter(s).not(":hidden").each(function(t,e){e=r(e);n.push({name:e.data("title"),id:"",position:t+1,page:i.currentPage||"",category:e.data("categories").split(",").join("/")||"",variant:e.data("datetime")||"",list:"Partneruebersicht_Seite_"+i.currentPage});}),i._track({event:"cumulus-extraOverview",action:t.action||"",partnerSelected:i.partnerFilters||"alle_partner",categorySelected:i.categoryFilters||"alle_kategorien",sortSelected:i.currentSort||"",paginationSelected:i.currentPage||"",paginationPages:i.numPages||""}),i._track({event:"cumulus-extraImpression",ecommerce:{impressions:n}});},_track:function _track(t){void 0!==window.dataLayer?window.dataLayer.push(t):void 0!==window.console&&window.console.log(t);}});}(jQuery),!function(s){"use strict";T.Module.VoucherOverview=T.createModule({start:function start(t){var e=this,i=s(this._ctx),n=[];i.find(".js-t-voucher-overview__voucher").each(function(t,e){e=s(e);n.push({name:e.data("name").replace("<br>"," "),id:"",price:"",category:"",variant:"gueltig_bis_"+e.data("date"),list:"Gutschein Uebersichtsseite",position:t+1});}),e._track({event:"cumulus-extraImpression",ecommerce:{impressions:n}}),i.on("click",".js-t-voucher-overview__link",function(){var t=s(this);e._track({event:"cumulus-extraVoucherDownload",expirationDate:t.data("expires")||"",list:"Gutschein Uebersichtsseite"});}),t();},_track:function _track(t){void 0!==window.dataLayer?window.dataLayer.push(t):void 0!==window.console&&window.console.log(t);}});}(jQuery),!function(_){"use strict";T.Module.Coupons=T.createModule({start:function start(t){var i=this,n=_(i._ctx);i._events.on("t.sync",i._sync.bind(i)),i.service.jqxhr&&4!==i.service.jqxhr.readyState&&i.service.jqxhr.abort(),i.service.jqxhr=_.ajax({url:i.service.uri,type:"get",timeout:i.service.timeout,contentType:"application/json",async:!0,cache:!1}).done(function(t){t&&(i.coupons=_.isArray(t)?t:[t],i.coupons.length?i._renderAll():(t={type:"info",tpl:i.template.info,msg:n.data("msg-info-zero-coupons")||"",wrap:!0},i._renderInfo(t)));}).fail(function(t,e){200===t.status?i._renderInfo({type:"info",tpl:i.template.info,msg:n.data("msg-info-coupon-not-available")||"",wrap:!0}):"abort"!==e&&i._renderInfo({type:"error",tpl:i.template.info,msg:n.data("msg-error")||"Error",wrap:!0});}).always(function(){t();});},_sync:function _sync(){},_init:function _init(){var t=this,e=_(t._ctx);t.CONST={TYPE:{DETAIL:"detail",OVERVIEW:"overview",PREVIEW:"preview"},SIZE:{BIG:"BIG",SMALL:"SMALL"},STATE:{ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",DISABLED:"DISABLED",REDEEMED:"REDEEMED"},ACTION:{ACTIVATE:"activate",DEACTIVATE:"deactivate",NONE:"none"},STORAGENAME:"dirac.state.overview"},t.service={jqxhr:null,uri:e.data("service-uri"),activateUri:e.data("service-activate-uri"),deactivateUri:e.data("service-deactivate-uri"),timeout:e.data("service-timeout")||1e4},t.template={id:e.data("tpl"),container:e.data("tpl-container"),controls:e.data("tpl-controls"),info:e.data("tpl-info")},t.content={detailLink:e.data("coupon-detail-link"),overviewLink:e.data("coupon-overview-link")},t.state={},t.backgroundColor=e.data("bg-color")||"#eeeae8",t.coupons=null,t.type="",t.$containers=null,t.$controls=null;},_bindStateActionEvents:function _bindStateActionEvents(){var m=this,g=_(m._ctx);g.on("click",".js-coupons-detail, .js-coupons-overview",function(t){t.stopPropagation();var t=_(this),e=t.closest(".m-coupon"),i=g.find('[data-tab-ref="'+m.state.tabId+'"]'),n=""+e.data("item-id"),n=m._getModelByItemId(n),s=m._getDistributionChannelString(n),t=t.hasClass("js-coupons-detail")?"mehr info":"zurueck zur uebersicht";m._track({event:"couponInteraction",couponAction:t,ecommerce:{click:{actionField:{list:i.length?i.data("tracking-key"):"detail-ansicht"},products:[{name:n.type+"_"+n.discountAmount+"_"+n.name,id:n.ean||"",position:e.siblings(":visible").addBack().index(e)+1+"",price:"",brand:s,category:n.minimumPurchase,variant:"gueltig_"+n.expirationDate}]}}});}),g.on("click",".js-coupons-action",function(t){t.preventDefault(),t.stopPropagation();for(var t=_(this),i=t.closest(".m-coupon"),e=g.find('[data-tab-ref="'+m.state.tabId+'"]'),n=""+i.data("item-id"),s=m._getModelByItemId(n),o=m._getDistributionChannelString(s),a=""+i.data("id"),r=""+i.data("group"),l=""+i.data("campaign-id"),h=i.find(".js-coupons__flyout"),c=!!t.hasClass("m-coupon__button--activate"),t=c?m.service.activateUri:m.service.deactivateUri,u=(m._track({event:"couponInteraction",couponAction:c?"aktivierung":"deaktivierung",ecommerce:{click:{actionField:{list:e.length?e.data("tracking-key"):"detail-ansicht"},products:[{name:s.type+"_"+s.discountAmount+"_"+s.name,id:s.ean||"",position:i.siblings(":visible").addBack().index(i)+1+"",price:"",brand:o,category:s.minimumPurchase,variant:"gueltig_"+s.expirationDate}]}}}),t+=a,h.addClass("state-coupon-flyout--load"),m.coupons),d=[],p=0,f=u.length;p<f;p++){n==""+u[p]._itemId?(u[p].state=c?m.CONST.STATE.ACTIVE:m.CONST.STATE.INACTIVE,u[p].action=c?m.CONST.ACTION.DEACTIVATE:m.CONST.ACTION.ACTIVATE):u[p].campaignId&&l==""+u[p].campaignId?u[p]._itemCampaignDisabled=!u[p]._itemCampaignDisabled:u[p].group&&r==""+u[p].group&&u[p].state===m.CONST.STATE.INACTIVE&&(u[p]._itemDisabled=!u[p]._itemDisabled);}m._stateAction(i,d),_.ajax({url:t,type:"post",timeout:m.service.timeout,contentType:"application/json",async:!0,cache:!1}).done(function(){c?h.addClass("state-coupon-flyout--activate"):h.addClass("state-coupon-flyout--deactivate"),i.toggleClass("m-coupon--state-active"),d.push(window.setTimeout(function(){h.removeClass("state-coupon-flyout--load");},5e3)),d.push(window.setTimeout(function(){h.removeClass("state-coupon-flyout--activate state-coupon-flyout--deactivate");},6e3));}).fail(function(t,e){"abort"!==e&&(h.removeClass("state-coupon-flyout--activate state-coupon-flyout--deactivate"),t.responseJSON&&t.responseJSON.errorMessage&&(h.find(".js-status-error-text").html(t.responseJSON.errorMessage),t.responseJSON.redirectUrl&&h.find(".js-status-error-confirmation").attr("href",t.responseJSON.redirectUrl)),h.addClass("state-coupon-flyout--error"),m._stateAction(i,d));});}),g.on("click",".js-status-error-confirmation",function(t){"#"===_(this).attr("href")&&(t.preventDefault(),t.stopPropagation(),window.location.reload(!0));});},_stateAction:function _stateAction(){},_prepareCouponData:function _prepareCouponData(){},_renderAll:function _renderAll(){var t,e=this,i=_(e._ctx);i.hide(),e._prepareCouponData(),e.template.container?(t=T.Utils.Template.get(e.template.container),e._render({bgColor:e.backgroundColor},t,i),e.$containers=i.find(".js-coupons__container"),e.$containers.each(function(){e._renderCouponsContainer(_(this));}),e.template.controls&&(e.$controls=i.find(".js-coupons__controls"),e.$controls.each(function(){e._renderControls(_(this));}))):(e.$containers=i,t=e._getBaseCouponsTemplateInfo(),e._renderCoupons(i,t)),i.fadeIn(300);},_renderCouponsContainer:function _renderCouponsContainer(t){var e=this._getBaseCouponsTemplateInfo();e.size.small=this.type===this.CONST.TYPE.OVERVIEW||t.data("size")===this.CONST.SIZE.SMALL,e.size.big=this.type===this.CONST.TYPE.DETAIL||t.data("size")===this.CONST.SIZE.BIG,this._renderCoupons(t,e);},_renderCoupons:function _renderCoupons(t,e){var i=this,n=_(i._ctx),s=i.coupons,o=T.Utils.Template.get(i.template.id),a={coupons:s,meta:e||{}},r=t||n,e=r.data("states"),l=e?e.split(","):[];if(a.coupons)for(var h,c,u,d,p=0,f=a.coupons.length;p<f;p++){if((h=s[p])._show=!l.length||-1!==_.inArray(h.state,l),h._state={active:h.state===i.CONST.STATE.ACTIVE,redeemed:h.state===i.CONST.STATE.REDEEMED,inactive:h.state===i.CONST.STATE.INACTIVE,new:h.newCoupon,disabled:h._itemDisabled||h.state===i.CONST.STATE.DISABLED||!1,campaignDisabled:h._itemCampaignDisabled||!1},h._channels={masters:[],others:[]},h.distributionChannels)for(d=0,u=h.distributionChannels.length;d<u;d++){((c=h.distributionChannels[d]).master?h._channels.masters:h._channels.others).push(c);}h._prop={},h._state.redeemed||(h.minimumPurchase&&(h._prop.descriptionMinimumPurchase=h.minimumPurchase),a.meta.size.small&&h.redeemableArea&&(h._prop.descriptionRedeemableArea=h.redeemableArea)),h._state.redeemed?h._prop.detailLink=i.content.detailLink+"?state=redeemed&id="+h.id+"&redeemedDate="+encodeURIComponent(h.redeemedDate):h._prop.detailLink=i.content.detailLink+"?id="+h.id,h._prop.overviewLink=i.content.overviewLink,h._prop.actionText="",a.meta.size.small&&!h._state.redeemed||!a.meta.size.small&&h._state.disabled?h.activationDisabledText&&(h._prop.actionText=h.activationDisabledText):!a.meta.size.small&&h._state.redeemed&&h.redeemedText&&(h._prop.actionText=h.redeemedText),h._prop.image={};var m,g,v,b,y=!(!h.image&&!h.imageRedeemed),C=y?h._state.redeemed&&h.imageRedeemed?h.imageRedeemed:h.image:h._state.redeemed&&h.signetRedeemed?h.signetRedeemed:h.signet,w=h._state.redeemed&&h.signetRedeemed?h.signetRedeemed:h.signet,x=(C&&(C.custom?(g=m=a.meta.size.small?200:425,h._prop.image.src=i._getImageCustomUrl({url:C.custom,width:m,height:g})):h._prop.image.src=a.meta.size.small?C.medium:C.large,y||C.rotated||(h._prop.image.rotate=!0),y||(h._prop.upscale=!0)),h._prop.badge={},y&&w&&(m=a.meta.size.small?80:120,w.custom?h._prop.badge.src=i._getImageCustomUrl({url:w.custom,width:m}):(h._prop.badge.src=a.meta.size.small?w.medium:w.large,h._prop.badge.width=m),w.rotated||(h._prop.badge.rotate=!0)),"");if(h._logos=[],h._logoInsideInfo=!1,a.meta.size.small)(c=h._channels.masters[0]||h._channels.others[0])&&c.logo&&(x=c.logo.custom?(x=(h._state.redeemed&&c.logoRedeemed?c.logoRedeemed:c.logo).custom,i._getImageCustomUrl({url:x,height:32})):(h._state.redeemed&&c.logoRedeemed?c.logoRedeemed:c.logo).medium,h._logos.push({src:x,alt:c.name}));else{for(0===h._channels.others.length&&(h._logoInsideInfo=!0),d=0,v=(b=h._channels.masters).length;d<v;d++){(c=b[d])&&c.logo&&(x=c.logo.custom?(x=(h._state.redeemed&&c.logoRedeemed?c.logoRedeemed:c.logo).custom,i._getImageCustomUrl({url:x,height:30})):(h._state.redeemed&&c.logoRedeemed?c.logoRedeemed:c.logo).medium,h._logos.push({src:x,alt:c.name}));}for(d=0,v=(b=h._channels.others).length;d<v;d++){(c=b[d])&&c.logo&&(x=c.logo.custom?(x=(h._state.redeemed&&c.logoRedeemed?c.logoRedeemed:c.logo).custom,i._getImageCustomUrl({url:x,height:30})):(h._state.redeemed&&c.logoRedeemed?c.logoRedeemed:c.logo).medium,h._logos.push({src:x,alt:c.name}));}}}i._render(a,o,r),i.type===i.CONST.TYPE.OVERVIEW&&window.setTimeout(function(){r.find(".js-coupon__title span:visible").each(function(){_(this).trunk8({lines:3});}),r.find(".js-coupon__subtitle").each(function(){_(this).trunk8({lines:2});}),r.find(".js-coupon__description--distribution").each(function(){_(this).trunk8({lines:2});});},0);},_renderControls:function _renderControls(t){var e,i=t.data("ref"),n=T.Utils.Template.get(this.template.controls),s={state:i&&this.state[i]?this.state[i]:{},ref:i,hasChannelFilter:!1,hasSortFilter:!1,channels:[],sort:{},channel:{},channelName:""},i=t.data("states"),o=t.data("boxes");if(o){if(-1!==o.indexOf("filter"))for(s.hasChannelFilter=!0,s.channels=this._getStateChannels(i),s.channel[s.state.channel]=!0,e=0;e<s.channels.length;e++){if(s.channels[e].id===s.state.channel){s.channels[e].selected=!0,s.channelName=s.channels[e].label;break;}}-1!==o.indexOf("sort")&&(s.hasSortFilter=!0,s.sort[s.state.sort]=!0);}this._render(s,n,t);},_renderInfo:function _renderInfo(t){var e=_(this._ctx),i=T.Utils.Template.get(t.tpl),t={msg:t.msg||"",type:t.type||"",wrap:t.wrap||!1};e.hide(),this._render(t,i,e),e.fadeIn(300);},_render:function _render(t,e,i){var n=_(this._ctx),e=e(t),t=_(e);(i||n).html(t);},_getBaseCouponsTemplateInfo:function _getBaseCouponsTemplateInfo(){return{type:{overview:this.type===this.CONST.TYPE.OVERVIEW,detail:this.type===this.CONST.TYPE.DETAIL,preview:this.type===this.CONST.TYPE.PREVIEW},size:{big:!0,small:!1}};},_getStateChannels:function _getStateChannels(t){for(var e,i,n,s,o,a=this.coupons,r=t.split(","),l={},h=a.length,c=0;c<h;c++){if(e=a[c],-1!==_.inArray(e.state,r))for(o=(n=e.distributionChannels).length,i=0;i<o;i++){s=n[i],l.hasOwnProperty(s.id)||(l[s.id]={id:s.id,label:s.label});}}var u,d=Object.keys(l),p=[],f=d.length;for(c=0;c<f;c++){u=d[c],p.push(l[u]);}return p.sort(function(t,e){return t.filter_id-e.filter_id;});},_getModelByItemId:function _getModelByItemId(t){var e=this.coupons;if(1===e.length)return e[0];for(var i=0,n=e.length;i<n;i++){var s=e[i];if(s._itemId===t)return s;}},_getDistributionChannelString:function _getDistributionChannelString(t){for(var e="",i=0,n=t.distributionChannels.length;i<n;i++){var s=t.distributionChannels[i].id;i+1<n&&(s+=";"),e+=s;}return e;},_getImageCustomUrl:function _getImageCustomUrl(t){var e,i,n="";return t&&_.isPlainObject(t)?(t.url&&"string"==typeof t.url&&(-1<(n=t.url).indexOf("{width}")||-1<n.indexOf("{height}")?(e=t.width||1e4,i=t.height||1e4,n=(n=n.replace(/\{width\}/gi,e)).replace(/\{height\}/gi,i)):(t.width&&(n+="&width="+t.width),t.height&&(n+="&height="+t.height))),n):"";},_track:function _track(t){void 0!==window.dataLayer?window.dataLayer.push(t):void 0!==window.console&&window.console.log(t);}});}(jQuery),!function(){"use strict";T.Module.Coupons.Detail=T.createDecorator({start:function start(t){this._init(),this.type=this.CONST.TYPE.DETAIL,this._bindStateActionEvents(),this._parent.start(t);},_sync:function _sync(){var t=this.coupons[0],e=this._getDistributionChannelString(t);this._track({event:"couponDetailView",ecommerce:{detail:{actionField:{list:"detail-ansicht"},products:[{name:t.type+"_"+t.discountAmount+"_"+t.name,id:t.ean||"",price:"",brand:e,category:t.minimumPurchase,variant:"gueltig_"+t.expirationDate}]}}});},_prepareCouponData:function _prepareCouponData(){}});}(jQuery),!function(g){"use strict";T.Module.Coupons.Overview=T.createDecorator({start:function start(t){var l=this,e=g(l._ctx);l._init(),l.type=l.CONST.TYPE.OVERVIEW,l.CONST.TABIDS=["tab1","tab2","tab3"],l.state=T.Utils.Store.getState(l.CONST.STORAGENAME),l.state||(l.state={tabId:"tab1",tab1:{channel:"alleShops",sort:"newest"},tab2:{channel:"alleShops",sort:"validity"},tab3:{channel:"alleShops"}}),l._bindStateActionEvents(),e.on("click",".js-coupons__tab-link",function(){var t=g(this);t.hasClass("state-active")||(l._showTab(t.data("tab-ref")),l._trackCoupons({action:"tab-wechsel"}));}),e.on("click",".js-coupons__dropdown-button",function(t){t.preventDefault(),t.stopPropagation();t=g(this).closest(".js-coupons__dropdown");e.find(".js-coupons__dropdown.open").not(t).removeClass("open"),t.toggleClass("open");}),e.on("click",function(){e.find(".js-coupons__dropdown.open").removeClass("open");}),e.on("click",".js-coupons__filter-item",function(t){t.preventDefault();var e=g(this),i=e.closest(".js-coupons__dropdown"),n=i.find(".js-coupons__dropdown-menu"),i=i.find(".js-coupons__dropdown-button"),s=i.attr("id").split("_"),o=s[0],s="sort"===s[1],a=e.text(),r=e.data("value");if(t.originalEvent&&e.hasClass("is-active"))return!1;i.find(".js-coupons__dropdown-button__text").text(a),n.find(".js-coupons__filter-item").removeClass("is-active"),e.addClass("is-active"),s?(l._doSort(o,r),t.originalEvent&&l._trackCoupons({action:"sortieren"})):(l._doFilter(o,r),t.originalEvent&&l._trackCoupons({action:"filter"}));}),e.on("click",".m-coupon",function(t){var e=g(this),i=e.find(".js-coupons-detail");!i.is(":hidden")||i.parent().hasClass("m-coupon__link--multi")&&e.hasClass("m-coupon--state-disabled")||(t.stopPropagation(),i.trigger("click"),window.location.href=i.attr("href"));}),l._parent.start(t);},_sync:function _sync(){var i=this,t=g(i._ctx);i.$tabLinks=t.find(".js-coupons__tab-link"),i.$tabContents=t.find(".js-coupons__tab-content"),i._countCoupons(),i.$controls.each(function(){var t=g(this),e=t.closest(".js-coupons__controls").data("ref");i.state[e].hasOwnProperty("channel")&&t.find('.js-coupons__channels .js-coupons__filter-item[data-value="'+i.state[e].channel+'"]').trigger("click"),i.state[e].hasOwnProperty("sort")&&t.find('.js-coupons__sort .js-coupons__filter-item[data-value="'+i.state[e].sort+'"]').trigger("click");}),g("#"+i.CONST.TABIDS[2]).find(".m-coupon").sortElements(function(t,e){return g(t).data("sort-redeemed")<g(e).data("sort-redeemed")?1:-1;}),i._showTab(T.Utils.Url.getUrlParamValue("tab")||i.state.tabId),i._trackCoupons({action:"seite-load"});},_doFilter:function _doFilter(t,e){var i=g("#"+t),n=i.find(".js-coupons__channels"),s=e||n.find(".js-coupons__filter-item.is-active").data("value");this.state[t].channel=s,T.Utils.Store.setState(this.CONST.STORAGENAME,this.state),i.find(".m-coupon").each(function(){var t=g(this),e=t.data("channels").split(",");"alleShops"===s||-1!==g.inArray(""+s,e)?t.addClass("js-is-visible").fadeIn(200):t.removeClass("js-is-visible").fadeOut(200);});},_doSort:function _doSort(t,e){var i=g("#"+t),n=i.find(".js-coupons__sort"),s=e||n.find(".js-coupons__filter-item.is-active").data("value");this.state[t].sort=s,T.Utils.Store.setState(this.CONST.STORAGENAME,this.state),"newest"===s?i.find(".m-coupon").sortElements(function(t,e){return g(t).data("sort-"+s)<g(e).data("sort-"+s)?1:-1;}):"validity"===s&&i.find(".m-coupon").sortElements(function(t,e){return g(t).data("sort-"+s)>g(e).data("sort-"+s)?1:-1;});},_countCoupons:function _countCoupons(){var i=this;i.$tabLinks.each(function(t,e){i._updateTabCount(g(e).data("tab-ref"));});},_updateTabCount:function _updateTabCount(t){var e=this.$tabLinks.filter("[data-tab-ref="+t+"]"),i=g("#"+t).find(".m-coupon").length;e.find(".js-coupons__tab-nr").text(i),"tab2"===t&&g('[data-target-id="dirac"]').text(i);},_showTab:function _showTab(t){var e,i=this.$tabLinks;this.$tabContents.hide(),i.removeClass("state-active"),t?e=i.filter("[data-tab-ref="+t+"]"):t=(e=i.eq(0)).data("tab-ref"),this.state.tabId=t,T.Utils.Store.setState(this.CONST.STORAGENAME,this.state),e.addClass("state-active"),g("#"+t).fadeIn(300),this._handleFilters(t);},_stateAction:function _stateAction(t,e){var i=this,n=t.closest(".js-coupons__container").data("ref"),s=n===i.CONST.TABIDS[0]?i.CONST.TABIDS[1]:i.CONST.TABIDS[0],o=g("#"+s),a=o.find(".js-coupons__container"),r=t.data("group"),l=t.data("campaign-id"),h=t.data("id");i._renderCouponsContainer(a),n===i.CONST.TABIDS[0]?(t.siblings().filter('[data-group="'+r+'"]').toggleClass("m-coupon--state-disabled").not('[data-id="'+h+'"]').toggleClass("has-detail-link"),l&&t.siblings().filter('[data-campaign-id="'+l+'"]').toggleClass("m-coupon--state-campaign-disabled"),i._renderControls(o.find(".js-coupons__controls")),i._doSort(s),i._doFilter(s),i._updateTabCount(s),i._handleFilters(s)):(g.each(e,function(t,e){window.clearTimeout(e);}),i._renderControls(g("#"+n).find(".js-coupons__controls")),window.setTimeout(function(){t.fadeOut(300,function(){g(this).remove(),i._doSort(n),i._doFilter(n),i._updateTabCount(n),i._handleFilters(n);});},4e3),i._doSort(s),i._doFilter(s));},_prepareCouponData:function _prepareCouponData(){for(var t,e,i,n,s,o=this.coupons,a=o.length,r=[],l=[],h=[],c=0;c<a;c++){if(e=[],(u=o[c]).distributionChannels&&u.distributionChannels.length)for(i=u.distributionChannels.length,t=0;t<i;t++){e.push(u.distributionChannels[t].id);}u._itemMultiCoupon=1<u.quantity,u._itemBonusCoupon="BONUS"===u.type,(u._itemMultiCoupon&&u.state===this.CONST.STATE.ACTIVE||u._itemBonusCoupon&&u.state===this.CONST.STATE.ACTIVE)&&r.push(u.group),u._itemCampaignCoupon=null!==u.campaignId,u._itemCampaignCoupon&&u.state===this.CONST.STATE.ACTIVE&&l.push(u.campaignId),u.state===this.CONST.STATE.ACTIVE&&h.push(u.id),u._itemId=u.id+"-"+Math.random().toString(24).substring(6),u._itemChannels=e.join(","),n=u.publicationDate?parseInt(u.publicationDate.replace(/-/g,""),10):10000101,s=u.expirationDate?parseInt(u.expirationDate.replace(/-/g,""),10):90000101,u._itemSortNewest=1e7*n-s,u._itemSortValidity=1e7*s+n,u._itemSortRedeemed=u.redeemedDate||null;}for(c=0;c<a;c++){var u=o[c],d=-1!==g.inArray(u.group,r),p=-1!==g.inArray(u.campaignId,l);u._itemDisabled=!(u.state!==this.CONST.STATE.INACTIVE||!d),u._itemCampaignDisabled=!(u.state!==this.CONST.STATE.INACTIVE||!p),u._hasDetailLink=g.inArray(u.id,h)<=-1;}},_handleFilters:function _handleFilters(t){var e=g(this._ctx),i=this.$tabLinks,i=(t?n=i.filter("[data-tab-ref="+t+"]"):t=(n=i.eq(0)).data("tab-ref"),g("#"+t)),n=parseInt(n.find(".js-coupons__tab-nr").text());n<=0?g("#"+t).find(".js-coupons__controls").hide():g("#"+t).find(".js-coupons__controls").show(),0===n?(t=T.Utils.Template.get(e.data("tpl-info"))({msg:e.data("msg-info-zero-coupons")}),(n=g(t)).addClass("js-coupons_no-coupon-info"),i.find(".js-coupons_no-coupon-info").length||i.append(n)):i.find(".js-coupons_no-coupon-info").length&&i.find(".js-coupons_no-coupon-info").remove();},_trackCoupons:function _trackCoupons(t){t=t||{};var e,i,n,s,o,a,r=this,l=g(r._ctx).find('[data-tab-ref="'+r.state.tabId+'"]'),h=g("#"+r.state.tabId),c=g(".m-coupon",h),u=g("#"+r.CONST.TABIDS[0]).find(".m-coupon").length,d=g("#"+r.CONST.TABIDS[1]).find(".m-coupon").length,p=g("#"+r.CONST.TABIDS[2]).find(".m-coupon").length,f=u+p,u=u-d,m=[];c.filter(".js-is-visible").each(function(t){for(e=g(this),i=r._getModelByItemId(e.data("item-id")),n="",o=0,a=i.distributionChannels.length;o<a;o++){s=i.distributionChannels[o].id,o+1<a&&(s+=";"),n+=s;}m.push({name:i.type+"_"+i.discountAmount+"_"+i.name,id:i.ean||"",position:t+1,price:"",list:l.data("tracking-key")||"",brand:n,category:i.minimumPurchase,variant:"gueltig_"+i.expirationDate});}),r._track({event:"digitaleCoupons",action:t.action||"",list:l.data("tracking-key")||"",filterSelected:h.find(".js-coupons__channels .is-active").data("tracking-key")||"",sortSelected:h.find(".js-coupons__sort .is-active").data("tracking-key")||"",couponsSum:f+"",couponsActivated:d+"",couponsDeactivated:u+"",couponsUsed:p+""}),r._track({event:"couponImpression",ecommerce:{impressions:m}});}});}(jQuery),!function(o){"use strict";T.Module.Coupons.Preview=T.createDecorator({start:function start(t){this._init(),this.type=this.CONST.TYPE.PREVIEW,this._parent.start(t);},_sync:function _sync(){o(this._ctx).find(".js-coupons__preview-app").each(function(){var t=o(this),e=t.find(">div"),i=o('<iframe sandbox="allow-same-origin allow-forms" seamless style="width:'+e.width()+"px; height:"+e.height()+'px;border:none;margin-bottom:50px;">'),e=o(t.html()),n=e[0],s=e[1]&&1===e[1].nodeType?e[1]:e[2];i.on("load",function(){i.contents().find("head").prepend('<meta charset="utf-8">').append(n),i.contents().find("body").append(s);}),t.after(i).empty(),i.attr("src","about:blank");});},_prepareCouponData:function _prepareCouponData(){for(var t,e=this.coupons,i=e.length,n=0;n<i;n++){(t=e[n])._itemDisabled=t.state===this.CONST.STATE.DISABLED;}}});}(jQuery),!function(g){"use strict";T.Module.Ucbs=T.createModule({start:function start(t){var i=this,n=g(i._ctx);i._events.on("t.sync",i._sync.bind(i)),i.service.jqxhr&&4!==i.service.jqxhr.readyState&&i.service.jqxhr.abort(),i.service.jqxhr=g.ajax({url:i.service.uri,type:"get",timeout:i.service.timeout,contentType:"application/json",async:!0,cache:!1}).done(function(t){t&&(i.ucbs=g.isArray(t)?t:[t],i.ucbs.length?i._renderAll():(t={type:"info",tpl:i.template.info,msg:n.data("msg-info-zero-ucbs")||"",wrap:!0},i._renderInfo(t)));}).fail(function(t,e){"abort"!==e&&(e={type:"error",tpl:i.template.info,msg:n.data("msg-error")||"Error",wrap:!0},i._renderInfo(e));}).always(function(){t();});},_sync:function _sync(){},_init:function _init(){var t=this,e=g(t._ctx);t.CONST={TYPE:{DETAIL:"detail",OVERVIEW:"overview",PREVIEW:"preview"},SIZE:{BIG:"BIG",SMALL:"SMALL"},STATE:{ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",DISABLED:"DISABLED",REDEEMED:"REDEEMED"},ACTION:{ACTIVATE:"activate",DEACTIVATE:"deactivate",NONE:"none"},SORT:{HIGHEST:"highest",LOWEST:"lowest",NEWEST:"newest",OLDEST:"oldest",DEFAULT:"highest"},STORAGENAME:"ucb.state.overview"},t.service={jqxhr:null,uri:e.data("service-uri"),activateUri:e.data("service-activate-uri"),deactivateUri:e.data("service-deactivate-uri"),timeout:e.data("service-timeout")||1e4},t.template={id:e.data("tpl"),container:e.data("tpl-container"),controls:e.data("tpl-controls"),info:e.data("tpl-info")},t.state={},t.backgroundColor=e.data("bg-color")||"#eeeae8",t.ucbs=null,t.type="",t.$containers=null,t.$controls=null;},_bindStateActionEvents:function _bindStateActionEvents(){var f=this,m=g(f._ctx);m.on("click",".js-ucbs-action",function(t){t.preventDefault();for(var t=g(this),i=t.closest(".m-ucb"),e=m.find('[data-tab-ref="'+f.state.tabId+'"]'),n=""+i.data("item-id"),s=f._getModelByItemId(n),o=""+i.data("id"),a=""+i.data("group"),r=i.find(".js-ucbs__flyout"),l=!!t.hasClass("m-ucb__button--activate"),t=l?f.service.activateUri:f.service.deactivateUri,h=(f._track({event:"ucbInteraction",ucbAction:l?"aktivierung":"deaktivierung",ecommerce:{click:{actionField:{list:e.length?e.data("tracking-key"):"detail-ansicht"},products:[{name:s.titleText,id:"",position:i.siblings(":visible").addBack().index(i)+1+"",price:"",brand:"cumulus bon",category:s.amount+".- Fr.",variant:"gueltig_"+s.expirationDate}]}}}),t+=o,r.addClass("state-ucb-flyout--load"),f.ucbs),c=h.length,u=[],d=0,p=h.length;d<p;d++){n==""+h[d].itemId?(h[d].state=l?f.CONST.STATE.ACTIVE:f.CONST.STATE.INACTIVE,h[d].action=l?f.CONST.ACTION.DEACTIVATE:f.CONST.ACTION.ACTIVATE):h[d].group&&a==""+h[d].group&&h[d].state===f.CONST.STATE.INACTIVE&&(h[d].itemDisabled=!h[d].itemDisabled);}f._stateAction(i,u),g.ajax({url:t,type:"post",timeout:f.service.timeout,contentType:"application/json",async:!0,cache:!1}).done(function(){l?r.addClass("state-ucb-flyout--activate"):r.addClass("state-ucb-flyout--deactivate"),i.toggleClass("m-ucb--state-active"),i.toggleClass("m-ucb--state-inactive"),u.push(window.setTimeout(function(){r.removeClass("state-ucb-flyout--load");},5e3)),u.push(window.setTimeout(function(){r.removeClass("state-ucb-flyout--activate state-ucb-flyout--deactivate");},6e3));}).fail(function(t,e){if("abort"!==e){for(r.removeClass("state-ucb-flyout--activate state-ucb-flyout--deactivate"),t.responseJSON&&t.responseJSON.errorMessage&&(r.find(".js-status-error-text").html(t.responseJSON.errorMessage),t.responseJSON.redirectUrl&&r.find(".js-status-error-confirmation").attr("href",t.responseJSON.redirectUrl)),r.addClass("state-ucb-flyout--error"),d=0;d<c;d++){n==""+h[d].itemId?(h[d].state=l?f.CONST.STATE.INACTIVE:f.CONST.STATE.ACTIVE,h[d].action=""):h[d].group&&a==""+h[d].group&&h[d].state===f.CONST.STATE.INACTIVE&&(h[d].itemDisabled=!h[d].itemDisabled);}f._stateAction(i,u);}});}),m.on("click",".js-status-error-confirmation",function(t){"#"===g(this).attr("href")&&(t.preventDefault(),t.stopPropagation(),window.location.reload(!0));});},_stateAction:function _stateAction(){},_prepareUcbData:function _prepareUcbData(){},_renderAll:function _renderAll(){var t,e=this,i=g(e._ctx);i.hide(),e._prepareUcbData(),e.template.container?(t=T.Utils.Template.get(e.template.container),e._render({bgColor:e.backgroundColor},t,i),e.$containers=i.find(".js-ucbs__container"),e.$containers.each(function(){e._renderUcbsContainer(g(this));}),e.template.controls&&(e.$controls=i.find(".js-ucbs__controls"),e.$controls.each(function(){e._renderControls(g(this));}))):(e.$containers=i,t=e._getBaseUcbsTemplateInfo(),e._renderUcbs(i,t)),i.fadeIn(300);},_renderUcbsContainer:function _renderUcbsContainer(t){var e=g(this._ctx),i=this._getBaseUcbsTemplateInfo(),e=e.data("currency-sign");i.size.small=this.type===this.CONST.TYPE.OVERVIEW||t.data("size")===this.CONST.SIZE.SMALL,i.size.big=t.data("size")===this.CONST.SIZE.BIG,i.currencySign=e||".-",this._renderUcbs(t,i);},_renderUcbs:function _renderUcbs(t,e){var i=g(this._ctx),n=this.ucbs,s=T.Utils.Template.get(this.template.id),e={ucbs:n,meta:e||{}},t=t||i,i=t.data("states"),o=i?i.split(","):[];if(e.ucbs)for(r=0,a=e.ucbs.length;r<a;r++){var a,r,l=n[r];l._show=!o.length||-1!==g.inArray(l.state,o),l._state={active:l.state===this.CONST.STATE.ACTIVE,redeemed:l.state===this.CONST.STATE.REDEEMED,inactive:l.state===this.CONST.STATE.INACTIVE,new:l.newUcb,disabled:l.itemDisabled||!1},l._prop={},l._prop.image={},l._prop.image.src=l._state.redeemed&&l.imageRedeemed?l.imageRedeemed:l.image;}this._render(e,s,t);},_renderControls:function _renderControls(t){var e=t.data("ref"),i=T.Utils.Template.get(this.template.controls),e={state:e&&this.state[e]?this.state[e]:{},ref:e,hasChannelFilter:!1,hasSortFilter:!1,sort:{}},n=t.data("boxes");n&&(-1!==n.indexOf("filter")&&(e.hasChannelFilter=!0),-1!==n.indexOf("sort")&&(e.hasSortFilter=!0,e.sort[e.state.sort]=!0)),this._render(e,i,t);},_renderInfo:function _renderInfo(t){var e=g(this._ctx),i=T.Utils.Template.get(t.tpl),t={msg:t.msg||"",type:t.type||"",wrap:t.wrap||!1};e.hide(),this._render(t,i,e),e.fadeIn(300);},_render:function _render(t,e,i){var n=g(this._ctx),e=e(t),t=g(e);(i||n).html(t);},_getBaseUcbsTemplateInfo:function _getBaseUcbsTemplateInfo(){return{type:{overview:this.type===this.CONST.TYPE.OVERVIEW,detail:this.type===this.CONST.TYPE.DETAIL,preview:this.type===this.CONST.TYPE.PREVIEW},size:{big:!0,small:!1}};},_getModelByItemId:function _getModelByItemId(t){var e=this.ucbs;if(1===e.length)return e[0];for(var i=0,n=e.length;i<n;i++){var s=e[i];if(s.itemId===t)return s;}},_track:function _track(t){void 0!==window.dataLayer?window.dataLayer.push(t):void 0!==window.console&&window.console.log(t);}});}(jQuery),!function(f){"use strict";T.Module.Ucbs.Overview=T.createDecorator({start:function start(t){var l=this,e=f(l._ctx);l._init(),l.type=l.CONST.TYPE.OVERVIEW,l.CONST.TABIDS=["tab1","tab2","tab3"],l.state=T.Utils.Store.getState(l.CONST.STORAGENAME),l.state||(l.state={tabId:"tab1",tab1:{sort:l.CONST.SORT.DEFAULT},tab2:{sort:l.CONST.SORT.DEFAULT},tab3:{}}),l._bindStateActionEvents(),e.on("click",".js-ucbs__tab-link",function(){var t=f(this);t.hasClass("state-active")||(l._showTab(t.data("tab-ref")),l._trackUcbs({action:"tab-wechsel"}));}),e.on("click",".js-ucbs__dropdown-button",function(t){t.preventDefault(),t.stopPropagation();t=f(this).closest(".js-ucbs__dropdown");e.find(".js-ucbs__dropdown.open").not(t).removeClass("open"),t.toggleClass("open");}),e.on("click",function(){e.find(".js-ucbs__dropdown.open").removeClass("open");}),e.on("click",".js-ucbs__filter-item",function(t){t.preventDefault();var e=f(this),i=e.closest(".js-ucbs__dropdown"),n=i.find(".js-ucbs__dropdown-menu"),i=i.find(".js-ucbs__dropdown-button"),s=i.attr("id").split("_"),o=s[0],s="sort"===s[1],a=e.text(),r=e.data("value");if(t.originalEvent&&e.hasClass("is-active"))return!1;i.find(".js-ucbs__dropdown-button__text").text(a),n.find(".js-ucbs__filter-item").removeClass("is-active"),e.addClass("is-active"),s&&(l._doSort(o,r),t.originalEvent&&l._trackUcbs({action:"sortieren"}));}),l._parent.start(t);},_sync:function _sync(){var i=this,t=f(i._ctx);i.$tabLinks=t.find(".js-ucbs__tab-link"),i.$tabContents=t.find(".js-ucbs__tab-content"),i._countUcbs(),i.$controls.each(function(){var t=f(this),e=t.closest(".js-ucbs__controls").data("ref");i.state[e].hasOwnProperty("sort")||(i.state[e].sort=i.CONST.SORT.DEFAULT),t.find('.js-ucbs__sort .js-ucbs__filter-item[data-value="'+i.state[e].sort+'"]').trigger("click");}),f("#"+i.CONST.TABIDS[2]).find(".m-ucb").sortElements(function(t,e){return f(t).data("sort-redeemed")<f(e).data("sort-redeemed")?1:-1;}),i._showTab(T.Utils.Url.getUrlParamValue("tab")||i.state.tabId),i._sumUcbs(),i._trackUcbs({action:"seite-load"});},_doSort:function _doSort(t,e){var n=this,i=f("#"+t),s=i.find(".js-ucbs__sort"),e=e||s.find(".js-ucbs__filter-item.is-active").data("value");n.state[t].sort=e,T.Utils.Store.setState(n.CONST.STORAGENAME,n.state),"newest"===e?i.find(".m-ucb").sortElements(function(t,e){var i=n._sortPriorityUcbs(t,e);return i||(f(t).data("sort-date")===f(e).data("sort-date")?f(t).data("sort-amount")<f(e).data("sort-amount")?1:-1:f(t).data("sort-date")<f(e).data("sort-date")?1:-1);}):"oldest"===e?i.find(".m-ucb").sortElements(function(t,e){var i=n._sortPriorityUcbs(t,e);return i||(f(t).data("sort-date")===f(e).data("sort-date")?f(t).data("sort-amount")<f(e).data("sort-amount")?1:-1:f(t).data("sort-date")>f(e).data("sort-date")?1:-1);}):"highest"===e?i.find(".m-ucb").sortElements(function(t,e){var i=n._sortPriorityUcbs(t,e);return i||(f(t).data("sort-amount")===f(e).data("sort-amount")?f(t).data("sort-date")>f(e).data("sort-date")?1:-1:f(t).data("sort-amount")<f(e).data("sort-amount")?1:-1);}):"lowest"===e&&i.find(".m-ucb").sortElements(function(t,e){var i=n._sortPriorityUcbs(t,e);return i||(f(t).data("sort-amount")===f(e).data("sort-amount")?f(t).data("sort-date")>f(e).data("sort-date")?1:-1:f(t).data("sort-amount")>f(e).data("sort-amount")?1:-1);});},_sortPriorityUcbs:function _sortPriorityUcbs(t,e){if(f(t).data("sort-fix")){if(!f(e).data("sort-fix"))return-1;}else if(f(e).data("sort-fix"))return 1;return 0;},_countUcbs:function _countUcbs(){var i=this;i.$tabLinks.each(function(t,e){i._updateTabCount(f(e).data("tab-ref"));});},_updateTabCount:function _updateTabCount(t){var n=this,e=n.$tabLinks.filter("[data-tab-ref="+t+"]"),i=f("#"+t).find(".m-ucb").length;e.find(".js-ucbs__tab-nr").text(i),"tab2"===t&&window.setTimeout(function(){var t=f(n._ctx),e=t.find("#"+n.CONST.TABIDS[0]),i=0;e.find(".m-ucb.m-ucb--state-active").each(function(){i+=f(this).data("amount");}),i=i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"’"),f('[data-target-id="ucb"]').text(i+t.data("currency-sign"));},4e3);},_sumUcbs:function _sumUcbs(){var t=f(this._ctx),e=t.find(".js-ucbs__sum"),i=t.find("#"+this.CONST.TABIDS[0]),n=0,i=(i.find(".m-ucb.m-ucb--state-active, .m-ucb.m-ucb--state-inactive").each(function(){n+=f(this).data("amount");}),n=n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"’"),t.data("text-sum"));e.find(".js-m-ucb-container__sum-text").text(i),e.find(".js-m-ucb-container__sum-amount").text(t.data("currency")+" "+n+t.data("currency-sign"));},_showTab:function _showTab(t){var e,i=this.$tabLinks;this.$tabContents.hide(),i.removeClass("state-active"),t?e=i.filter("[data-tab-ref="+t+"]"):t=(e=i.eq(0)).data("tab-ref"),this.state.tabId=t,T.Utils.Store.setState(this.CONST.STORAGENAME,this.state),e.addClass("state-active"),f("#"+t).fadeIn(300),this._handleFilters(t);},_stateAction:function _stateAction(t,e){var i=this,n=t.closest(".js-ucbs__container").data("ref"),s=n===i.CONST.TABIDS[0]?i.CONST.TABIDS[1]:i.CONST.TABIDS[0],o=f("#"+s),a=o.find(".js-ucbs__container");i._renderUcbsContainer(a),n===i.CONST.TABIDS[0]?(i._renderControls(o.find(".js-ucbs__controls")),i._doSort(s),i._updateTabCount(s),i._handleFilters(s)):(a=f("#"+n),f.each(e,function(t,e){window.clearTimeout(e);}),i._renderControls(a.find(".js-ucbs__controls")),window.setTimeout(function(){t.fadeOut(300,function(){f(this).remove(),i._doSort(n),i._updateTabCount(n),i._handleFilters(n);});},4e3));},_prepareUcbData:function _prepareUcbData(){for(var t,e,i,n=this.ucbs,s=n.length,o=[],a=[],r=0;r<s;r++){(t=n[r]).state===this.CONST.STATE.ACTIVE&&a.push(t.id),t.itemId=t.id+"-"+Math.random().toString(24).substring(6),e=t.publicationDate?parseInt(t.publicationDate.replace(/-/g,""),10):10000101,i=t.expirationDate?parseInt(t.expirationDate.replace(/-/g,""),10):90000101,t.itemSortDate=1e7*e-i,t.itemSortAmount=t.amount||null,t.itemSortRedeemed=t.redeemedDate||null;}for(r=0;r<s;r++){(t=n[r]).itemDisabled=t.state===this.CONST.STATE.INACTIVE&&-1!==f.inArray(t.group,o),t.hasDetailLink=!(-1<f.inArray(t.id,a));}},_handleFilters:function _handleFilters(t){var e=f(this._ctx),i=this.$tabLinks,i=(t?n=i.filter("[data-tab-ref="+t+"]"):t=(n=i.eq(0)).data("tab-ref"),f("#"+t)),n=parseInt(n.find(".js-ucbs__tab-nr").text());n<=0?(f("#"+t).find(".js-ucbs__controls").hide(),f("#"+t).find(".js-ucbs__sum").hide()):(f("#"+t).find(".js-ucbs__controls").show(),f("#"+t).find(".js-ucbs__sum").show()),0===n?(t=T.Utils.Template.get(e.data("tpl-info"))({msg:e.data("msg-info-zero-ucbs")}),(n=f(t)).addClass("js-ucbs_no-ucb-info"),i.find(".js-ucbs_no-ucb-info").length||i.append(n)):i.find(".js-ucbs_no-ucb-info").length&&i.find(".js-ucbs_no-ucb-info").remove();},_trackUcbs:function _trackUcbs(t){t=t||{};for(var e,i=this,n=f(i._ctx).find('[data-tab-ref="'+i.state.tabId+'"]'),s=f("#"+i.state.tabId),o=f(".m-ucb",s),a=f("#"+i.CONST.TABIDS[0]).find(".m-ucb").length,r=f("#"+i.CONST.TABIDS[1]).find(".m-ucb").length,l=f("#"+i.CONST.TABIDS[2]).find(".m-ucb").length,h=a+l,a=a-r,c=[],u=0,d=0,p=i.ucbs.length;d<p;d++){u+=i.ucbs[d].amount||0;}o.each(function(t){e=f(this),e=i._getModelByItemId(e.data("item-id")),c.push({name:e.titleText,id:"",position:t+1,price:"",list:n.data("tracking-key")||"",brand:"cumulus bon",category:e.amount+".- Fr.",variant:"gueltig_"+e.expirationDate});}),i._track({event:"ucbBons",action:t.action||"",list:n.data("tracking-key")||"",sortSelected:s.find(".js-ucbs__sort .is-active").data("tracking-key")||"",ucbsSum:h+"",ucbsSumValue:"Fr. "+u+".-",ucbsActivated:r+"",ucbsDeactivated:a+"",ucbsUsed:l+""}),i._track({event:"ucbImpression",ecommerce:{impressions:c}});}});}(jQuery),$(document).ready(function(){var t=new T.Application(document,{appContext:"/"});t.registerModules(),t.start();});//# sourceMappingURL=main.min.js.map
//# sourceMappingURL=main.min.js.map
