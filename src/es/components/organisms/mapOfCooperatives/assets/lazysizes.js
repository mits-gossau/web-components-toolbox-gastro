/*! lazysizes - v1.2.2 */
!function(e){var t=function(o,l){"use strict";if(l.getElementsByClassName){var k,t=l.documentElement,i=o.HTMLPictureElement&&"sizes"in l.createElement("img"),O="addEventListener",P=o[O],$=o.setTimeout,F=o.requestAnimationFrame||$,c=o.setImmediate||$,I=/^picture$/i,n=["load","error","lazyincluded","_lazyloaded"],a={},H=Array.prototype.forEach,j=function(e,t){return a[t]||(a[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),a[t].test(e.className)&&a[t]},q=function(e,t){j(e,t)||(e.className=e.className.trim()+" "+t)},G=function(e,t){var a;(a=j(e,t))&&(e.className=e.className.replace(a," "))},J=function(t,a,e){var i=e?O:"removeEventListener";e&&J(t,a),n.forEach(function(e){t[i](e,a)})},K=function(e,t,a,i,n){var r=l.createEvent("CustomEvent");return r.initCustomEvent(t,!i,!n,a||{}),e.dispatchEvent(r),r},Q=function(e,t){var a;!i&&(a=o.picturefill||o.respimage||k.pf)?a({reevaluate:!0,elements:[e]}):t&&t.src&&(e.src=t.src)},U=function(e,t){return(getComputedStyle(e,null)||{})[t]},d=function(e,t,a){for(a=a||e.offsetWidth;a<k.minSize&&t&&!e._lazysizesWidth;)a=t.offsetWidth,t=t.parentNode;return a},V=function(e){var t,a=0,i=o.Date,n=function(){t=!1,a=i.now(),e()},r=function(){c(n)},s=function(){F(r)};return function(){if(!t){var e=125-(i.now()-a);t=!0,6>e&&(e=6),$(s,e)}}},e=function(){var c,d,u,f,m,a,g,z,v,y,p,h,i,n,A,C,b=/^img$/i,E=/^iframe$/i,N="onscroll"in o&&!/glebot/.test(navigator.userAgent),M=0,w=0,_=0,x=0,B=function(e){_--,e&&e.target&&J(e.target,B),(!e||0>_||!e.target)&&(_=0)},W=function(e,t){var a,i=e,n="hidden"!=U(e,"visibility");for(v-=t,h+=t,y-=t,p+=t;n&&(i=i.offsetParent);)n=(U(i,"opacity")||1)>0,n&&"visible"!=U(i,"overflow")&&(a=i.getBoundingClientRect(),n=p>a.left&&y<a.right&&h>a.top-1&&v<a.bottom+1);return n},e=function(){var e,t,a,i,n,r,s,o,l;if((m=k.loadMode)&&8>_&&(e=c.length)){for(t=0,x++,C>w&&1>_&&x>3&&m>2?(w=C,x=0):w=m>1&&x>2&&6>_?A:M;e>t;t++)if(c[t]&&!c[t]._lazyRace)if(N)if((o=c[t].getAttribute("data-expand"))&&(r=1*o)||(r=w),l!==r&&(g=innerWidth+r,z=innerHeight+r,s=-1*r,l=r),a=c[t].getBoundingClientRect(),(h=a.bottom)>=s&&(v=a.top)<=z&&(p=a.right)>=s&&(y=a.left)<=g&&(h||p||y||v)&&(u&&3>_&&!o&&(3>m||4>x)||W(c[t],r))){if(T(c[t]),n=!0,_>9)break;_>6&&(w=M)}else!n&&u&&!i&&4>_&&4>x&&m>2&&(d[0]||k.preloadAfterLoad)&&(d[0]||!o&&(h||p||y||v||"auto"!=c[t].getAttribute(k.sizesAttr)))&&(i=d[0]||c[t]);else T(c[t]);i&&!n&&T(i)}},r=V(e),S=function(e){q(e.target,k.loadedClass),G(e.target,k.loadingClass),J(e.target,S)},L=function(t,a){try{t.contentWindow.location.replace(a)}catch(e){t.setAttribute("src",a)}},R=function(e){var t,a,i=e.getAttribute(k.srcsetAttr);(t=k.customMedia[e.getAttribute("data-media")||e.getAttribute("media")])&&e.setAttribute("media",t),i&&e.setAttribute("srcset",i),t&&(a=e.parentNode,a.insertBefore(e.cloneNode(),e),a.removeChild(e))},D=function(){var t,a=[],i=function(){for(;a.length;)a.shift()();t=!1};return function(e){a.push(e),t||(t=!0,F(i))}}(),T=function(e){var t,a,i,n,r,s,o,l=b.test(e.nodeName),c=l&&(e.getAttribute(k.sizesAttr)||e.getAttribute("sizes")),d="auto"==c;(!d&&u||!l||!e.src&&!e.srcset||e.complete||j(e,k.errorClass))&&(d&&(o=e.offsetWidth),e._lazyRace=!0,_++,D(function(){e._lazyRace&&delete e._lazyRace,G(e,k.lazyClass),(r=K(e,"lazybeforeunveil")).defaultPrevented||(c&&(d?(q(e,k.autosizesClass),X.updateElem(e,!0,o)):e.setAttribute("sizes",c)),a=e.getAttribute(k.srcsetAttr),t=e.getAttribute(k.srcAttr),l&&(i=e.parentNode,n=i&&I.test(i.nodeName||"")),s=r.detail.firesLoad||"src"in e&&(a||t||n),r={target:e},s&&(J(e,B,!0),clearTimeout(f),f=$(B,2500),q(e,k.loadingClass),J(e,S,!0)),n&&H.call(i.getElementsByTagName("source"),R),a?e.setAttribute("srcset",a):t&&!n&&(E.test(e.nodeName)?L(e,t):e.setAttribute("src",t)),(a||n)&&Q(e,{src:t})),(!s||e.complete)&&(s?B(r):_--,S(r))}))},s=function(){if(!u){if(Date.now()-a<999)return void $(s,999);var e,t=function(){k.loadMode=3,A=i,r()};u=!0,k.loadMode=3,_||r(),P("scroll",function(){3==k.loadMode&&(A=n,k.loadMode=2),clearTimeout(e),e=$(t,99)},!0)}};return{_:function(){a=Date.now(),c=l.getElementsByClassName(k.lazyClass),d=l.getElementsByClassName(k.lazyClass+" "+k.preloadClass),A=k.expand,i=A,n=A*((k.expFactor+1)/2),C=A*k.expFactor,P("scroll",r,!0),P("resize",r,!0),o.MutationObserver?new MutationObserver(r).observe(t,{childList:!0,subtree:!0,attributes:!0}):(t[O]("DOMNodeInserted",r,!0),t[O]("DOMAttrModified",r,!0),setInterval(r,999)),P("hashchange",r,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){l[O](e,r,!0)}),/d$|^c/.test(l.readyState)?s():(P("load",s),l[O]("DOMContentLoaded",r),$(s,2e4)),r(c.length>0)},checkElems:r,unveil:T}}(),X=function(){var a,i=function(e,t,a){var i,n,r,s,o=e.parentNode;if(o&&(a=d(e,o,a),s=K(e,"lazybeforesizes",{width:a,dataAttr:!!t}),!s.defaultPrevented&&(a=s.detail.width,a&&a!==e._lazysizesWidth))){if(e._lazysizesWidth=a,a+="px",e.setAttribute("sizes",a),I.test(o.nodeName||""))for(i=o.getElementsByTagName("source"),n=0,r=i.length;r>n;n++)i[n].setAttribute("sizes",a);s.detail.dataAttr||Q(e,s.detail)}},e=function(){var e,t=a.length;if(t)for(e=0;t>e;e++)i(a[e])},t=V(e);return{_:function(){a=l.getElementsByClassName(k.autosizesClass),P("resize",t)},checkElems:t,updateElem:i}}(),r=function(){r.i||(r.i=!0,X._(),e._())};{{var s,u={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:2,expand:359,loadMode:2};k=o.lazySizesConfig||o.lazysizesConfig||{};for(s in u)s in k||(k[s]=u[s]);o.lazySizesConfig=k,$(function(){k.init&&r()})}return{cfg:k,autoSizer:X,loader:e,init:r,uP:Q,aC:q,rC:G,hC:j,fire:K,gW:d}}}}(e,e.document);e.lazySizes=t,"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd&&define(t)}(window);
//# sourceMappingURL=lazysizes.js.map